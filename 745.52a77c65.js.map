{"version":3,"file":"745.52a77c65.js","mappings":"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","sources":["webpack://ads-ui/./src/app/components/if.tsx","webpack://ads-ui/./src/app/components/artifact-type-icon.tsx","webpack://ads-ui/./src/app/components/is-loading.tsx","webpack://ads-ui/./src/app/components/if-not-empty.tsx","webpack://ads-ui/./src/app/components/list-with-toolbar.tsx","webpack://ads-ui/./src/app/components/toggle-icon.tsx","webpack://ads-ui/./src/app/components/navlink.tsx","webpack://ads-ui/./src/app/components/object-select.tsx","webpack://ads-ui/./src/app/contexts/navigation.ts","webpack://ads-ui/./src/app/models/rhosr-instance/artifact-types.model.ts","webpack://ads-ui/./src/app/models/rhosr-instance/content-types.model.ts","webpack://ads-ui/./src/app/pages/components/home/artifact-group.tsx","webpack://ads-ui/./src/app/pages/components/home/artifact-name.tsx","webpack://ads-ui/./src/app/pages/components/home/artifact-selector.tsx","webpack://ads-ui/./src/app/pages/components/home/artifact-list.tsx","webpack://ads-ui/./src/app/pages/components/home/artifact-list-item.tsx","webpack://ads-ui/./src/app/pages/components/home/artifact-list-toolbar.tsx","webpack://ads-ui/./src/app/pages/components/home/create-design.modal.tsx","webpack://ads-ui/./src/app/pages/components/home/delete-design.modal.tsx","webpack://ads-ui/./src/app/pages/components/home/design-list.tsx","webpack://ads-ui/./src/app/pages/components/home/designs.panel.tsx","webpack://ads-ui/./src/app/pages/components/home/import-dropdown.tsx","webpack://ads-ui/./src/app/pages/components/home/designs-empty-state.tsx","webpack://ads-ui/./src/app/pages/components/home/designs-empty-state-filtered.tsx","webpack://ads-ui/./src/app/pages/components/home/designs-toolbar.tsx","webpack://ads-ui/./src/app/pages/components/home/import-design.modal.tsx","webpack://ads-ui/./src/app/pages/components/home/import-from-rhosr.modal.tsx","webpack://ads-ui/./src/app/pages/components/home/template-item.tsx","webpack://ads-ui/./src/app/pages/components/home/url-upload.tsx","webpack://ads-ui/./src/app/pages/components/editor/editor-context.tsx","webpack://ads-ui/./src/app/pages/components/shared/export-to-rhosr.modal.tsx","webpack://ads-ui/./src/app/services/rhosr-instance.ts","webpack://ads-ui/./src/app/services/designs.ts","webpack://ads-ui/./src/app/services/_templates/asyncapi.templates.ts","webpack://ads-ui/./src/app/services/_templates/openapi.templates.ts","webpack://ads-ui/./src/app/services/_templates/json.templates.ts","webpack://ads-ui/./src/app/services/_templates/avro.templates.ts","webpack://ads-ui/./src/app/services/_templates/protobuf.templates.ts","webpack://ads-ui/./src/app/services/templates.ts","webpack://ads-ui/./src/app/services/download.ts","webpack://ads-ui/./src/app/services/url.ts","webpack://ads-ui/./src/app/services/local-storage.ts","webpack://ads-ui/./src/app/services/rhosr.ts","webpack://ads-ui/./src/app/utils/object.utils.ts","webpack://ads-ui/./src/app/utils/content.utils.ts","webpack://ads-ui/./src/app/utils/design.utils.ts","webpack://ads-ui/./src/app/utils/rest.utils.ts"],"sourcesContent":["import React, {FunctionComponent} from \"react\";\n\n/**\n * Properties\n */\nexport type IfProps = {\n    condition: boolean | (() => boolean);\n    children?: React.ReactNode;\n};\n\n/**\n * Wrapper around a set of arbitrary child elements and displays them only if the\n * indicated condition is true.\n */\nexport const If: FunctionComponent<IfProps> = ({condition, children}: IfProps) => {\n    const accept = () => {\n        if (typeof condition === \"boolean\") {\n            return condition;\n        } else {\n            return condition();\n        }\n    }\n\n    return (accept() ? <React.Fragment children={children} /> : <React.Fragment />);\n};\n","import React, {FunctionComponent} from \"react\";\nimport \"./artifact-type-icon.css\";\nimport {ArtifactTypes} from \"@app/models\";\n\n/**\n * Properties\n */\nexport type ArtifactTypeIconProps = {\n    type: string;\n    isShowLabel?: boolean;\n}\n\n\nexport const ArtifactTypeIcon: FunctionComponent<ArtifactTypeIconProps> = ({type, isShowLabel}: ArtifactTypeIconProps) => {\n    const getTitle = (): string => {\n        let title: string = type;\n        switch (type) {\n            case ArtifactTypes.AVRO:\n                title = \"Avro Schema\";\n                break;\n            case ArtifactTypes.PROTOBUF:\n                title = \"Protobuf Schema\";\n                break;\n            case ArtifactTypes.JSON:\n                title = \"JSON Schema\";\n                break;\n            case ArtifactTypes.OPENAPI:\n                title = \"OpenAPI Definition\";\n                break;\n            case ArtifactTypes.ASYNCAPI:\n                title = \"AsyncAPI Definition\";\n                break;\n            case ArtifactTypes.GRAPHQL:\n                title = \"GraphQL Definition\";\n                break;\n            case ArtifactTypes.KCONNECT:\n                title = \"Kafka Connect Schema\";\n                break;\n            case ArtifactTypes.WSDL:\n                title = \"WSDL\";\n                break;\n            case ArtifactTypes.XSD:\n                title = \"XML Schema\";\n                break;\n            case ArtifactTypes.XML:\n                title = \"XML\";\n                break;\n        }\n        return title;\n    };\n\n    const getLabel = (): string => {\n        let title: string = type;\n        switch (type) {\n            case ArtifactTypes.AVRO:\n                title = \"Avro\";\n                break;\n            case ArtifactTypes.PROTOBUF:\n                title = \"Protobuf\";\n                break;\n            case ArtifactTypes.JSON:\n                title = \"JSON schema\";\n                break;\n            case ArtifactTypes.OPENAPI:\n                title = \"OpenAPI\";\n                break;\n            case ArtifactTypes.ASYNCAPI:\n                title = \"AsyncAPI\";\n                break;\n            case ArtifactTypes.GRAPHQL:\n                title = \"GraphQL\";\n                break;\n            case ArtifactTypes.KCONNECT:\n                title = \"Kafka Connect\";\n                break;\n            case ArtifactTypes.WSDL:\n                title = \"WSDL\";\n                break;\n            case ArtifactTypes.XSD:\n                title = \"XML Schema\";\n                break;\n            case ArtifactTypes.XML:\n                title = \"XML\";\n                break;\n        }\n        return title;\n    };\n\n    const getClassNames = (): string => {\n        let classes: string = \"artifact-type-icon\";\n        if (isShowLabel) {\n            classes += \" artifact-type-icon-with-label\";\n        }\n        switch (type) {\n            case ArtifactTypes.AVRO:\n                classes += \" avro-icon24\";\n                break;\n            case ArtifactTypes.PROTOBUF:\n                classes += \" protobuf-icon24\";\n                break;\n            case ArtifactTypes.JSON:\n                classes += \" json-icon24\";\n                break;\n            case ArtifactTypes.OPENAPI:\n                classes += \" oai-icon24\";\n                break;\n            case ArtifactTypes.ASYNCAPI:\n                classes += \" aai-icon24\";\n                break;\n            case ArtifactTypes.GRAPHQL:\n                classes += \" graphql-icon24\";\n                break;\n            case ArtifactTypes.KCONNECT:\n                classes += \" kconnect-icon24\";\n                break;\n            case ArtifactTypes.WSDL:\n                classes += \" xml-icon24\";\n                break;\n            case ArtifactTypes.XSD:\n                classes += \" xml-icon24\";\n                break;\n            case ArtifactTypes.XML:\n                classes += \" xml-icon24\";\n                break;\n        }\n        return classes;\n    }\n\n    const renderLabel = (): React.ReactNode | undefined => {\n        if (isShowLabel) {\n            return <span>{getLabel()}</span>\n        } else {\n            return undefined;\n        }\n    };\n\n    return (\n        <div className={getClassNames()} title={getTitle()} children={renderLabel()} />\n    );\n}\n","import React, {FunctionComponent} from \"react\";\nimport {Spinner} from \"@patternfly/react-core\";\n\n/**\n * Properties\n */\nexport type IsLoadingProps = {\n    condition: boolean | (() => boolean);\n    loadingComponent?: React.ReactNode;\n    children?: React.ReactNode;\n}\n\n/**\n * Displays a Spinner control while the condition property is true.  When false, the provided children\n * are displayed.  Useful when displaying content from the results of an async operation such as a REST\n * call.\n */\nexport const IsLoading: FunctionComponent<IsLoadingProps> = ({condition, loadingComponent, children}: IsLoadingProps) => {\n    const accept = () => {\n        if (typeof condition === \"boolean\") {\n            return condition;\n        } else {\n            return condition();\n        }\n    }\n    const lc: React.ReactNode = loadingComponent || <Spinner />;\n    return (accept() ? <React.Fragment children={lc} /> : <React.Fragment children={children} />);\n};\n","import React, {FunctionComponent} from \"react\";\nimport {Button, EmptyState, EmptyStateBody, EmptyStateVariant, Title} from \"@patternfly/react-core\";\n\n/**\n * Properties\n */\nexport type IfNotEmptyProps = {\n    collection?: any[];\n    emptyState?: React.ReactNode;\n    emptyStateTitle?: string;\n    emptyStateMessage?: string;\n    children?: React.ReactNode;\n}\n\n/**\n * Wrapper around a set of arbitrary child elements and displays them only if the\n * provided collection is not empty.  If the provided collection is empty, then\n * an empty state control is displayed instead.\n */\nexport const IfNotEmpty: FunctionComponent<IfNotEmptyProps> = ({collection, emptyState, emptyStateTitle, emptyStateMessage, children}: IfNotEmptyProps) => {\n    const isEmpty = () => {\n        return !collection || collection.length === 0;\n    };\n\n    const empty: React.ReactNode = emptyState || (\n        <EmptyState variant={EmptyStateVariant.xs}>\n            <Title headingLevel=\"h4\" size=\"md\">{emptyStateTitle || \"None found\"}</Title>\n            <EmptyStateBody>{emptyStateMessage || \"No items found.\"}</EmptyStateBody>\n        </EmptyState>\n    );\n\n    return isEmpty() ?\n        <React.Fragment children={empty}/> :\n        <React.Fragment children={children} />\n};\n","import React, {FunctionComponent} from \"react\";\nimport {IsLoading} from \"@app/components/is-loading\";\nimport {If} from \"@app/components/if\";\nimport {IfNotEmpty} from \"@app/components/if-not-empty\";\n\n/**\n * Properties\n */\nexport type ListWithToolbarProps = {\n    toolbar: React.ReactNode;\n    emptyState: React.ReactNode;\n    filteredEmptyState: React.ReactNode;\n    isLoading: boolean;\n    isFiltered: boolean;\n    isEmpty: boolean;\n    children?: React.ReactNode;\n};\n\n/**\n * Wrapper around a set of arbitrary child elements and displays them only if the\n * indicated condition is true.\n */\nexport const ListWithToolbar: FunctionComponent<ListWithToolbarProps> = (\n    {toolbar, emptyState, filteredEmptyState, isLoading, isEmpty, isFiltered, children}: ListWithToolbarProps) => {\n\n    return (\n        <React.Fragment>\n            <If condition={!isEmpty || isFiltered} children={toolbar} />\n            <IsLoading condition={isLoading}>\n                <If condition={!isEmpty} children={children} />\n                <If condition={isEmpty && isFiltered} children={filteredEmptyState} />\n                <If condition={isEmpty && !isFiltered} children={emptyState} />\n            </IsLoading>\n        </React.Fragment>\n    );\n};\n","import React, {FunctionComponent} from \"react\";\nimport {ChevronRightIcon, ChevronDownIcon} from \"@patternfly/react-icons\";\n\n/**\n * Properties\n */\nexport type ToggleIconProps = {\n    expanded: boolean;\n    onClick: () => void;\n};\n\nexport const ToggleIcon: FunctionComponent<ToggleIconProps> = ({expanded, onClick}: ToggleIconProps) => {\n    return expanded ? (\n        <ChevronDownIcon />\n    ) : (\n        <ChevronRightIcon />\n    );\n};\n","import React, {FunctionComponent} from \"react\";\nimport {useNavigation, Navigation} from \"@app/contexts/navigation\";\n\nexport type NavLinkProps = {\n    location: string;\n    className?: string;\n    children?: React.ReactNode;\n}\n\nexport const NavLink: FunctionComponent<NavLinkProps> = ({location, className, children}: NavLinkProps) => {\n    const nav: Navigation = useNavigation();\n    return (\n        <a className={className} onClick={() => nav.navigateTo(location)} children={children} />\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Select, SelectOption, SelectVariant} from \"@patternfly/react-core\";\nimport {SelectOptionObject} from \"@patternfly/react-core/src/components/Select/SelectOption\";\n\ninterface ObjectSelectOptionObject extends SelectOptionObject {\n    item: any;\n}\n\n/**\n * Properties\n */\nexport type ObjectSelectProps = {\n    value: any;\n    items: any[];\n    onSelect: (value: any) => void;\n    itemToString: (value: any) => string;\n    noSelectionLabel?: string;\n    menuAppendTo?: HTMLElement | (() => HTMLElement) | 'parent' | 'inline';\n};\n\n/**\n * A generic control that makes it easier to create a <Select> from an array of objects.\n */\nexport const ObjectSelect: FunctionComponent<ObjectSelectProps> = (\n    {value, items, onSelect, itemToString, noSelectionLabel, menuAppendTo}: ObjectSelectProps) => {\n\n    const [isToggled, setToggled] = useState<boolean>(false);\n    const [selectObjects, setSelectObjects] = useState<ObjectSelectOptionObject[]>();\n    const [selections, setSelections] = useState<ObjectSelectOptionObject[]>();\n\n    const onSelectInternal = (event: React.MouseEvent | React.ChangeEvent, value: string | SelectOptionObject): void => {\n        setToggled(false);\n        onSelect((value as ObjectSelectOptionObject).item);\n    };\n\n    useEffect(() => {\n        const theItems: any[] = items || [];\n        const selectObjects: ObjectSelectOptionObject[] = theItems.map((item, index) => {\n            return {\n                item: item,\n                toString: () => {\n                    return itemToString(item)\n                }\n            }\n        });\n        if (noSelectionLabel !== undefined) {\n            const noSelection: ObjectSelectOptionObject = {\n                item: undefined,\n                toString(): string {\n                    return noSelectionLabel;\n                }\n            }\n            setSelectObjects([\n                noSelection, ...selectObjects\n            ]);\n        } else {\n            setSelectObjects(selectObjects);\n        }\n    }, [items]);\n\n    useEffect(() => {\n        const filtered: ObjectSelectOptionObject[]|undefined = selectObjects?.filter(soo => soo.item === value);\n        setSelections(filtered);\n    }, [value]);\n\n    return (\n        <Select menuAppendTo={menuAppendTo} variant={SelectVariant.single} onToggle={setToggled} onSelect={onSelectInternal} isOpen={isToggled} selections={selections}>\n            {\n                selectObjects?.map((soo, index) => (\n                    <SelectOption isPlaceholder={soo.item === undefined} key={index} value={soo} />\n                ))\n            }\n        </Select>\n    )\n};\n","import {Basename, useBasename} from \"@rhoas/app-services-ui-shared\";\nimport {History} from \"history\";\nimport {useHistory} from \"react-router-dom\";\n\nexport const navigateTo: (path: string, basename: Basename, history: History) => void = (path: string, basename: Basename, history: History) => {\n    const to: string = `${basename.getBasename()}${path}`;\n    history.push(to);\n};\n\nexport type Navigation = {\n    navigateTo: (path: string) => void;\n};\n\nexport const useNavigation: () => Navigation = (): Navigation => {\n    const history: History = useHistory();\n    const basename: Basename = useBasename();\n\n    return {\n        navigateTo: (path: string) => {\n            return navigateTo(path, basename, history);\n        }\n    };\n}\n","\nexport class ArtifactTypes {\n\n    public static AVRO: string = \"AVRO\";\n    public static PROTOBUF: string = \"PROTOBUF\";\n    public static JSON: string = \"JSON\";\n    public static OPENAPI: string = \"OPENAPI\";\n    public static ASYNCAPI: string = \"ASYNCAPI\";\n    public static GRAPHQL: string = \"GRAPHQL\";\n    public static KCONNECT: string = \"KCONNECT\";\n    public static WSDL: string = \"WSDL\";\n    public static XSD: string = \"XSD\";\n    public static XML: string = \"XML\";\n\n}\n","\nexport class ContentTypes {\n\n    public static APPLICATION_JSON: string = \"application/json\";\n    public static APPLICATION_YAML: string = \"application/x-yaml\";\n    public static APPLICATION_XML: string = \"application/xml\";\n    public static APPLICATION_PROTOBUF: string = \"application/x-protobuf\";\n    public static APPLICATION_GRAPHQL: string = \"application/graphql\";\n\n    public static TEXT_XML: string = \"text/xml\";\n    public static APPLICATION_WSDL: string = \"application/wsdl+xml\";\n}\n","import React, {FunctionComponent} from \"react\";\n\n/**\n * Properties\n */\nexport type ArtifactGroupProps = {\n    groupId: string|null;\n}\n\n/**\n * Displays a RHOSR artifact's group.\n */\nexport const ArtifactGroup: FunctionComponent<ArtifactGroupProps> = ({groupId}: ArtifactGroupProps) => {\n    const style = (): string => {\n        return !groupId ? \"nogroup\" : \"group\";\n    };\n\n    return (\n        <span className={style()}>{groupId}</span>\n    );\n};\n","import React, {FunctionComponent} from \"react\";\n\n/**\n * Properties\n */\nexport type ArtifactNameProps = {\n    id: string;\n    name: string;\n}\n\n/**\n * Displays a RHOSR artifact's name.\n */\nexport const ArtifactName: FunctionComponent<ArtifactNameProps> = ({id, name}: ArtifactNameProps) => {\n    return name ? (\n        <React.Fragment>\n            <span className=\"name\">{name}</span>\n            <span className=\"id\">{id}</span>\n        </React.Fragment>\n    ) : (\n        <React.Fragment>\n            <span className=\"name\">{id}</span>\n        </React.Fragment>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Registry} from \"@rhoas/registry-management-sdk\";\nimport {\n    ArtifactSearchResults,\n    CreateDesignContent,\n    GetArtifactsCriteria,\n    Paging,\n    SearchedArtifact,\n    SearchedVersion\n} from \"@app/models\";\nimport {RhosrInstanceService, RhosrInstanceServiceFactory, useRhosrInstanceServiceFactory} from \"@app/services\";\nimport {ArtifactList, ArtifactListToolbar, ArtifactListToolbarCriteria} from \"@app/pages/components\";\nimport {IfNotEmpty, IsLoading} from \"@app/components\";\n\n/**\n * Properties\n */\nexport type ArtifactSelectorProps = {\n    registries: Registry[];\n    onSelected: (registry?: Registry, artifact?: SearchedArtifact, version?: SearchedVersion, content?: CreateDesignContent) => void;\n};\n\n/**\n * A control that allows the user to find and select a single version of a single artifact from\n * a service registry instance.\n */\nexport const ArtifactSelector: FunctionComponent<ArtifactSelectorProps> = ({registries, onSelected}: ArtifactSelectorProps) => {\n    const [ querying, setQuerying ] = useState(true);\n    const [ paging, setPaging ] = useState<Paging>({\n        pageSize: 20,\n        page: 1\n    });\n    const [ criteria, setCriteria ] = useState<ArtifactListToolbarCriteria>({\n        filterValue: \"\",\n        ascending: true,\n        filterSelection: \"name\"\n    });\n    const [ registry, setRegistry ] = useState<Registry>();\n    const [ artifacts, setArtifacts ] = useState<ArtifactSearchResults|undefined>();\n    const [ rhosrInstance, setRhosrInstance ] = useState<RhosrInstanceService>();\n\n    const rhosrInstanceFactory: RhosrInstanceServiceFactory = useRhosrInstanceServiceFactory();\n\n    const onRegistrySelected = (registry: Registry): void => {\n        setRegistry(registry);\n    };\n\n    const onCriteriaChange = (criteria: ArtifactListToolbarCriteria): void =>  {\n        setCriteria(criteria);\n    };\n\n    const onPagingChange = (paging: Paging): void => {\n        setPaging(paging);\n    };\n\n    const fetchArtifactVersions = (artifact: SearchedArtifact): Promise<SearchedVersion[]> => {\n        const ri: RhosrInstanceService = rhosrInstance as RhosrInstanceService;\n        return ri.getArtifactVersions(artifact.groupId, artifact.id);\n    };\n\n    const fetchArtifactContent = (artifact: SearchedArtifact, version?: SearchedVersion): Promise<string> => {\n        const ri: RhosrInstanceService = rhosrInstance as RhosrInstanceService;\n        return ri.getArtifactContent(artifact.groupId, artifact.id, version?.version||\"latest\");\n    };\n\n    const onArtifactSelected = (artifact?: SearchedArtifact, version?: SearchedVersion, content?: CreateDesignContent): void => {\n        onSelected(registry, artifact, version, content);\n    };\n\n    // Initialization\n    useEffect(() => {\n        if (registries && registries.length > 0) {\n            setRegistry(registries[0]);\n        }\n    }, []);\n\n    // Whenever the registry changes, create a rhosr instance service for it.\n    useEffect(() => {\n        if (registry) {\n            const rhosrInstance: RhosrInstanceService = rhosrInstanceFactory.createFor(registry as Registry);\n            setRhosrInstance(rhosrInstance);\n        }\n    }, [registry]);\n\n    // Query for artifacts when relevant changes occur.\n    useEffect(() => {\n        if (rhosrInstance) {\n            const gac: GetArtifactsCriteria = {\n                sortAscending: criteria.ascending,\n                type: criteria.filterSelection,\n                value: criteria.filterValue\n            };\n            setQuerying(true);\n            rhosrInstance.getArtifacts(gac, paging).then(results => {\n                setArtifacts(results);\n                setQuerying(false);\n            }).catch(error => {\n                // TODO handle error\n                console.error(\"[RegistryPage] Error searching for artifacts: \", error);\n            });\n        }\n        onSelected(undefined, undefined, undefined);\n    }, [rhosrInstance, criteria, paging]);\n\n    return (\n        <React.Fragment>\n            <ArtifactListToolbar registries={registries} criteria={criteria} paging={paging}\n                                 onRegistrySelected={onRegistrySelected}\n                                 onCriteriaChange={onCriteriaChange} onPagingChange={onPagingChange}\n                                 artifacts={artifacts} />\n            <IsLoading condition={querying}>\n                <IfNotEmpty collection={artifacts?.artifacts} emptyStateMessage={`No artifacts found matching the search criteria.`}>\n                    <ArtifactList artifacts={artifacts?.artifacts} fetchArtifactContent={fetchArtifactContent}\n                                  onArtifactSelected={onArtifactSelected}\n                                  fetchArtifactVersions={fetchArtifactVersions} />\n                </IfNotEmpty>\n            </IsLoading>\n        </React.Fragment>\n    );\n};\n","import React, {FunctionComponent, useState} from \"react\";\nimport \"./artifact-list.css\";\nimport {CreateDesignContent, SearchedArtifact, SearchedVersion} from \"@app/models\";\nimport {ArtifactListItem} from \"@app/pages/components\";\n\n/**\n * Properties\n */\nexport type ArtifactListProps = {\n    artifacts?: SearchedArtifact[];\n    fetchArtifactVersions: (artifact: SearchedArtifact) => Promise<SearchedVersion[]>;\n    fetchArtifactContent: (artifact: SearchedArtifact, version?: SearchedVersion) => Promise<string>;\n    onArtifactSelected: (artifact?: SearchedArtifact, version?: SearchedVersion, content?: CreateDesignContent) => void;\n}\n\n/**\n * A list of artifacts in a RHOSR instance.\n */\nexport const ArtifactList: FunctionComponent<ArtifactListProps> = (\n    {artifacts, fetchArtifactVersions, fetchArtifactContent, onArtifactSelected}: ArtifactListProps) => {\n\n    const [selectedArtifact, setSelectedArtifact] = useState<SearchedArtifact>();\n\n    const onArtifactSelectedInternal = (artifact: SearchedArtifact): void => {\n        console.debug(\"[ArtifactList] Artifact selected: \", artifact);\n        setSelectedArtifact(artifact);\n    };\n\n    const onArtifactUnselectedInternal = (artifact: SearchedArtifact): void => {\n        console.debug(\"[ArtifactList] Artifact unselected: \", artifact);\n        setSelectedArtifact(undefined);\n        onArtifactSelected(undefined, undefined, undefined);\n    };\n\n    const onArtifactLoaded = (artifact: SearchedArtifact, version: SearchedVersion, content: CreateDesignContent): void => {\n        console.debug(\"[ArtifactList] Artifact loaded: \", artifact);\n        console.debug(\"[ArtifactList] Selected Artifact: \", selectedArtifact);\n        if (artifact === selectedArtifact) {\n            onArtifactSelected(artifact, version, content);\n        }\n    };\n\n    return (\n        <div className=\"artifact-list\">\n            {\n                artifacts?.map( (artifact, idx) =>\n                    <ArtifactListItem artifact={artifact} key={idx}\n                                      onSelected={onArtifactSelectedInternal}\n                                      onUnselected={onArtifactUnselectedInternal}\n                                      fetchArtifactVersions={fetchArtifactVersions}\n                                      fetchArtifactContent={fetchArtifactContent}\n                                      onArtifactLoaded={onArtifactLoaded}\n                                      isSelected={selectedArtifact === artifact} />\n                )\n            }\n        </div>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport \"./artifact-list-item.css\";\nimport {ArtifactTypes, ContentTypes, CreateDesignContent, SearchedArtifact, SearchedVersion} from \"@app/models\";\nimport {\n    Badge,\n    DataList,\n    DataListCell,\n    DataListCheck,\n    DataListItemCells,\n    DataListItemRow,\n    Radio, Spinner\n} from \"@patternfly/react-core\";\nimport {ArtifactTypeIcon, If, IsLoading, ObjectSelect} from \"@app/components\";\nimport {ArtifactGroup, ArtifactName} from \"@app/pages/components\";\nimport {isJson, isXml, isYaml} from \"@app/utils\";\n\n/**\n * Properties\n */\nexport type ArtifactListItemProps = {\n    artifact: SearchedArtifact;\n    isSelected: boolean;\n    onSelected: (artifact: SearchedArtifact) => void;\n    onUnselected: (artifact: SearchedArtifact) => void;\n    onArtifactLoaded: (artifact: SearchedArtifact, version: SearchedVersion, content: CreateDesignContent) => void;\n    fetchArtifactVersions: (artifact: SearchedArtifact) => Promise<SearchedVersion[]>;\n    fetchArtifactContent: (artifact: SearchedArtifact, version?: SearchedVersion) => Promise<string>;\n}\n\n/**\n * A list of artifacts in a RHOSR instance.\n */\nexport const ArtifactListItem: FunctionComponent<ArtifactListItemProps> = (\n    {artifact, isSelected, onSelected, onUnselected, onArtifactLoaded, fetchArtifactVersions, fetchArtifactContent}: ArtifactListItemProps) => {\n\n    const [isLoading, setLoading] = useState<boolean>(false);\n    const [versions, setVersions] = useState<SearchedVersion[]>();\n    const [selectedVersion, setSelectedVersion] = useState<SearchedVersion>();\n    const [content, setContent] = useState<string>();\n    const [isContentLoaded, setContentLoaded] = useState<boolean>(false);\n\n    const labels = (): string[] => {\n        return artifact.labels ? artifact.labels : [];\n    };\n    const statuses = (): string[] => {\n        const rval: string[] = [];\n        if (artifact.state === \"DISABLED\") {\n            rval.push(\"Disabled\");\n        }\n        if (artifact.state === \"DEPRECATED\") {\n            rval.push(\"Deprecated\");\n        }\n        return rval;\n    };\n    const description = (): string => {\n        if (artifact.description) {\n            return artifact.description;\n        }\n        return `An artifact of type ${artifact.type} with no description.`;\n    };\n\n    const shouldLoadVersions = (): boolean => {\n        return versions === undefined || versions.length === 0;\n    };\n\n    const loadVersions = (): void => {\n        setContentLoaded(false);\n        setLoading(true);\n        console.debug(`[ArtifactListItem] Loading versions for ${artifact.id}`);\n        fetchArtifactVersions(artifact).then(versions => {\n            setVersions(versions);\n            setLoading(false);\n            onVersionSelect(undefined);\n        }).catch(error => {\n            // TODO handle errors\n        });\n    };\n\n    const onToggleSelected = (event: any): void => {\n        // Bit of a hack - if the user clicks the Version drop-down, don't do the\n        // artifact item toggling behavior.\n        if (event && event.target && event.target.localName === \"button\") {\n            return;\n        }\n\n        if (isSelected) {\n            onUnselected(artifact);\n        } else {\n            if (shouldLoadVersions()) {\n                loadVersions();\n            } else {\n                onVersionSelect(undefined);\n            }\n            onSelected(artifact);\n        }\n    };\n\n    const onVersionSelect = (version?: SearchedVersion): void => {\n        setSelectedVersion(version);\n        setLoading(true);\n        console.debug(`[ArtifactListItem] Version selected for ${artifact.id}, loading content. Version: `, version);\n        fetchArtifactContent(artifact, version).then(content => {\n            console.debug(\"[ArtifactListItem] Artifact content successfully fetched for: \", artifact.id)\n            setContent(content);\n            setLoading(false);\n            setContentLoaded(true);\n        }).catch(error => {\n            // TODO handle errors loading the artifact content\n        });\n    };\n\n    // Whenever the content changes, fire the \"onArtifactLoaded\" event.  Do this\n    // from inside useEffect() so that it's not happening from an async callback.\n    useEffect(() => {\n        if (content !== undefined) {\n            let contentType: string;\n            if (isJson(content)) {\n                contentType = ContentTypes.APPLICATION_JSON;\n            } else if (isYaml(content)) {\n                contentType = ContentTypes.APPLICATION_YAML;\n            } else if (isXml(content)) {\n                contentType = ContentTypes.APPLICATION_XML;\n            } else if (artifact.type === ArtifactTypes.PROTOBUF) {\n                contentType = ContentTypes.APPLICATION_PROTOBUF;\n            } else if (artifact.type === ArtifactTypes.GRAPHQL) {\n                contentType = ContentTypes.APPLICATION_GRAPHQL;\n            } else {\n                contentType = ContentTypes.APPLICATION_JSON;\n            }\n            const cdc: CreateDesignContent = {\n                contentType,\n                data: content\n            };\n            onArtifactLoaded(artifact, selectedVersion as SearchedVersion, cdc);\n        }\n    }, [content]);\n\n    return (\n        <div className={`artifact-list-item ${isSelected ? \"selected\" : \"\"} ${isContentLoaded ? \"loaded\" : \"\"}`}\n             onClick={onToggleSelected}>\n            <div className=\"artifact-list-item-radio\">\n                <IsLoading condition={isLoading} loadingComponent={(<Spinner size=\"sm\" />)}>\n                    <Radio id={`artifact-radio-${artifact.id}`} name=\"\" isChecked={isSelected} />\n                </IsLoading>\n            </div>\n            <div className=\"artifact-list-item-icon\">\n                <ArtifactTypeIcon type={artifact.type}/>\n            </div>\n            <div className=\"artifact-list-item-info\">\n                <div className=\"artifact-title\">\n                    <ArtifactGroup groupId={artifact.groupId} />\n                    <ArtifactName id={artifact.id} name={artifact.name} />\n                    {\n                        statuses().map( status =>\n                            <Badge className=\"status-badge\" key={status} isRead={true}>{status}</Badge>\n                        )\n                    }\n                </div>\n                <div className=\"artifact-description\">{description()}</div>\n            </div>\n            <div className=\"artifact-list-item-versions\">\n                <If condition={isSelected}>\n                    <ObjectSelect value={selectedVersion} items={versions as SearchedVersion[]}\n                                  noSelectionLabel=\"latest\" menuAppendTo=\"parent\"\n                                  onSelect={onVersionSelect} itemToString={version => version.version} />\n                </If>\n            </div>\n        </div>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport \"./artifact-list-toolbar.css\";\nimport {\n    Button,\n    OnPerPageSelect,\n    OnSetPage,\n    Pagination,\n    SearchInput,\n    Toolbar,\n    ToolbarContent,\n    ToolbarItem\n} from \"@patternfly/react-core\";\nimport {SortAlphaDownAltIcon, SortAlphaDownIcon} from \"@patternfly/react-icons\";\nimport {ArtifactSearchResults, Paging} from \"@app/models\";\nimport {Registry} from \"@rhoas/registry-management-sdk\";\nimport {ObjectSelect} from \"@app/components/object-select\";\n\n\nexport interface ArtifactListToolbarCriteria {\n    filterSelection: string;\n    filterValue: string;\n    ascending: boolean;\n}\n\nexport type ArtifactListToolbarProps = {\n    registries: Registry[];\n    criteria: ArtifactListToolbarCriteria;\n    paging: Paging;\n    artifacts?: ArtifactSearchResults;\n    onRegistrySelected: (registry: Registry) => void;\n    onCriteriaChange: (criteria: ArtifactListToolbarCriteria) => void;\n    onPagingChange: (paging: Paging) => void;\n}\n\n\nexport const ArtifactListToolbar: FunctionComponent<ArtifactListToolbarProps> = ({registries, criteria, onCriteriaChange, paging,\n                                                                            onPagingChange, artifacts, onRegistrySelected}: ArtifactListToolbarProps) => {\n    const [ registry, setRegistry ] = useState<Registry>();\n    const [ filterValue, setFilterValue ] = useState(criteria.filterValue);\n\n    const onRegistrySelectInternal = (registry: Registry): void => {\n        setRegistry(registry);\n        onRegistrySelected(registry);\n    };\n\n    const onToggleAscending = (): void => {\n        onCriteriaChange({\n            ...criteria,\n            ascending: !criteria.ascending\n        });\n    };\n\n    const onSetPage: OnSetPage = (event: any, newPage: number, perPage?: number): void => {\n        onPagingChange({\n            ...paging,\n            page: newPage,\n            pageSize: perPage ? perPage : paging.pageSize\n        });\n    };\n\n    const onPerPageSelect: OnPerPageSelect = (event: any, newPerPage: number): void => {\n        onPagingChange({\n            ...paging,\n            pageSize: newPerPage\n        });\n    };\n\n    const onFilterChange = (value: string): void => {\n        setFilterValue(value);\n    }\n\n    const onSearch = (): void => {\n        onCriteriaChange({\n            ...criteria,\n            filterValue\n        })\n    };\n\n    const onClear = (): void => {\n        setFilterValue(\"\");\n        onCriteriaChange({\n            ...criteria,\n            filterValue: \"\"\n        })\n    }\n\n    const totalArtifactCount = (): number => {\n        return artifacts?.count || 0;\n    };\n\n    useEffect(() => {\n        if (registries && registries.length > 0) {\n            setRegistry(registries[0]);\n        }\n    }, [registries]);\n\n    useEffect(() => {\n        setFilterValue(criteria.filterValue);\n    }, [criteria]);\n\n    return (\n        <Toolbar id=\"artifacts-toolbar-1\" className=\"artifacts-toolbar\">\n            <ToolbarContent>\n                <ToolbarItem variant=\"search-filter\">\n                    <ObjectSelect value={registry} items={registries}\n                                  onSelect={onRegistrySelectInternal}\n                                  menuAppendTo=\"parent\"\n                                  itemToString={item => item.name} />\n                </ToolbarItem>\n                <ToolbarItem variant=\"search-filter\">\n                    <SearchInput aria-label=\"Filter artifacts\" value={filterValue} onChange={onFilterChange} onSearch={onSearch} onClear={onClear} />\n                </ToolbarItem>\n                <ToolbarItem className=\"sort-icon-item\">\n                    <Button variant=\"plain\" aria-label=\"edit\" data-testid=\"toolbar-btn-sort\" onClick={onToggleAscending}>\n                        {\n                            criteria.ascending ? <SortAlphaDownIcon/> : <SortAlphaDownAltIcon/>\n                        }\n                    </Button>\n                </ToolbarItem>\n                <ToolbarItem className=\"artifact-paging-item\">\n                    <Pagination\n                        style={{padding: \"5px\"}}\n                        variant=\"bottom\"\n                        dropDirection=\"down\"\n                        isCompact={true}\n                        itemCount={totalArtifactCount()}\n                        perPage={paging.pageSize}\n                        page={paging.page}\n                        onSetPage={onSetPage}\n                        onPerPageSelect={onPerPageSelect}\n                        widgetId=\"artifact-list-pagination\"\n                        className=\"artifact-list-pagination\"\n                    />\n                </ToolbarItem>\n            </ToolbarContent>\n        </Toolbar>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {\n    Alert,\n    Button,\n    Form,\n    FormGroup, Gallery, GalleryItem,\n    Modal,\n    ModalVariant,\n    Select,\n    SelectOption,\n    SelectOptionObject,\n    SelectVariant,\n    TextArea,\n    TextInput\n} from \"@patternfly/react-core\";\nimport {ArtifactTypes, CreateDesign, Template} from \"@app/models\";\nimport {TemplatesService, useTemplatesService} from \"@app/services\";\nimport {If} from \"@app/components\";\nimport {TemplateItem} from \"@app/pages/components\";\n\nexport type CreateDesignModalProps = {\n    isOpen: boolean|undefined;\n    onCreate: (event: CreateDesign, template: Template) => void;\n    onCancel: () => void;\n}\n\n\nconst TYPE_OPTIONS: SelectOptionObject[] = [\n    {\n        value: ArtifactTypes.OPENAPI,\n        label: \"OpenAPI\"\n    },\n    {\n        value: ArtifactTypes.ASYNCAPI,\n        label: \"AsyncAPI\"\n    },\n    {\n        value: ArtifactTypes.AVRO,\n        label: \"Apache Avro\"\n    },\n    {\n        value: ArtifactTypes.JSON,\n        label: \"JSON Schema\"\n    },\n    {\n        value: ArtifactTypes.PROTOBUF,\n        label: \"Google Protocol Buffers\"\n    },\n].map(item => {\n    return {\n        value: item.value,\n        label: item.label,\n        toString: () => {\n            return item.label;\n        }\n    };\n});\n\n\nexport const CreateDesignModal: FunctionComponent<CreateDesignModalProps> = ({isOpen, onCreate, onCancel}: CreateDesignModalProps) => {\n    const [isValid, setValid] = useState(false);\n    const [name, setName] = useState(\"\");\n    const [summary, setSummary] = useState(\"\");\n\n    const [type, setType] = useState(ArtifactTypes.OPENAPI);\n    const [typeSelection, setTypeSelection] = useState<SelectOptionObject>();\n    const [isTypeToggled, setTypeToggled] = useState(false);\n\n    const [version, setVersion] = useState(\"\");\n    const [isVersionToggled, setVersionToggled] = useState(false);\n\n    const [templates, setTemplates] = useState<Template[]>();\n    const [template, setTemplate] = useState<Template>();\n\n    const templatesSvc: TemplatesService = useTemplatesService();\n\n\n    // Called when the user changes the \"type\" (dropdown)\n    const onTypeSelect = (selection: SelectOptionObject): void => {\n        setType((selection as any).value);\n        setTypeSelection(selection);\n        setTypeToggled(false);\n    };\n\n    // Called when the user changes the \"version\" (dropdown)\n    const onVersionSelect = (selection: string): void => {\n        setVersion(selection);\n        setVersionToggled(false);\n    };\n\n    // Called when the user clicks the Create button in the modal\n    const doCreate = (): void => {\n        const cd: CreateDesign = {\n            type,\n            name,\n            summary,\n            context: {\n                type: \"create\"\n            }\n        };\n        onCreate(cd, template as Template);\n    };\n\n    // Validate the form inputs.\n    useEffect(() => {\n        let valid: boolean = true;\n        if (!name) {\n            valid = false;\n        }\n        if (!type) {\n            valid = false;\n        }\n        if (!template) {\n            valid = false;\n        }\n        setValid(valid);\n    }, [name, summary, type, template]);\n\n    // Whenever the modal is opened, set default values for the form.\n    useEffect(() => {\n        setName(\"\");\n        setSummary(\"\");\n        setType(ArtifactTypes.OPENAPI);\n        if (templates) {\n            setTemplate(templates[0]);\n        } else {\n            setTemplate(undefined);\n        }\n    }, [isOpen]);\n\n    // Whenever the type changes, load the templates for that type. If the type is\n    // OpenAPI, set the version to \"3.0.2\".\n    useEffect(() => {\n        if (type === ArtifactTypes.OPENAPI) {\n            setVersion(\"3.0.2\");\n        }\n        templatesSvc.getTemplatesFor(type, version).then(setTemplates);\n    }, [type]);\n\n    // Whenever the version changes, fetch the templates for the current type and version.\n    useEffect(() => {\n        templatesSvc.getTemplatesFor(type, version).then(setTemplates);\n    }, [version]);\n\n    // Whenever the templates changes, auto-select the first one\n    useEffect(() => {\n        if (templates && templates.length > 0) {\n            setTemplate(templates[0]);\n        }\n    }, [templates]);\n\n    return (\n        <Modal\n            variant={ModalVariant.medium}\n            title=\"Create a new design\"\n            isOpen={isOpen}\n            onClose={onCancel}\n            actions={[\n                <Button key=\"create\" variant=\"primary\" isDisabled={!isValid} onClick={doCreate}>\n                    Create\n                </Button>,\n                <Button key=\"cancel\" variant=\"link\" onClick={onCancel}>\n                    Cancel\n                </Button>\n            ]}\n        >\n            <Alert isInline variant=\"warning\" title=\"Warning\" style={{ marginBottom: \"15px\"}}>\n                <p>\n                    All new designs are stored locally in your browser.  Clearing your browser cache or\n                    switching to a new browser <em>might</em> result in loss of data.  Make sure you save your\n                    work locally or in a Red Hat OpenShift Service Registry instance!\n                </p>\n            </Alert>\n\n            <Form>\n                <FormGroup label=\"Name\" isRequired={true} fieldId=\"create-design-name\">\n                    <TextInput\n                        isRequired\n                        type=\"text\"\n                        id=\"create-design-name\"\n                        name=\"create-design-name\"\n                        aria-describedby=\"create-design-name-helper\"\n                        value={name}\n                        onChange={(value) => {setName(value)}}\n                    />\n                </FormGroup>\n                <FormGroup label=\"Summary\" fieldId=\"create-design-summary\">\n                    <TextArea\n                        type=\"text\"\n                        id=\"create-design-summary\"\n                        name=\"create-design-summary\"\n                        aria-describedby=\"create-design-summary-helper\"\n                        value={summary}\n                        onChange={(value) => {setSummary(value)}}\n                    />\n                </FormGroup>\n                <FormGroup label=\"Type\" isRequired={true} fieldId=\"create-design-type\">\n                    <Select\n                        variant={SelectVariant.single}\n                        aria-label=\"Select type\"\n                        onToggle={() => {setTypeToggled(!isTypeToggled)}}\n                        onSelect={(event, selection) => onTypeSelect(selection)}\n                        isOpen={isTypeToggled}\n                        selections={typeSelection}\n                        menuAppendTo=\"parent\"\n                    >\n                        {\n                            TYPE_OPTIONS.map(to => <SelectOption key={(to as any).value} value={to} />)\n                        }\n                    </Select>\n                </FormGroup>\n                <If condition={type === ArtifactTypes.OPENAPI}>\n                    <FormGroup label=\"Version\" isRequired={true} fieldId=\"create-design-version\">\n                        <Select\n                            variant={SelectVariant.single}\n                            aria-label=\"Select version\"\n                            onToggle={() => {setVersionToggled(!isVersionToggled)}}\n                            onSelect={(event, selection) => onVersionSelect(selection as string)}\n                            isOpen={isVersionToggled}\n                            selections={version}\n                            menuAppendTo=\"parent\"\n                        >\n                            <SelectOption value={\"3.0.2\"} />\n                            <SelectOption value={\"2.0\"} />\n                        </Select>\n                    </FormGroup>\n                </If>\n                <If condition={(templates && templates.length > 1) as boolean}>\n                    <FormGroup label=\"Template\" fieldId=\"create-design-template\">\n                        <Gallery hasGutter minWidths={{default: \"125px\"}} maxWidths={{default: \"125px\"}}>\n                        {\n                            templates?.map(t => (\n                                <GalleryItem key={t.id}>\n                                    <TemplateItem template={t} isSelected={t === template} onSelect={() => {\n                                        setTemplate(t)\n                                    }} />\n                                </GalleryItem>\n                            ))\n                        }\n                        </Gallery>\n                    </FormGroup>\n                </If>\n            </Form>\n        </Modal>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Alert, Button, Checkbox, Form, FormGroup, Modal, ModalVariant, Text, TextContent} from \"@patternfly/react-core\";\nimport {Design} from \"@app/models\";\n\nexport type DeleteDesignModalProps = {\n    design: Design|undefined;\n    isOpen: boolean|undefined;\n    onDelete: (design: Design) => void;\n    onCancel: () => void;\n    onDownload: (design: Design) => void;\n}\n\nexport const DeleteDesignModal: FunctionComponent<DeleteDesignModalProps> = ({design, isOpen, onDelete, onDownload, onCancel}: DeleteDesignModalProps) => {\n    const [isValid, setValid] = useState(false);\n\n    // Called when the user clicks the Delete button in the modal\n    const doDelete = (): void => {\n        onDelete(design as Design);\n    };\n\n    const doDownload = (): void => {\n        onDownload(design as Design);\n    };\n\n    useEffect(() => {\n        setValid(false);\n    }, [design, isOpen]);\n\n    return (\n        <Modal\n            variant={ModalVariant.small}\n            title=\"Delete design?\"\n            titleIconVariant=\"warning\"\n            isOpen={isOpen}\n            onClose={onCancel}\n            actions={[\n                <Button key=\"delete\" variant=\"primary\" isDisabled={!isValid} onClick={doDelete}>\n                    Delete\n                </Button>,\n                <Button key=\"cancel\" variant=\"link\" onClick={onCancel}>\n                    Cancel\n                </Button>\n            ]}\n        >\n            <TextContent style={{marginBottom: \"15px\"}}>\n                <Text component=\"p\">The following API or schema design will be deleted.</Text>\n            </TextContent>\n\n            <Form>\n                <FormGroup label=\"Name\" fieldId=\"delete-design-name\">\n                    <TextContent>{design?.name}</TextContent>\n                </FormGroup>\n                <FormGroup label=\"Summary\" fieldId=\"delete-design-summary\">\n                    <TextContent>{design?.summary}</TextContent>\n                </FormGroup>\n                <FormGroup fieldId=\"delete-design-warning\">\n                    <Alert isInline variant=\"info\" title=\"To save your data for future use, download the design.\">\n                        <p style={{lineHeight: \"18px\"}}>\n                            To ensure you data is successfully saved, wait for the download to complete\n                            before deleting the design.\n                        </p>\n                        <Button variant=\"link\" onClick={doDownload} style={{paddingLeft:\"0px\"}}>Download design</Button>\n                    </Alert>\n                </FormGroup>\n                <FormGroup fieldId=\"delete-design-confirm\">\n                    <Checkbox id=\"valid-checkbox\" name=\"\" label=\"I have downloaded the design or do not need to!\"\n                              isChecked={isValid} onChange={(checked) => setValid(checked)} />\n                </FormGroup>\n            </Form>\n        </Modal>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport \"./design-list.css\";\nimport {Design, DesignsSearchResults, DesignsSort} from \"@app/models\";\nimport {ResponsiveTable} from \"@rhoas/app-services-ui-components\";\nimport {ArtifactTypeIcon, NavLink} from \"@app/components\";\nimport Moment from \"react-moment\";\nimport {hasContext} from \"@app/utils\";\nimport {Label} from \"@patternfly/react-core\";\nimport {IAction} from \"@patternfly/react-table\";\nimport {ThProps} from \"@patternfly/react-table/src/components/TableComposable/Th\";\n\n\nexport type DesignListProps = {\n    designs: DesignsSearchResults;\n    sort: DesignsSort;\n    onSort: (sort: DesignsSort) => void;\n    onEdit: (design: Design) => void;\n    onDelete: (design: Design) => void;\n    onRegister: (design: Design) => void;\n    onDownload: (design: Design) => void;\n}\n\nexport const DesignList: FunctionComponent<DesignListProps> = (\n    {designs, sort, onSort, onEdit, onDelete, onRegister, onDownload}: DesignListProps) => {\n\n    const [sortByIndex, setSortByIndex] = useState<number>();\n\n    const columns: any[] = [\n        { index: 0, id: \"name\", label: \"Name\", width: 40, sortable: true },\n        { index: 1, id: \"type\", label: \"Type\", width: 15, sortable: false },\n        { index: 2, id: \"modified-on\", label: \"Modified on\", width: 15, sortable: true },\n        { index: 3, id: \"context\", label: \"Labels\", width: 25, sortable: false },\n    ];\n\n    const data: any[] = [];\n\n    const labels = (design: Design): string[] => {\n        const theLabels: string[] = [];\n        if (hasContext(design, \"file\")) {\n            theLabels.push(\"Local file\");\n        }\n        if (hasContext(design, \"rhosr\")) {\n            theLabels.push(\"Service registry\");\n        }\n        if (hasContext(design, \"url\")) {\n            theLabels.push(\"Url\");\n        }\n        if (hasContext(design, \"create\")) {\n            theLabels.push(\"Created\");\n        }\n        return theLabels;\n    };\n\n    const renderColumnData = (column: Design, colIndex: number): React.ReactNode => {\n        // Name.\n        if (colIndex === 0) {\n            return (\n                <div>\n                    <NavLink className=\"design-title\" location={`/designs/${column.id}/editor`}>{column.name}</NavLink>\n                    <div className=\"design-summary\">{column.summary||\"(A design without a description)\"}</div>\n                </div>\n            );\n        }\n        // Type.\n        if (colIndex === 1) {\n            return <ArtifactTypeIcon type={column.type} isShowLabel={true} />\n        }\n        // Modified on.\n        if (colIndex === 2) {\n            return <Moment date={column.modifiedOn} fromNow={true} />\n        }\n        // Labels.\n        if (colIndex === 3) {\n            return labels(column).map(label => <Label color=\"blue\">{label}</Label>);\n        }\n        return <span />\n    };\n\n    const actionsFor = (design: any): IAction[] => {\n        return [\n            { title: \"Edit\", onClick: () => onEdit(design) },\n            { title: \"Download\", onClick: () => onDownload(design) },\n            { title: \"Register in Service Registry\", onClick: () => onRegister(design) },\n            { isSeparator: true, },\n            { title: \"Delete\", onClick: () => onDelete(design) }\n        ];\n    }\n\n    const sortParams = (column: any): ThProps[\"sort\"] | undefined => {\n        return column.sortable ? {\n            sortBy: {\n                index: sortByIndex,\n                direction: sort.direction\n            },\n            onSort: (_event, index, direction) => {\n                const sort: DesignsSort = {\n                    by: index === 0 ? \"name\" : \"modified-on\",\n                    direction\n                };\n                onSort(sort);\n            },\n            columnIndex: column.index\n        } : undefined;\n    };\n\n    useEffect(() => {\n        setSortByIndex(sort.by === \"name\" ? 0 : 2);\n    }, [sort]);\n\n    return (\n        <div className=\"design-list\">\n            <ResponsiveTable\n                ariaLabel=\"list of designs\"\n                columns={columns}\n                data={designs.designs}\n                expectedLength={designs.count}\n                renderHeader={({ column, Th, key }) => (\n                    <Th sort={sortParams(column)}\n                        className=\"design-list-header\"\n                        key={key} width={column.width}\n                        modifier=\"truncate\">{column.label}</Th>\n                )}\n                renderCell={({ column, row, colIndex, Td, key }) => (\n                    <Td className=\"design-list-cell\" key={key} children={renderColumnData(row as Design, colIndex)} />\n                )}\n                renderActions={({row, ActionsColumn}) => (\n                    <ActionsColumn items={actionsFor(row)}/>\n                )}\n                isRowSelected={({ row }) => false}\n                onRowClick={({ row }) => {}}\n            />\n        </div>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport \"./designs.panel.css\";\nimport {Alert, Card, CardBody} from \"@patternfly/react-core\";\nimport {DownloadService, DesignsService, useDownloadService, useDesignsService} from \"@app/services\";\nimport {Design, DesignsSearchCriteria, DesignsSearchResults, DesignsSort, Paging} from \"@app/models\";\nimport {If, ListWithToolbar} from \"@app/components\";\nimport {\n    DeleteDesignModal,\n    DesignList,\n    DesignsEmptyState,\n    DesignsEmptyStateFiltered,\n    DesignsToolbar, ExportToRhosrData, ExportToRhosrModal, ImportFrom\n} from \"@app/pages/components\";\nimport {Navigation, useNavigation} from \"@app/contexts/navigation\";\nimport {contentTypeForDesign, fileExtensionForDesign} from \"@app/utils\";\n\n\nfunction convertToValidFilename(value: string): string {\n    return (value.replace(/[\\/|\\\\:*?\"<>]/g, \"\"));\n}\n\nexport type DesignsPanelProps = {\n    onCreate: () => void;\n    onImport: (from: ImportFrom) => void;\n}\n\n\nexport const DesignsPanel: FunctionComponent<DesignsPanelProps> = ({onCreate, onImport}: DesignsPanelProps) => {\n    const [ isLoading, setLoading ] = useState(false);\n    const [ refresh, setRefresh ] = useState(1);\n    const [ isFiltered, setFiltered ] = useState(false);\n    const [ paging, setPaging ] = useState<Paging>({\n        pageSize: 20,\n        page: 1\n    });\n    const [ criteria, setCriteria ] = useState<DesignsSearchCriteria>({\n        filterValue: \"\",\n        filterOn: \"name\"\n    });\n    const [ sort, setSort ] = useState<DesignsSort>({\n        by: \"name\",\n        direction: \"asc\"\n    });\n    const [ designs, setDesigns ] = useState<DesignsSearchResults>();\n    const [ designToDelete, setDesignToDelete ] = useState<Design>();\n    const [ isDeleteModalOpen, setDeleteModalOpen ] = useState(false);\n    const [ designToRegister, setDesignToRegister ] = useState<Design>();\n    const [ isRegisterModalOpen, setRegisterModalOpen ] = useState(false);\n\n    const designsSvc: DesignsService = useDesignsService();\n    const downloadSvc: DownloadService = useDownloadService();\n    const nav: Navigation = useNavigation();\n\n    const doRefresh = (): void => {\n        setRefresh(refresh + 1);\n    };\n\n    const onEditDesign = (design: Design): void => {\n        nav.navigateTo(`/designs/${design.id}/editor`);\n    };\n\n    const onDeleteDesign = (design: Design): void => {\n        setDesignToDelete(design);\n        setDeleteModalOpen(true);\n    };\n\n    const onDeleteDesignConfirmed = (design: Design): void => {\n        designsSvc.deleteDesign(design.id).then(() => {\n            doRefresh();\n        }).catch(error => {\n            // TODO handle error\n            console.error(error);\n        });\n        setDeleteModalOpen(false);\n    };\n\n    const onRegisterDesign = (design: Design): void => {\n        setDesignToRegister(design);\n        setRegisterModalOpen(true);\n    };\n\n    const onRegisterDesignConfirmed = (event: ExportToRhosrData): void => {\n        // TODO anything to do here other than close the modal?\n        setRegisterModalOpen(false);\n    };\n\n    const onDownloadDesign = (design: Design): void => {\n        designsSvc.getDesignContent(design.id).then(content => {\n            const filename: string = `${convertToValidFilename(design.name)}.${fileExtensionForDesign(design, content)}`;\n            const contentType: string = contentTypeForDesign(design, content);\n            const c: string = typeof content.data === \"object\" ? JSON.stringify(content.data, null, 4) : content.data as string;\n            downloadSvc.downloadToFS(c, contentType, filename);\n        });\n    };\n\n    const onCriteriaChange = (criteria: DesignsSearchCriteria): void =>  {\n        setCriteria(criteria);\n        setPaging({\n            page: 1,\n            pageSize: paging.pageSize\n        });\n        setFiltered(criteria.filterValue != undefined && criteria.filterValue.trim().length > 0);\n        doRefresh();\n    };\n\n    const onSortDesigns = (sort: DesignsSort): void => {\n        setSort(sort);\n        doRefresh();\n    };\n\n    const onPagingChange = (paging: Paging): void => {\n        setPaging(paging);\n        doRefresh();\n    };\n\n    useEffect(() => {\n        setLoading(true);\n        designsSvc.searchDesigns(criteria, paging, sort).then(designs => {\n            console.debug(\"[DesignsPanel] Designs loaded: \", designs);\n            setDesigns(designs);\n            setLoading(false);\n        }).catch(error => {\n            // TODO need error handling\n            console.error(error);\n        });\n    }, [refresh]);\n\n    const emptyState: React.ReactNode = (\n        <DesignsEmptyState onCreate={onCreate} onImport={onImport} />\n    );\n\n    const emptyStateFiltered: React.ReactNode = (\n        <DesignsEmptyStateFiltered />\n    );\n\n    const toolbar: React.ReactNode = (\n        <DesignsToolbar designs={designs} criteria={criteria} paging={paging}\n                        onCreate={onCreate} onImport={onImport}\n                        onCriteriaChange={onCriteriaChange} onPagingChange={onPagingChange} />\n    );\n\n    return (\n        <React.Fragment>\n            <Card isSelectable={false}>\n                <CardBody className=\"panel-body\">\n                    <ListWithToolbar toolbar={toolbar}\n                                     emptyState={emptyState}\n                                     filteredEmptyState={emptyStateFiltered}\n                                     isLoading={isLoading}\n                                     isFiltered={isFiltered}\n                                     isEmpty={!designs || designs.count === 0}>\n                        <Alert className=\"panel-alert\" isInline variant=\"info\" title=\"About your data\" style={{ marginBottom: \"15px\"}}>\n                            <p>\n                                All designs are stored locally in your browser.  Clearing your browser cache or\n                                switching to a new browser <em>might</em> result in loss of data.  Make sure you save your\n                                work locally or in a Red Hat OpenShift Service Registry instance!  In the future your\n                                designs will be saved to a persistent server, stay tuned!\n                            </p>\n                        </Alert>\n                        <DesignList designs={designs as DesignsSearchResults}\n                                    sort={sort}\n                                    onSort={onSortDesigns}\n                                    onEdit={onEditDesign}\n                                    onDownload={onDownloadDesign}\n                                    onRegister={onRegisterDesign}\n                                    onDelete={onDeleteDesign} />\n                    </ListWithToolbar>\n                </CardBody>\n            </Card>\n            <DeleteDesignModal design={designToDelete}\n                              isOpen={isDeleteModalOpen}\n                              onDelete={onDeleteDesignConfirmed}\n                              onDownload={onDownloadDesign}\n                              onCancel={() => setDeleteModalOpen(false)} />\n            <ExportToRhosrModal design={designToRegister as Design}\n                                isOpen={isRegisterModalOpen}\n                                onExported={onRegisterDesignConfirmed}\n                                onCancel={() => setRegisterModalOpen(false)} />\n        </React.Fragment>\n    );\n};\n","import React, {FunctionComponent, useState} from \"react\";\nimport {Dropdown, DropdownItem, DropdownSeparator, KebabToggle, MenuToggle} from \"@patternfly/react-core\";\n\nexport enum ImportFrom {\n    FILE,\n    URL,\n    RHOSR\n};\n\n/**\n * Properties\n */\nexport type ImportDropdownProps = {\n    variant: \"long\"|\"short\";\n    onImport: (from: ImportFrom) => void;\n};\n\n/**\n * A control to display the Import dropdown on the main page (used to select how to import content\n * into the API Designer).\n */\nexport const ImportDropdown: FunctionComponent<ImportDropdownProps> = ({variant, onImport}: ImportDropdownProps) => {\n    const [isToggled, setToggled] = useState(false);\n\n    const onToggle = (): void => {\n        setToggled(!isToggled);\n    };\n\n    const menuToggle: React.ReactNode = (\n        <MenuToggle variant=\"secondary\" onClick={onToggle} isExpanded={isToggled}>{variant === \"short\" ? \"Import\" : \"Import a schema or API design\"}</MenuToggle>\n    );\n\n    const onMenuSelect: (event?: React.SyntheticEvent<HTMLDivElement>) => void = (event) => {\n        // @ts-ignore\n        const action: string = event?.target.attributes[\"data-id\"].value;\n        setToggled(false);\n        switch (action) {\n            case \"action-file\":\n                onImport(ImportFrom.FILE);\n                return;\n            case \"action-url\":\n                onImport(ImportFrom.URL);\n                return;\n            case \"action-rhosr\":\n                onImport(ImportFrom.RHOSR);\n                return;\n        }\n    };\n\n    return (\n        <Dropdown\n            onSelect={onMenuSelect}\n            toggle={menuToggle}\n            isOpen={isToggled}\n            isPlain\n            dropdownItems={\n                [\n                    <DropdownItem key=\"action-file\" data-id=\"action-file\">Import from file</DropdownItem>,\n                    <DropdownItem key=\"action-url\" data-id=\"action-url\">Import from URL</DropdownItem>,\n                    <DropdownItem key=\"action-rhosr\" data-id=\"action-rhosr\">Import from Service Registry</DropdownItem>,\n                ]\n            }\n            position=\"right\"\n        />\n    );\n};\n","import React, {FunctionComponent} from \"react\";\nimport {\n    Button,\n    EmptyState,\n    EmptyStateBody,\n    EmptyStateIcon,\n    EmptyStateSecondaryActions,\n    Title\n} from \"@patternfly/react-core\";\nimport {AddCircleOIcon} from \"@patternfly/react-icons\";\nimport {ImportDropdown, ImportFrom} from \"@app/pages/components\";\n\n/**\n * Properties\n */\nexport type DesignsEmptyStateProps = {\n    onCreate: () => void;\n    onImport: (from: ImportFrom) => void;\n};\n\n/**\n * The empty state UI shown to the user when no designs are available, either due to\n * filtering or because no designs have been created yet.\n */\nexport const DesignsEmptyState: FunctionComponent<DesignsEmptyStateProps> = ({onCreate, onImport}: DesignsEmptyStateProps) => {\n    return (\n        <EmptyState>\n            <EmptyStateIcon icon={AddCircleOIcon} />\n            <Title headingLevel=\"h4\" size=\"lg\">\n                No designs\n            </Title>\n            <EmptyStateBody>\n                Create and edit API and schema designs with the API Designer.  To get started,\n                create a new design or import one.\n            </EmptyStateBody>\n            <Button variant=\"primary\" onClick={onCreate}>Create a schema or API design</Button>\n            <EmptyStateSecondaryActions>\n                <ImportDropdown  variant=\"long\" onImport={onImport} />\n            </EmptyStateSecondaryActions>\n        </EmptyState>\n    );\n};\n","import React, {FunctionComponent} from \"react\";\nimport {EmptyState, EmptyStateBody, EmptyStateIcon, Title} from \"@patternfly/react-core\";\nimport {AddCircleOIcon} from \"@patternfly/react-icons\";\n\n/**\n * Properties\n */\nexport type DesignsEmptyStateFilteredProps = {\n};\n\n/**\n * The empty state UI shown to the user when no designs are available, either due to\n * filtering or because no designs have been created yet.\n */\nexport const DesignsEmptyStateFiltered: FunctionComponent<DesignsEmptyStateFilteredProps> = ({}: DesignsEmptyStateFilteredProps) => {\n    return (\n        <EmptyState>\n            <EmptyStateIcon icon={AddCircleOIcon} />\n            <Title headingLevel=\"h4\" size=\"lg\">\n                No matching designs\n            </Title>\n            <EmptyStateBody>\n                No designs matched your filter criteria.  Trying changing your criteria and\n                searching again.\n            </EmptyStateBody>\n        </EmptyState>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport \"./designs-toolbar.css\";\nimport {\n    Button,\n    OnPerPageSelect,\n    OnSetPage,\n    Pagination,\n    SearchInput,\n    Toolbar,\n    ToolbarContent,\n    ToolbarItem\n} from \"@patternfly/react-core\";\nimport {SortAlphaDownAltIcon, SortAlphaDownIcon} from \"@patternfly/react-icons\";\nimport {DesignsSearchCriteria, DesignsSearchResults, Paging} from \"@app/models\";\nimport {ImportDropdown, ImportFrom} from \"@app/pages/components\";\n\n\n/**\n * Properties\n */\nexport type DesignsToolbarProps = {\n    criteria: DesignsSearchCriteria;\n    paging: Paging;\n    designs?: DesignsSearchResults;\n    onCriteriaChange: (criteria: DesignsSearchCriteria) => void;\n    onPagingChange: (paging: Paging) => void;\n    onCreate: () => void;\n    onImport: (from: ImportFrom) => void;\n};\n\n\n/**\n * The toolbar to filter (and paginate) the collection of designs.\n */\nexport const DesignsToolbar: FunctionComponent<DesignsToolbarProps> = (\n    {criteria, paging, designs, onCriteriaChange, onPagingChange, onCreate, onImport}: DesignsToolbarProps) => {\n\n    const [ filterValue, setFilterValue ] = useState(criteria.filterValue);\n\n    useEffect(() => {\n        setFilterValue(criteria.filterValue);\n    }, [criteria]);\n\n    const onSetPage: OnSetPage = (event: any, newPage: number, perPage?: number): void => {\n        onPagingChange({\n            ...paging,\n            page: newPage,\n            pageSize: perPage ? perPage : paging.pageSize\n        });\n    };\n\n    const onPerPageSelect: OnPerPageSelect = (event: any, newPerPage: number): void => {\n        onPagingChange({\n            ...paging,\n            pageSize: newPerPage\n        });\n    };\n\n    const onFilterChange = (value: string): void => {\n        setFilterValue(value);\n    };\n\n    const onSearch = (): void => {\n        onCriteriaChange({\n            ...criteria,\n            filterValue\n        })\n    };\n\n    const onClear = (): void => {\n        setFilterValue(\"\");\n        onCriteriaChange({\n            ...criteria,\n            filterValue: \"\"\n        })\n    };\n\n    const totalDesignCount = (): number => {\n        return designs?.count || 0;\n    };\n\n    return (\n        <Toolbar id=\"designs-toolbar\" className=\"designs-toolbar\">\n            <ToolbarContent>\n                <ToolbarItem variant=\"search-filter\">\n                    <SearchInput aria-label=\"Filter designs\" value={filterValue} onChange={onFilterChange} onSearch={onSearch} onClear={onClear} />\n                </ToolbarItem>\n                <ToolbarItem>\n                    <Button variant=\"primary\" onClick={onCreate}>Create a schema or API design</Button>\n                </ToolbarItem>\n                <ToolbarItem>\n                    <ImportDropdown variant=\"long\" onImport={onImport} />\n                </ToolbarItem>\n                <ToolbarItem className=\"design-paging-item\">\n                    <Pagination\n                        style={{padding: \"0\"}}\n                        variant=\"bottom\"\n                        dropDirection=\"down\"\n                        isCompact={true}\n                        itemCount={totalDesignCount()}\n                        perPage={paging.pageSize}\n                        page={paging.page}\n                        onSetPage={onSetPage}\n                        onPerPageSelect={onPerPageSelect}\n                        widgetId=\"design-list-pagination\"\n                        className=\"design-list-pagination\"\n                    />\n                </ToolbarItem>\n            </ToolbarContent>\n        </Toolbar>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {\n    Alert,\n    Button, FileUpload, Form,\n    FormGroup,\n    Modal,\n    ModalVariant,\n    Select, SelectOption, SelectOptionObject,\n    SelectVariant,\n    TextArea,\n    TextInput\n} from \"@patternfly/react-core\";\nimport {ArtifactTypes, ContentTypes, CreateDesign, CreateDesignContent} from \"@app/models\";\nimport {If} from \"@app/components\";\nimport {ImportFrom, UrlUpload} from \"@app/pages/components\";\nimport {isJson, isProto, isWsdl, isXml, isXsd, isYaml, parseJson, parseYaml} from \"@app/utils\";\nimport {DesignContext} from \"@app/models/designs/design-context.model\";\n\n\nexport type ImportDesignModalProps = {\n    importType: ImportFrom;\n    isOpen: boolean | undefined;\n    onImport: (event: CreateDesign, content: CreateDesignContent) => void;\n    onCancel: () => void;\n}\n\n\nconst PLACEHOLDER_TYPE_OPTION: SelectOptionObject = {\n    // @ts-ignore\n    value: undefined,\n    label: \"Select a type...\",\n    toString: () => {\n        return \"Select a type...\";\n    },\n    compareTo(selectOption: any): boolean {\n        return selectOption === this;\n    }\n}\nconst TYPE_OPTIONS: SelectOptionObject[] = [\n    {\n        value: ArtifactTypes.OPENAPI,\n        label: \"OpenAPI\"\n    },\n    {\n        value: ArtifactTypes.ASYNCAPI,\n        label: \"AsyncAPI\"\n    },\n    {\n        value: ArtifactTypes.AVRO,\n        label: \"Apache Avro\"\n    },\n    {\n        value: ArtifactTypes.JSON,\n        label: \"JSON Schema\"\n    },\n    {\n        value: ArtifactTypes.PROTOBUF,\n        label: \"Google Protocol Buffers\"\n    },\n].map(item => {\n    return {\n        value: item.value,\n        label: item.label,\n        toString: () => {\n            return item.label;\n        },\n        compareTo(selectOption: any): boolean {\n            return this.value === selectOption.value;\n        }\n    };\n});\n\n\ntype DetectionInfo = {\n    type?: string;\n    contentType?: string;\n    version?: string;\n    name?: string;\n    summary?: string;\n}\n\n\nexport const ImportDesignModal: FunctionComponent<ImportDesignModalProps> = ({importType, isOpen, onImport, onCancel}: ImportDesignModalProps) => {\n    const [isValid, setValid] = useState(false);\n\n    const [designContent, setDesignContent] = useState<string>();\n    const [fileName, setFileName] = useState<string>();\n    const [url, setUrl] = useState<string>();\n\n    const [name, setName] = useState(\"\");\n    const [summary, setSummary] = useState(\"\");\n\n    const [type, setType] = useState<string>();\n    const [typeSelection, setTypeSelection] = useState<SelectOptionObject>();\n    const [isTypeToggled, setTypeToggled] = useState(false);\n\n    const [version, setVersion] = useState(\"\");\n    const [isVersionToggled, setVersionToggled] = useState(false);\n\n    const [contentType, setContentType] = useState<string>();\n\n    const onFileChange = (value: string | File, fname: string): void => {\n        setDesignContent(value as string);\n        setFileName(fname);\n    };\n\n    const onUrlChange = (value: string|undefined, url: string|undefined): void => {\n        setDesignContent(value);\n        setUrl(url);\n    };\n\n    // Called when the user changes the \"type\" (dropdown)\n    const onTypeSelect = (selection: SelectOptionObject): void => {\n        setTheType((selection as any).value);\n        setTypeToggled(false);\n    };\n\n    // Called when the user changes the \"version\" (dropdown)\n    const onVersionSelect = (selection: string): void => {\n        setVersion(selection);\n        setVersionToggled(false);\n    };\n\n    // Called when the user clicks the Import button in the modal\n    const doImport = (): void => {\n        const context: DesignContext = importType === ImportFrom.FILE ? {\n            type: \"file\",\n            file: {\n                fileName: fileName as string\n            }\n        } : {\n            type: \"url\",\n            url: {\n                url: url as string\n            }\n        };\n        const cd: CreateDesign = {\n            type: type as string,\n            name,\n            summary,\n            context\n        };\n        const cdc: CreateDesignContent = {\n            contentType: contentType as string,\n            data: designContent\n        };\n\n        console.debug(\"[ImportDesignModal] Importing design: \", cd);\n        console.debug(\"[ImportDesignModal] Importing content-type: \", contentType);\n        onImport(cd, cdc);\n    };\n\n    const hasDesignContent = (): boolean => {\n        return designContent !== undefined && designContent.trim().length > 0;\n    };\n\n    const title = (): string => {\n        if (importType === ImportFrom.FILE) {\n            return \"Import from file\";\n        } else {\n            return \"Import from URL\";\n        }\n    };\n\n    const detectJsonOrYamlInfo = (contentObj: any, contentType: string): DetectionInfo => {\n        if (contentObj.openapi) {\n            return {\n                type: ArtifactTypes.OPENAPI,\n                contentType: contentType,\n                version: \"3.0.2\",\n                name: contentObj.info?.title,\n                summary: contentObj.info?.description\n            };\n        }\n        if (contentObj.swagger) {\n            return {\n                type: ArtifactTypes.OPENAPI,\n                contentType: contentType,\n                version: \"2.0\",\n                name: contentObj.info?.title,\n                summary: contentObj.info?.description\n            };\n        }\n        if (contentObj.asyncapi) {\n            return {\n                type: ArtifactTypes.ASYNCAPI,\n                contentType: contentType,\n                name: contentObj.info?.title,\n                summary: contentObj.info?.description\n            };\n        }\n        if (contentObj.$schema) {\n            return {\n                type: ArtifactTypes.JSON,\n                contentType: contentType,\n                name: contentObj.title,\n                summary: contentObj.description\n            };\n        }\n\n        return {\n            type: ArtifactTypes.AVRO,\n            contentType: contentType,\n            name: contentObj.name\n        }\n    }\n\n    const detectXmlInfo = (content: string): DetectionInfo => {\n        let type: string = ArtifactTypes.XML;\n        if (isWsdl(content)) {\n            type = ArtifactTypes.WSDL;\n        } else if (isXsd(content)) {\n            type = ArtifactTypes.XSD;\n        }\n        return {\n            type,\n            contentType: ContentTypes.TEXT_XML\n        };\n    }\n\n    const detectProtoInfo = (): DetectionInfo => {\n        return {\n            contentType: ContentTypes.APPLICATION_PROTOBUF,\n            type: ArtifactTypes.PROTOBUF\n        };\n    }\n\n    // Tries to figure out the type and meta-data of the content by parsing it and looking\n    // for key indicators.\n    const detectInfo = (content: string): DetectionInfo => {\n        if (isJson(content)) {\n            return detectJsonOrYamlInfo(parseJson(content), ContentTypes.APPLICATION_JSON);\n        } else if (isYaml(content)) {\n            return detectJsonOrYamlInfo(parseYaml(content), ContentTypes.APPLICATION_YAML);\n        } else if (isXml(content)) {\n            return detectXmlInfo(content);\n        } else if (isProto(content)) {\n            return detectProtoInfo();\n        }\n        console.warn(\"[ImportDesignModal] Failed to detect the type of the content.\");\n        // Default: nothing detected\n        return {\n        };\n\n        // TODO handle parsing of protobuf\n        // TODO handle parsing of GraphQL\n    };\n\n    const setTheType = (newType: string|undefined): void => {\n        if (newType === undefined) {\n            setType(undefined);\n            setTypeSelection(undefined);\n        } else {\n            setType(newType);\n            // @ts-ignore (there really is a value on the option)\n            const newTypeSelection: SelectOptionObject = TYPE_OPTIONS.filter(option => option.value === newType)[0];\n            setTypeSelection(newTypeSelection);\n        }\n    };\n\n    // Validate the form inputs.\n    useEffect(() => {\n        let valid: boolean = true;\n        if (!designContent) {\n            valid = false;\n        }\n        if (!name) {\n            valid = false;\n        }\n        if (!type) {\n            valid = false;\n        }\n        setValid(valid);\n    }, [name, summary, type, designContent]);\n\n    // Whenever the modal is opened, set default values for the form.\n    useEffect(() => {\n        setDesignContent(undefined);\n        setName(\"\");\n        setSummary(\"\");\n        setFileName(undefined);\n        setTheType(undefined);\n    }, [isOpen]);\n\n    // Whenever the content changes (e.g. loaded from file) try to detect the\n    // type of the content.\n    useEffect(() => {\n        if (designContent && designContent.trim().length > 0) {\n            const info: DetectionInfo = detectInfo(designContent as string);\n            console.debug(\"[ImportDesignModal] Content detection: \", info);\n            console.debug(\"[ImportDesignModal] Version detected: \", info.version || \"\");\n\n            setTheType(info.type);\n            setVersion(info.version || \"\");\n            setName(info.name || \"\");\n            setSummary(info.summary || \"\");\n            setContentType(info.contentType);\n        } else {\n            console.debug(\"[ImportDesignModal] Content empty, resetting form fields.\");\n            setName(\"\");\n            setSummary(\"\");\n            setTheType(undefined);\n            setContentType(undefined);\n        }\n    }, [designContent]);\n\n    // Whenever the type changes to OpenAPI, set the version to \"3.0.2\".\n    useEffect(() => {\n        if (type === ArtifactTypes.OPENAPI && version === undefined) {\n            setVersion(\"3.0.2\");\n        }\n    }, [type]);\n\n    return (\n        <Modal\n            variant={ModalVariant.medium}\n            title={title()}\n            isOpen={isOpen}\n            onClose={onCancel}\n            actions={[\n                <Button key=\"create\" variant=\"primary\" isDisabled={!isValid} onClick={doImport}>\n                    Import\n                </Button>,\n                <Button key=\"cancel\" variant=\"link\" onClick={onCancel}>\n                    Cancel\n                </Button>\n            ]}\n        >\n            <Alert isInline variant=\"warning\" title=\"Warning\" style={{marginBottom: \"15px\"}}>\n                <p>\n                    All new designs are stored locally in your browser. Clearing your browser cache or\n                    switching to a new browser <em>might</em> result in loss of data. Make sure you save your\n                    work locally or in a Red Hat OpenShift Service Registry instance!\n                </p>\n            </Alert>\n\n            <Form>\n                <If condition={importType === ImportFrom.FILE}>\n                    <FormGroup label=\"File\" isRequired={true} fieldId=\"import-design-file\">\n                        <FileUpload\n                            isRequired={true}\n                            id=\"design-text-file\"\n                            type=\"text\"\n                            value={designContent}\n                            filename={fileName}\n                            filenamePlaceholder=\"Drag and drop a file or upload one\"\n                            onChange={onFileChange}\n                        />\n                    </FormGroup>\n                </If>\n                <If condition={importType === ImportFrom.URL}>\n                    <FormGroup label=\"URL\" isRequired={true} fieldId=\"import-design-url\">\n                        <UrlUpload\n                            id=\"design-text-url\"\n                            urlPlaceholder=\"Enter a valid and accessible URL\"\n                            onChange={onUrlChange}\n                        />\n                    </FormGroup>\n                </If>\n                <If condition={hasDesignContent}>\n                    <FormGroup label=\"Type\" isRequired={true} fieldId=\"import-design-type\">\n                        <Select\n                            variant={SelectVariant.single}\n                            aria-label=\"Select type\"\n                            onToggle={() => setTypeToggled(!isTypeToggled)}\n                            onSelect={(event, selection) => onTypeSelect(selection)}\n                            isOpen={isTypeToggled}\n                            selections={typeSelection}\n                            menuAppendTo=\"parent\"\n                        >\n                            {\n                                [\n                                    <SelectOption key={-1} value={PLACEHOLDER_TYPE_OPTION} isPlaceholder={true}/>,\n                                    ...TYPE_OPTIONS.map((to, index) => <SelectOption key={index} value={to}/>)\n                                ]\n                            }\n                        </Select>\n                    </FormGroup>\n                    <If condition={type === ArtifactTypes.OPENAPI}>\n                        <FormGroup label=\"Version\" isRequired={true} fieldId=\"import-design-version\">\n                            <Select\n                                variant={SelectVariant.single}\n                                aria-label=\"Select version\"\n                                onToggle={() => setVersionToggled(!isVersionToggled)}\n                                onSelect={(event, selection) => onVersionSelect(selection as string)}\n                                isOpen={isVersionToggled}\n                                selections={version}\n                                menuAppendTo=\"parent\"\n                            >\n                                <SelectOption key={1} value=\"3.0.2\"/>\n                                <SelectOption key={2} value=\"2.0\"/>\n                            </Select>\n                        </FormGroup>\n                    </If>\n                    <FormGroup label=\"Name\" isRequired={true} fieldId=\"import-design-name\">\n                        <TextInput\n                            isRequired\n                            type=\"text\"\n                            id=\"import-design-name\"\n                            name=\"import-design-name\"\n                            aria-describedby=\"import-design-name-helper\"\n                            value={name}\n                            onChange={(value) => setName(value)}\n                        />\n                    </FormGroup>\n                    <FormGroup label=\"Summary\" fieldId=\"import-design-summary\">\n                        <TextArea\n                            type=\"text\"\n                            id=\"import-design-summary\"\n                            name=\"import-design-summary\"\n                            aria-describedby=\"import-design-summary-helper\"\n                            value={summary}\n                            onChange={(value) => setSummary(value)}\n                        />\n                    </FormGroup>\n                </If>\n            </Form>\n        </Modal>\n    )\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport {Button, Modal, ModalVariant} from \"@patternfly/react-core\";\nimport {CreateDesign, CreateDesignContent, SearchedArtifact, SearchedVersion} from \"@app/models\";\nimport {Registry} from \"@rhoas/registry-management-sdk\";\nimport {RhosrService, useRhosrService} from \"@app/services\";\nimport {IsLoading} from \"@app/components\";\nimport {ArtifactSelector} from \"@app/pages/components\";\n\n\nexport type ImportFromRhosrModalProps = {\n    isOpen: boolean | undefined;\n    onImport: (event: CreateDesign, content: CreateDesignContent) => void;\n    onCancel: () => void;\n}\n\n\nexport const ImportFromRhosrModal: FunctionComponent<ImportFromRhosrModalProps> = ({isOpen, onImport, onCancel}: ImportFromRhosrModalProps) => {\n    const [isValid, setValid] = useState(false);\n    const [isLoading, setLoading] = useState(true);\n    const [registries, setRegistries] = useState([] as Registry[]);\n    const [design, setDesign] = useState<CreateDesign>();\n    const [designContent, setDesignContent] = useState<CreateDesignContent>();\n\n    const rhosr: RhosrService = useRhosrService();\n\n    // Called when the user selects an artifact from the artifact selector.\n    const onArtifactSelected = (registry?: Registry, artifact?: SearchedArtifact, version?: SearchedVersion, content?: CreateDesignContent): void => {\n        if (artifact === undefined) {\n            setDesign(undefined);\n            setDesignContent(undefined);\n        } else {\n            const cd: CreateDesign = {\n                type: artifact.type,\n                name: artifact.name || artifact.id,\n                summary: artifact.description || \"\",\n                context: {\n                    type: \"rhosr\",\n                    rhosr: {\n                        instanceId: registry?.id as string,\n                        groupId: artifact.groupId as string,\n                        artifactId: artifact.id,\n                        version: version?.version as string\n                    }\n                }\n            };\n            setDesign(cd);\n            setDesignContent(content);\n        }\n    };\n\n    // Called when the user clicks the Import button in the modal\n    const doImport = (): void => {\n        onImport(design as CreateDesign, designContent as CreateDesignContent);\n    };\n\n    useEffect(() => {\n        if (isOpen) {\n            // Get the list of registries.\n            rhosr.getRegistries().then(registries => {\n                setRegistries(registries.sort((a, b) => {\n                    const name1: string = a.name as string;\n                    const name2: string = b.name as string;\n                    return name1.localeCompare(name2);\n                }));\n                setLoading(false);\n            }).catch(error => {\n                // TODO handle this error case\n                console.error(\"[HomePage] Error getting registry list: \", error);\n            });\n        }\n    }, [isOpen]);\n\n    useEffect(() => {\n        let valid: boolean = true;\n        if (design === undefined) {\n            valid = false;\n        }\n        setValid(valid);\n    }, [design, designContent]);\n\n    return (\n        <Modal\n            variant={ModalVariant.large}\n            title=\"Import from Service Registry\"\n            isOpen={isOpen}\n            onClose={onCancel}\n            actions={[\n                <Button key=\"create\" variant=\"primary\" isDisabled={!isValid} onClick={doImport}>\n                    Import\n                </Button>,\n                <Button key=\"cancel\" variant=\"link\" onClick={onCancel}>\n                    Cancel\n                </Button>\n            ]}\n        >\n            <IsLoading condition={isLoading}>\n                <ArtifactSelector registries={registries} onSelected={onArtifactSelected} />\n            </IsLoading>\n        </Modal>\n    )\n};\n","import React, {FunctionComponent} from \"react\";\nimport {Template} from \"@app/models\";\nimport \"./template-item.css\";\nimport {PlusCircleIcon} from \"@patternfly/react-icons\";\n\nexport type TemplateItemProps = {\n    template: Template;\n    isSelected: boolean;\n    onSelect: (template: Template) => void;\n}\n\nexport const TemplateItem: FunctionComponent<TemplateItemProps> = ({template, isSelected, onSelect}: TemplateItemProps) => {\n    const onClick = (): void => {\n        if (!isSelected) {\n            onSelect(template);\n        }\n    };\n\n    return (\n        <div className={`template-item ${isSelected ? \"selected\" : \"not-selected\"}`} onClick={onClick}>\n            <div className=\"icon\">\n                <PlusCircleIcon />\n            </div>\n            <div className=\"name\">{template.name}</div>\n        </div>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport \"./url-upload.css\";\nimport {Button, Spinner, TextArea, TextInput} from \"@patternfly/react-core\";\nimport {If, IsLoading} from \"@app/components\";\nimport {UrlService, useUrlService} from \"@app/services\";\n\n/**\n * Properties\n */\nexport type UrlUploadProps = {\n    id: string|\"url-upload\";\n    urlPlaceholder: string|\"\";\n    onChange: (value: string|undefined, url: string|undefined) => void;\n};\n\n/**\n * A control similar to the FileUpload control from patternfly that allows uploading from\n * a URL instead of a file.\n */\nexport const UrlUpload: FunctionComponent<UrlUploadProps> = ({id, urlPlaceholder, onChange}: UrlUploadProps) => {\n    const [url, setUrl] = useState<string>();\n    const [previewContent, setPreviewContent] = useState<string>();\n    const [isLoading, setLoading] = useState<boolean>(false);\n    const [downloadError, setDownloadError] = useState<string>();\n\n    const urlService: UrlService = useUrlService();\n\n    const onTextInputChange = (value: string): void => {\n        setUrl(value);\n    };\n\n    const hasUrl = (): boolean => {\n        return url != undefined && url.trim().length > 0;\n    };\n\n    const hasError = (): boolean => {\n        return downloadError != undefined && downloadError.trim().length > 0;\n    };\n\n    const onDownload = (): void => {\n        setLoading(true);\n        urlService.fetchUrlContent(url as string).then(content => {\n            setDownloadError(undefined);\n            setPreviewContent(content);\n            setLoading(false);\n            onChange(content, url);\n        }).catch(error => {\n            setDownloadError(error.message);\n            setLoading(false);\n        });\n    };\n\n    const onClear = (): void => {\n        setUrl(\"\");\n        setPreviewContent(\"\");\n        onChange(undefined, undefined);\n    };\n\n    const spinner: React.ReactNode = (\n        <div className=\"url-upload-loading\">\n            <Spinner size=\"md\" className=\"spinner\" />\n            <span className=\"spinner-message\">Loading URL content</span>\n        </div>\n    );\n\n    return (\n        <div className=\"url-upload\">\n            <div className=\"url-upload-flex\">\n                <div className=\"url-upload-url\">\n                    <TextInput value={url} type=\"text\" placeholder={urlPlaceholder}\n                               onChange={onTextInputChange} aria-label=\"url input\" />\n                </div>\n                <div className=\"url-upload-button\">\n                    <Button variant=\"control\" isDisabled={!hasUrl()} onClick={onDownload}>Download</Button>\n                </div>\n                <div className=\"url-upload-button\">\n                    <Button variant=\"control\" isDisabled={!hasUrl()} onClick={onClear}>Clear</Button>\n                </div>\n            </div>\n            <div className=\"url-upload-preview\">\n                <IsLoading condition={isLoading} loadingComponent={spinner}>\n                    <If condition={hasError}>\n                        <div className=\"url-upload-error\">\n                            <div>\n                                Error getting content from URL.\n                            </div>\n                            <div>\n                                {downloadError}\n                            </div>\n                        </div>\n                    </If>\n                    <If condition={!hasError()}>\n                        <TextArea value={previewContent} isReadOnly={true}></TextArea>\n                    </If>\n                </IsLoading>\n            </div>\n        </div>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport \"./editor-context.css\";\nimport {ArtifactTypes, Design} from \"@app/models\";\nimport {\n    Breadcrumb,\n    BreadcrumbItem,\n    Button,\n    Dropdown,\n    DropdownItem, Gallery, GalleryItem,\n    MenuToggle,\n    Text,\n    TextContent\n} from \"@patternfly/react-core\";\nimport {If, NavLink, ToggleIcon} from \"@app/components\";\nimport Moment from \"react-moment\";\nimport {LocalStorageService, useLocalStorageService} from \"@app/services\";\nimport {DesignContext} from \"@app/models/designs/design-context.model\";\nimport {ExportToRhosrData, ExportToRhosrModal} from \"@app/pages/components\";\n\n/**\n * Properties\n */\nexport type EditorContextProps = {\n    design: Design;\n    dirty: boolean;\n    onSave: () => void;\n    onCancel: () => void;\n}\n\n/**\n * The context of the design when editing a design on the editor page.\n */\nexport const EditorContext: FunctionComponent<EditorContextProps> = ({design, dirty, onSave, onCancel}: EditorContextProps) => {\n    const lss: LocalStorageService = useLocalStorageService();\n\n    const [designContext, setDesignContext] = useState<DesignContext>();\n    const [isActionMenuToggled, setActionMenuToggled] = useState(false);\n    const [isExpanded, setExpanded] = useState(lss.getConfigProperty(\"editor-context.isExpanded\", \"false\") === \"true\");\n    const [isRegisterModalOpen, setRegisterModalOpen] = useState(false);\n\n    const onActionMenuToggle = (): void => {\n        setActionMenuToggled(!isActionMenuToggled);\n    };\n\n    const onToggleExpand = (): void => {\n        const newExpanded: boolean = !isExpanded;\n        lss.setConfigProperty(\"editor-context.isExpanded\", \"\" + newExpanded);\n        setExpanded(newExpanded);\n    };\n\n    const actionMenuToggle: React.ReactNode = (\n        <MenuToggle variant=\"secondary\" onClick={onActionMenuToggle} isExpanded={isActionMenuToggled}>Actions</MenuToggle>\n    );\n\n    const onActionMenuSelect = (event?: React.SyntheticEvent<HTMLDivElement>): void => {\n        // @ts-ignore\n        const action: string = event?.target.attributes[\"data-id\"].value;\n        setActionMenuToggled(false);\n        switch (action) {\n            case \"action-compare\":\n                return;\n            case \"action-validate\":\n                return;\n            case \"action-compatibility\":\n                return;\n            case \"action-export-to-rhosr\":\n                setRegisterModalOpen(true);\n                return;\n        }\n    };\n\n    const typeForDisplay = (): string => {\n        switch (design.type) {\n            case ArtifactTypes.OPENAPI:\n                return \"OpenAPI\";\n            case ArtifactTypes.ASYNCAPI:\n                return \"AsyncAPI\";\n            case ArtifactTypes.AVRO:\n                return \"Apache Avro\";\n            case ArtifactTypes.JSON:\n                return \"JSON Schema\";\n            case ArtifactTypes.PROTOBUF:\n                return \"Google Protocol Buffers\";\n        }\n        return \"N/A\";\n    };\n\n    const hasRhosrContext = (): boolean => {\n        return designContext !== undefined && designContext.type && designContext.type === \"rhosr\";\n    };\n\n    const hasFileContext = (): boolean => {\n        return designContext !== undefined && designContext.type && designContext.type === \"file\";\n    };\n\n    const hasUrlContext = (): boolean => {\n        return designContext !== undefined && designContext.type && designContext.type === \"url\";\n    };\n\n    const onRegisterDesignConfirmed = (event: ExportToRhosrData): void => {\n        // TODO anything to do here other than close the modal?\n        setRegisterModalOpen(false);\n    };\n\n    useEffect(() => {\n        if (design) {\n            const context: DesignContext|undefined = (design.contexts && design.contexts.length > 0) ? design.contexts[0] : undefined;\n            setDesignContext(context);\n        }\n    }, [design]);\n\n    return (\n        <React.Fragment>\n            <div className=\"editor-context\">\n                <div className=\"editor-context-breadcrumbs\">\n                    <Breadcrumb style={{marginBottom: \"10px\"}}>\n                        <BreadcrumbItem component=\"button\">\n                            <NavLink location=\"/\">Red Hat OpenShift API Designer</NavLink>\n                        </BreadcrumbItem>\n                        <BreadcrumbItem isActive={true}>{design?.name}</BreadcrumbItem>\n                    </Breadcrumb>\n                </div>\n                <div className=\"editor-context-last-modified\">\n                    <span>Last modified:</span>\n                    <Moment date={design.modifiedOn} fromNow={true} />\n                </div>\n                <div className=\"editor-context-actions\">\n                    <Dropdown\n                        onSelect={onActionMenuSelect}\n                        toggle={actionMenuToggle}\n                        isOpen={isActionMenuToggled}\n                        isPlain\n                        dropdownItems={\n                            [\n                                <DropdownItem key=\"action-export-to-rhosr\" data-id=\"action-export-to-rhosr\">Export to Service Registry</DropdownItem>,\n                                <DropdownItem key=\"action-compare\" data-id=\"action-compare\">Compare differences</DropdownItem>,\n                                <DropdownItem key=\"action-validate\" data-id=\"action-validate\">Validate</DropdownItem>,\n                                <DropdownItem key=\"action-compatibility\" data-id=\"action-compatibility\">Check compatibility</DropdownItem>,\n                            ]\n                        }\n                    />\n                </div>\n                <div className=\"editor-context-save\">\n                    <Button className=\"btn-save\" variant=\"primary\" onClick={onSave} isDisabled={!dirty}>Save</Button>\n                </div>\n                <div className=\"editor-context-toggle\">\n                    <Button className=\"btn-toggle\" variant=\"plain\" onClick={onToggleExpand}>\n                        <ToggleIcon expanded={isExpanded} onClick={() => { setExpanded(!isExpanded) }} />\n                    </Button>\n                </div>\n            </div>\n            <If condition={isExpanded}>\n                <div className=\"editor-context-details\">\n                    <TextContent>\n                        <Text component=\"h1\" className=\"title\">{design?.name}</Text>\n                        <Text component=\"p\" className=\"summary\">{design?.summary || \"(Design or schema with no summary)\"}</Text>\n                    </TextContent>\n                    <Gallery className=\"metadata\" minWidths={{default: \"300px\"}}>\n                        <GalleryItem className=\"md-property\">\n                            <span className=\"md-name\">Type</span>\n                            <span className=\"md-value\">{typeForDisplay()}</span>\n                        </GalleryItem>\n                        <If condition={hasRhosrContext}>\n                            <GalleryItem className=\"md-property\">\n                                <span className=\"md-name\">Group ID</span>\n                                <span className=\"md-value\">{designContext?.rhosr?.groupId || \"default\"}</span>\n                            </GalleryItem>\n                            <GalleryItem className=\"md-property\">\n                                <span className=\"md-name\">Artifact ID</span>\n                                <span className=\"md-value\">{designContext?.rhosr?.artifactId}</span>\n                            </GalleryItem>\n                            <GalleryItem className=\"md-property\">\n                                <span className=\"md-name\">Version</span>\n                                <span className=\"md-value\">{designContext?.rhosr?.version || \"latest\"}</span>\n                            </GalleryItem>\n                        </If>\n                        <If condition={hasFileContext}>\n                            <GalleryItem className=\"md-property\">\n                                <span className=\"md-name\">Filename</span>\n                                <span className=\"md-value\">{designContext?.file?.fileName}</span>\n                            </GalleryItem>\n                        </If>\n                        <If condition={hasUrlContext}>\n                            <GalleryItem className=\"md-property\">\n                                <span className=\"md-name\">URL</span>\n                                <span className=\"md-value\">{designContext?.url?.url}</span>\n                            </GalleryItem>\n                        </If>\n                    </Gallery>\n                </div>\n            </If>\n            <ExportToRhosrModal design={design as Design}\n                                isOpen={isRegisterModalOpen}\n                                onExported={onRegisterDesignConfirmed}\n                                onCancel={() => setRegisterModalOpen(false)} />\n        </React.Fragment>\n    );\n};\n","import React, {FunctionComponent, useEffect, useState} from \"react\";\nimport \"./export-to-rhosr.modal.css\";\nimport {Button, Form, FormGroup, Modal, ModalVariant, Spinner, TextInput} from \"@patternfly/react-core\";\nimport {Design} from \"@app/models\";\nimport {Registry} from \"@rhoas/registry-management-sdk\";\nimport {\n    DesignsService,\n    RhosrInstanceService,\n    RhosrInstanceServiceFactory,\n    RhosrService,\n    useDesignsService,\n    useRhosrInstanceServiceFactory,\n    useRhosrService\n} from \"@app/services\";\nimport {If, IsLoading, ObjectSelect} from \"@app/components\";\nimport {DesignContext} from \"@app/models/designs/design-context.model\";\nimport {CreateOrUpdateArtifactData} from \"@app/models/rhosr-instance/create-or-update-artifact-data.model\";\nimport {getContexts} from \"@app/utils\";\n\nexport type ExportToRhosrData = {\n    design: Design;\n    context: DesignContext;\n};\n\nexport type ExportToRhosrModalProps = {\n    design: Design;\n    isOpen: boolean | undefined;\n    onExported: (event: ExportToRhosrData) => void;\n    onCancel: () => void;\n}\n\n\nexport const ExportToRhosrModal: FunctionComponent<ExportToRhosrModalProps> = (\n    {design, isOpen, onExported, onCancel}: ExportToRhosrModalProps) => {\n\n    const [isValid, setValid] = useState(false);\n    const [isExporting, setExporting] = useState(false);\n    const [isLoadingRegistries, setLoadingRegistries] = useState(true);\n    const [registries, setRegistries] = useState([] as Registry[]);\n    const [registry, setRegistry] = useState<Registry>();\n    const [group, setGroup] = useState<string>();\n    const [artifactId, setArtifactId] = useState<string>();\n    const [version, setVersion] = useState<string>();\n    const [rhosrInstance, setRhosrInstance] = useState<RhosrInstanceService>();\n\n    const designs: DesignsService = useDesignsService();\n    const rhosr: RhosrService = useRhosrService();\n    const rhosrInstanceFactory: RhosrInstanceServiceFactory = useRhosrInstanceServiceFactory();\n\n    // Called when the user clicks \"export\"\n    const doExport = () => {\n        setExporting(true);\n        designs.getDesignContent(design.id).then(content => {\n            const data: CreateOrUpdateArtifactData = {\n                type: design.type,\n                groupId: group,\n                id: artifactId,\n                version: version,\n                content: content.data,\n                contentType: content.contentType\n            };\n            rhosrInstance?.createOrUpdateArtifact(data).then(amd => {\n                // TODO take the info from the artifact meta-data and return it as a context\n                const context: DesignContext = {\n                    type: \"rhosr\",\n                    rhosr: {\n                        instanceId: registry?.id as string,\n                        groupId: amd.groupId as string,\n                        artifactId: amd.id,\n                        version: amd.version\n                    }\n                };\n                const event: ExportToRhosrData = {\n                    design,\n                    context\n                };\n                setExporting(false);\n                onExported(event);\n            }).catch(error => {\n                // TODO error handling\n            });\n        }).catch(error => {\n            // TODO error handling\n        });\n    };\n\n    const onRegistrySelect = (registry: Registry): void => {\n        setRegistry(registry);\n    };\n\n    useEffect(() => {\n        if (isOpen) {\n            setLoadingRegistries(true);\n            // Get the list of registries.\n            rhosr.getRegistries().then(registries => {\n                setRegistries(registries.sort((a, b) => {\n                    const name1: string = a.name as string;\n                    const name2: string = b.name as string;\n                    return name1.localeCompare(name2);\n                }));\n                if (registries && registries.length > 0) {\n                    setRegistry(registries[0]);\n                }\n                setLoadingRegistries(false);\n            }).catch(error => {\n                // TODO handle this error case\n                console.error(\"[HomePage] Error getting registry list: \", error);\n            });\n        }\n    }, [isOpen]);\n\n    useEffect(() => {\n        if (design && design.contexts && design.contexts.length > 0) {\n            const filteredContexts: DesignContext[] = getContexts(design, \"rhosr\");\n            if (filteredContexts.length > 0) {\n                const context: DesignContext = filteredContexts[0];\n                setGroup(context.rhosr?.groupId);\n                setArtifactId(context.rhosr?.artifactId);\n                setVersion(context.rhosr?.version);\n            }\n        }\n    }, [design]);\n\n    // Set the validity whenever one of the relevant state variables changes.\n    useEffect(() => {\n        let valid: boolean = true;\n        if (!registry) {\n            valid = false;\n        }\n        setValid(valid);\n    }, [registry, group, artifactId, version]);\n\n    // Whenever the registry changes, create a rhosr instance service for it.\n    useEffect(() => {\n        if (registry) {\n            const rhosrInstance: RhosrInstanceService = rhosrInstanceFactory.createFor(registry as Registry);\n            setRhosrInstance(rhosrInstance);\n        }\n    }, [registry]);\n\n    return (\n        <Modal\n            variant={ModalVariant.medium}\n            title=\"Export to Service Registry\"\n            isOpen={isOpen}\n            onClose={onCancel}\n            actions={[\n                <Button key=\"export\" variant=\"primary\" isDisabled={!isValid || isExporting} onClick={doExport}>\n                    <If condition={isExporting}>\n                        <Spinner size=\"md\" className=\"export-spinner\" />\n                    </If>\n                    Export\n                </Button>,\n                <Button key=\"cancel\" variant=\"link\" onClick={onCancel}>\n                    Cancel\n                </Button>\n            ]}\n        >\n            <IsLoading condition={isLoadingRegistries}>\n                <Form>\n                    <FormGroup label=\"Registry Instance\" isRequired={true} fieldId=\"export-registry-instance\">\n                        <ObjectSelect value={registry} items={registries}\n                                      onSelect={onRegistrySelect}\n                                      menuAppendTo=\"parent\"\n                                      itemToString={item => item.name} />\n                    </FormGroup>\n                    <FormGroup label=\"Group\" isRequired={false} fieldId=\"export-group\">\n                        <TextInput\n                            isRequired\n                            type=\"text\"\n                            id=\"export-group\"\n                            name=\"export-group\"\n                            placeholder=\"Enter group ID (optional) or leave blank for default group\"\n                            aria-describedby=\"export-group-helper\"\n                            value={group}\n                            onChange={(value) => setGroup(value)}\n                        />\n                    </FormGroup>\n                    <FormGroup label=\"Artifact Id\" isRequired={false} fieldId=\"export-artifact-id\">\n                        <TextInput\n                            isRequired\n                            type=\"text\"\n                            id=\"export-artifact-id\"\n                            name=\"export-artifact-id\"\n                            placeholder=\"Enter artifact ID (optional) or leave blank for generated ID\"\n                            aria-describedby=\"export-artifact-id-helper\"\n                            value={artifactId}\n                            onChange={(value) => setArtifactId(value)}\n                        />\n                    </FormGroup>\n                    <FormGroup label=\"Version\" isRequired={false} fieldId=\"export-version\">\n                        <TextInput\n                            isRequired\n                            type=\"text\"\n                            id=\"export-version\"\n                            name=\"export-version\"\n                            placeholder=\"Enter version (optional) or leave blank for generated version #\"\n                            aria-describedby=\"export-version-helper\"\n                            value={version}\n                            onChange={(value) => setVersion(value)}\n                        />\n                    </FormGroup>\n                </Form>\n            </IsLoading>\n        </Modal>\n    )\n};\n","import {Auth, useAuth} from \"@rhoas/app-services-ui-shared\";\nimport {\n    ArtifactMetaData,\n    ArtifactSearchResults,\n    ContentTypes,\n    CreateArtifactData,\n    CreateVersionData,\n    GetArtifactsCriteria,\n    Paging,\n    SearchedVersion,\n    VersionMetaData\n} from \"@app/models\";\nimport {createEndpoint, createHref, createOptions, httpGet, httpPostWithReturn} from \"@app/utils/rest.utils\";\nimport {Registry} from \"@rhoas/registry-management-sdk\";\nimport {isJson, isXml, isYaml} from \"@app/utils\";\nimport {CreateOrUpdateArtifactData} from \"@app/models/rhosr-instance/create-or-update-artifact-data.model\";\n\n\n/**\n * Determines the content type of the given content.\n * @param type\n * @param content\n */\nfunction determineContentType(type: string, content: string): string {\n    switch (type) {\n        case \"PROTOBUF\":\n            return ContentTypes.APPLICATION_PROTOBUF;\n        case \"WSDL\":\n        case \"XSD\":\n        case \"XML\":\n            return ContentTypes.APPLICATION_XML;\n        case \"GRAPHQL\":\n            return ContentTypes.APPLICATION_GRAPHQL;\n    }\n    if (isJson(content)) {\n        return ContentTypes.APPLICATION_JSON;\n    } else if (isXml(content)) {\n        return ContentTypes.APPLICATION_XML;\n    } else if (isYaml(content)) {\n        return ContentTypes.APPLICATION_YAML;\n    } else {\n        return \"application/octet-stream\";\n    }\n}\n\n\nfunction normalizeGroupId(groupId: string|undefined): string {\n    return groupId || \"default\";\n}\n\n\nasync function createArtifact(auth: Auth, basePath: string, data: CreateArtifactData): Promise<ArtifactMetaData> {\n    const endpoint: string = createEndpoint(basePath, \"/groups/:groupId/artifacts\", {groupId: data.groupId});\n    const headers: any = {};\n    if (data.id) {\n        headers[\"X-Registry-ArtifactId\"] = data.id;\n    }\n    if (data.type) {\n        headers[\"X-Registry-ArtifactType\"] = data.type;\n    }\n    headers[\"Content-Type\"] = determineContentType(data.type, data.content);\n    return httpPostWithReturn<any, ArtifactMetaData>(endpoint, data.content, createOptions(headers));\n}\n\n\nasync function createOrUpdateArtifact(auth: Auth, basePath: string, data: CreateOrUpdateArtifactData): Promise<ArtifactMetaData> {\n    const endpoint: string = createEndpoint(basePath,\n        \"/groups/:groupId/artifacts\",\n        {groupId: data.groupId||\"default\"},\n        {ifExists: \"UPDATE\"}\n    );\n    const headers: any = {};\n    if (data.id) {\n        headers[\"X-Registry-ArtifactId\"] = data.id;\n    }\n    if (data.type) {\n        headers[\"X-Registry-ArtifactType\"] = data.type;\n    }\n    if (data.version) {\n        headers[\"X-Registry-Version\"] = data.version;\n    }\n    headers[\"Content-Type\"] = data.contentType;\n    return httpPostWithReturn<any, ArtifactMetaData>(endpoint, data.content, createOptions(headers));\n};\n\n\nasync function createArtifactVersion(auth: Auth, basePath: string, groupId: string | undefined, artifactId: string, data: CreateVersionData): Promise<VersionMetaData> {\n    groupId = normalizeGroupId(groupId);\n\n    const endpoint: string = createEndpoint(basePath, \"/groups/:groupId/artifacts/:artifactId/versions\", {\n        groupId: groupId||\"default\",\n        artifactId\n    });\n    const headers: any = {};\n    if (data.type) {\n        headers[\"X-Registry-ArtifactType\"] = data.type;\n    }\n    headers[\"Content-Type\"] = determineContentType(data.type, data.content);\n    return httpPostWithReturn<any, VersionMetaData>(endpoint, data.content, createOptions(headers));\n}\n\n\nasync function getArtifacts(auth: Auth, basePath: string, criteria: GetArtifactsCriteria, paging: Paging): Promise<ArtifactSearchResults> {\n    console.debug(\"[RhosrInstanceService] Getting artifacts: \", criteria, paging);\n    const start: number = (paging.page - 1) * paging.pageSize;\n    const end: number = start + paging.pageSize;\n    const queryParams: any = {\n        limit: end,\n        offset: start,\n        order: criteria.sortAscending ? \"asc\" : \"desc\",\n        orderby: \"name\"\n    };\n    if (criteria.value) {\n        if (criteria.type == \"everything\") {\n            queryParams[\"name\"] = criteria.value;\n            queryParams[\"description\"] = criteria.value;\n            queryParams[\"labels\"] = criteria.value;\n        } else {\n            queryParams[criteria.type] = criteria.value;\n        }\n    }\n    const endpoint: string = createEndpoint(basePath, \"/search/artifacts\", {}, queryParams);\n    return httpGet<ArtifactSearchResults>(endpoint, undefined, (data) => {\n        const results: ArtifactSearchResults = {\n            artifacts: data.artifacts,\n            count: data.count,\n            page: paging.page,\n            pageSize: paging.pageSize\n        };\n        return results;\n    });\n}\n\n\nasync function getArtifactContent(auth: Auth, basePath: string, groupId: string | undefined, artifactId: string, version: string): Promise<string> {\n    groupId = normalizeGroupId(groupId);\n\n    let endpoint: string = createEndpoint(basePath, \"/groups/:groupId/artifacts/:artifactId/versions/:version\", {\n        groupId,\n        artifactId,\n        version\n    });\n    if (version === \"latest\") {\n        endpoint = createEndpoint(basePath, \"/groups/:groupId/artifacts/:artifactId\", {groupId, artifactId});\n    }\n\n    const options: any = createOptions({\n        \"Accept\": \"*\"\n    });\n    options.maxContentLength = \"5242880\"; // TODO 5MB hard-coded, make this configurable?\n    options.responseType = \"text\";\n    options.transformResponse = (data: any) => data;\n    return httpGet<string>(endpoint, options);\n}\n\n\nasync function getArtifactVersions(auth: Auth, basePath: string, groupId: string | undefined, artifactId: string): Promise<SearchedVersion[]> {\n    groupId = normalizeGroupId(groupId);\n\n    console.info(\"[RhosrInstanceService] Getting the list of versions for artifact: \", groupId, artifactId);\n    const endpoint: string = createEndpoint(basePath, \"/groups/:groupId/artifacts/:artifactId/versions\", {\n        groupId,\n        artifactId\n    }, {\n        limit: 500,\n        offset: 0\n    });\n    return httpGet<SearchedVersion[]>(endpoint, undefined, (data) => {\n        return data.versions;\n    });\n}\n\n\n/**\n * The RHOSR Instance service interface.\n */\nexport interface RhosrInstanceService {\n    createArtifact(data: CreateArtifactData): Promise<ArtifactMetaData>;\n    createArtifactVersion(groupId: string | undefined, artifactId: string, data: CreateVersionData): Promise<VersionMetaData>;\n    createOrUpdateArtifact(data: CreateOrUpdateArtifactData): Promise<ArtifactMetaData>;\n    getArtifacts(criteria: GetArtifactsCriteria, paging: Paging): Promise<ArtifactSearchResults>;\n    getArtifactContent(groupId: string | undefined, artifactId: string, version: string): Promise<string>;\n    getArtifactVersions(groupId: string | undefined, artifactId: string): Promise<SearchedVersion[]>;\n}\n\n/**\n * Factory for creating RHOSR instance services.\n */\nexport interface RhosrInstanceServiceFactory {\n    createFor(registry: Registry): RhosrInstanceService;\n}\n\n\n/**\n * React hook to get the RHOSR instance service.\n */\nexport const useRhosrInstanceServiceFactory: () => RhosrInstanceServiceFactory = (): RhosrInstanceServiceFactory => {\n    const auth: Auth = useAuth();\n\n    return {\n        createFor: (registry) => {\n            const instanceUrl: string = createHref(registry.registryUrl as string,\"/apis/registry/v2\");\n            return {\n                createArtifact: (data) => createArtifact(auth, instanceUrl, data),\n                createArtifactVersion: (groupId, artifactId, data) => createArtifactVersion(auth, instanceUrl, groupId, artifactId, data),\n                createOrUpdateArtifact: (data: CreateOrUpdateArtifactData) => createOrUpdateArtifact(auth, instanceUrl, data),\n                getArtifacts: (criteria, paging) => getArtifacts(auth, instanceUrl, criteria, paging),\n                getArtifactContent: (groupId, artifactId, version) => getArtifactContent(auth, instanceUrl, groupId, artifactId, version),\n                getArtifactVersions: (groupId, artifactId) => getArtifactVersions(auth, instanceUrl, groupId, artifactId),\n            };\n        }\n    };\n};\n","import {\n    CreateDesign,\n    Design,\n    DesignContent,\n    DesignsSearchCriteria,\n    DesignsSearchResults,\n    DesignsSort,\n    Paging\n} from \"@app/models\";\nimport Dexie, { Table } from \"dexie\";\nimport { v4 as uuidv4 } from \"uuid\";\nimport {CreateDesignContent} from \"@app/models/designs/create-design-content.model\";\n\n\nconst db = new Dexie(\"designsDB\");\ndb.version(2).stores({\n    designs: \"++id, type, name, summary, createdOn, modifiedOn\", // Primary key and indexed props\n    content: \"++id, data\"\n});\n\n\nasync function createDesign(cd: CreateDesign, cdc: CreateDesignContent): Promise<Design> {\n    const id: string = uuidv4();\n    const newDesign: Design = {\n        id,\n        name: cd.name,\n        summary: cd.summary,\n        type: cd.type,\n        createdOn: new Date(),\n        modifiedOn: new Date(),\n        contexts: []\n    };\n    if (cd.context) {\n        newDesign.contexts?.push(cd.context);\n    }\n    const newDesignContent: DesignContent = {\n        id,\n        contentType: cdc.contentType,\n        data: cdc.data\n    };\n    return Promise.all([\n        // @ts-ignore\n        db.designs.add(newDesign),\n        // @ts-ignore\n        db.content.add(newDesignContent)\n    ]).then(() => newDesign);\n}\n\nasync function getDesigns(): Promise<Design[]> {\n    // @ts-ignore\n    return db.designs.toArray();\n}\n\nasync function searchDesigns(criteria: DesignsSearchCriteria, paging: Paging, sort: DesignsSort): Promise<DesignsSearchResults> {\n    console.debug(\"[DesignsService] Searching for designs: \", criteria, paging);\n    const accept = (design: Design): boolean => {\n        let matches: boolean = false;\n        if (!criteria.filterValue || criteria.filterValue.trim().length === 0) {\n            matches = true;\n        } else if (design.name.toLowerCase().indexOf(criteria.filterValue.toLowerCase()) >= 0) {\n            matches = true;\n        } else if (design.summary && design.summary.toLowerCase().indexOf(criteria.filterValue.toLowerCase()) >= 0) {\n            matches = true;\n        }\n        return matches;\n    };\n\n    return getDesigns().then(designs => {\n        // TODO Explore whether we can use dexie to filter and page the results.\n\n        // filter and sort the results\n        const filteredDesigns: Design[] = designs.filter(accept).sort((design1, design2) => {\n            let rval: number = sort.by === \"name\" ? (\n                design1.name.localeCompare(design2.name)\n            ) : (\n                design2.modifiedOn.getTime() - design1.modifiedOn.getTime()\n            );\n            if (sort.direction !== \"asc\") {\n                rval *= -1;\n            }\n            return rval;\n        });\n        // get the total count\n        const totalCount: number = filteredDesigns.length;\n        // get the subset of results based on paging\n        const start: number = (paging.page - 1) * paging.pageSize;\n        const end: number = start + paging.pageSize;\n        const pagedDesigns: Design[] = filteredDesigns.slice(start, end);\n        return {\n            designs: pagedDesigns,\n            page: paging.page,\n            pageSize: paging.pageSize,\n            count: totalCount\n        }\n    });\n}\n\n\nasync function getDesign(id: string): Promise<Design> {\n    // @ts-ignore\n    return db.designs.where(\"id\").equals(id).first();\n}\n\nasync function deleteDesign(id: string): Promise<void> {\n    // @ts-ignore\n    return db.designs.where(\"id\").equals(id).delete();\n}\n\nasync function getDesignContent(id: string): Promise<DesignContent> {\n    // @ts-ignore\n    return db.content.where(\"id\").equals(id).first();\n}\n\nasync function updateDesignContent(content: DesignContent): Promise<void> {\n    return Promise.all([\n        // @ts-ignore\n        db.content.update(content.id, {\n            data: content.data\n        }),\n        // @ts-ignore\n        db.designs.update(content.id, {\n            modifiedOn: new Date()\n        })\n    ]).then(() => {});\n}\n\n\n/**\n * The Designs Service interface.\n */\nexport interface DesignsService {\n    createDesign(cd: CreateDesign, cdc: CreateDesignContent): Promise<Design>;\n    getDesigns(): Promise<Design[]>;\n    getDesign(id: string): Promise<Design>;\n    searchDesigns(criteria: DesignsSearchCriteria, paging: Paging, sort: DesignsSort): Promise<DesignsSearchResults>;\n    deleteDesign(id: string): Promise<void>;\n    getDesignContent(id: string): Promise<DesignContent>;\n    updateDesignContent(content: DesignContent): Promise<void>;\n}\n\n\n/**\n * React hook to get the Designs service.\n */\nexport const useDesignsService: () => DesignsService = (): DesignsService => {\n    return {\n        createDesign,\n        getDesigns,\n        searchDesigns,\n        getDesign,\n        deleteDesign,\n        getDesignContent,\n        updateDesignContent\n    };\n};\n","import {ContentTypes, Template} from \"@app/models\";\nimport ASYNCAPI_2_BLANK from \"./asyncapi/asyncapi-2-blank.json\";\nimport ASYNCAPI_2_STREETLIGHTS from \"./asyncapi/asyncapi-2-streetlights.json\";\n\nexport const ASYNCAPI_2_TEMPLATES: Template[] = [\n    {\n        id: \"asyncapi_2_blank\",\n        name: \"Blank API\",\n        content: {\n            contentType: ContentTypes.APPLICATION_JSON,\n            data: ASYNCAPI_2_BLANK\n        }\n    },\n    {\n        id: \"asyncapi_2_streetlights\",\n        name: \"Street Lights Example\",\n        content: {\n            contentType: ContentTypes.APPLICATION_JSON,\n            data: ASYNCAPI_2_STREETLIGHTS\n        }\n    }\n]\n","import {ContentTypes, Template} from \"@app/models\";\nimport OPENAPI_3_BLANK from \"./openapi/openapi-3-blank.json\";\nimport OPENAPI_3_PETSTORE from \"./openapi/openapi-3-petstore.json\";\nimport OPENAPI_3_USPTO from \"./openapi/openapi-3-uspto.json\";\nimport OPENAPI_2_BLANK from \"./openapi/openapi-2-blank.json\";\nimport OPENAPI_2_PETSTORE from \"./openapi/openapi-2-petstore.json\";\n\n\nexport const OPENAPI_3_TEMPLATES: Template[] = [\n    {\n        id: \"openapi_3_blank\",\n        name: \"Blank API\",\n        content: {\n            contentType: ContentTypes.APPLICATION_JSON,\n            data: OPENAPI_3_BLANK\n        }\n    },\n    {\n        id: \"openapi_3_petstore\",\n        name: \"Pet Store Example\",\n        content: {\n            contentType: ContentTypes.APPLICATION_JSON,\n            data: OPENAPI_3_PETSTORE\n        }\n    },\n    {\n        id: \"openapi_3_uspto\",\n        name: \"USPTO Dataset API\",\n        content: {\n            contentType: ContentTypes.APPLICATION_JSON,\n            data: OPENAPI_3_USPTO\n        }\n    }\n]\n\nexport const OPENAPI_2_TEMPLATES: Template[] = [\n    {\n        id: \"openapi_2_blank\",\n        name: \"Blank API\",\n        content: {\n            contentType: ContentTypes.APPLICATION_JSON,\n            data: OPENAPI_2_BLANK\n        }\n    },\n    {\n        id: \"openapi_2_petstore\",\n        name: \"Pet Store Example\",\n        content: {\n            contentType: ContentTypes.APPLICATION_JSON,\n            data: OPENAPI_2_PETSTORE\n        }\n    }\n]\n","import {ContentTypes, Template} from \"@app/models\";\nimport JSON_BLANK from \"./json/json-blank.json\";\n\nexport const JSON_TEMPLATES: Template[] = [\n    {\n        id: \"json_blank\",\n        name: \"Blank JSON Schema\",\n        content: {\n            contentType: ContentTypes.APPLICATION_JSON,\n            data: JSON_BLANK\n        }\n    }\n]\n","import {ContentTypes, Template} from \"@app/models\";\nimport AVRO_BLANK from \"./avro/avro-blank.json\";\n\nexport const AVRO_TEMPLATES: Template[] = [\n    {\n        id: \"avro_blank\",\n        name: \"Blank Avro Schema\",\n        content: {\n            contentType: ContentTypes.APPLICATION_JSON,\n            data: AVRO_BLANK\n        }\n    }\n]\n","import {ContentTypes, Template} from \"@app/models\";\nimport PROTOBUF_BLANK from \"./protobuf/protobuf-blank.json\";\n\nexport const PROTOBUF_TEMPLATES: Template[] = [\n    {\n        id: \"protobuf_blank\",\n        name: \"Blank Protobuf Schema\",\n        content: {\n            contentType: ContentTypes.APPLICATION_PROTOBUF,\n            data: PROTOBUF_BLANK.template\n        }\n    }\n]\n","import {Template} from \"@app/models/templates/template.model\";\nimport {\n    ASYNCAPI_2_TEMPLATES,\n    AVRO_TEMPLATES,\n    JSON_TEMPLATES,\n    OPENAPI_2_TEMPLATES,\n    OPENAPI_3_TEMPLATES,\n    PROTOBUF_TEMPLATES\n} from \"@app/services/_templates\";\nimport {ArtifactTypes} from \"@app/models\";\n\n\nasync function getTemplatesFor(type: string, version?: string): Promise<Template[]> {\n    if (type === ArtifactTypes.AVRO) {\n        return Promise.resolve(AVRO_TEMPLATES);\n    }\n    if (type === ArtifactTypes.PROTOBUF) {\n        return Promise.resolve(PROTOBUF_TEMPLATES);\n    }\n    if (type === ArtifactTypes.JSON) {\n        return Promise.resolve(JSON_TEMPLATES);\n    }\n    if (type === ArtifactTypes.ASYNCAPI) {\n        return Promise.resolve(ASYNCAPI_2_TEMPLATES);\n    }\n    if (type === ArtifactTypes.OPENAPI) {\n        if (version && version.startsWith(\"3\")) {\n            return Promise.resolve(OPENAPI_3_TEMPLATES);\n        } else {\n            return Promise.resolve(OPENAPI_2_TEMPLATES);\n        }\n    }\n    return Promise.reject(`No templates found for type ${type} and version ${version}.`);\n}\n\n\n/**\n * The Templates Service interface.\n */\nexport interface TemplatesService {\n    getTemplatesFor(type: string, version?: string): Promise<Template[]>;\n}\n\n\n/**\n * React hook to get the Templates service.\n */\nexport const useTemplatesService: () => TemplatesService = (): TemplatesService => {\n    return {\n        getTemplatesFor\n    };\n};\n","/**\n * Downloads the given content to the filesystem using the given content type and\n * file name.\n * @param content\n * @param contentType\n * @param filename\n */\nasync function downloadToFS(content: string, contentType: string, filename: string): Promise<void> {\n    console.info(\"[DownloadService] Downloading a design.\");\n    const _w: any = window;\n\n    if (_w.chrome !== undefined) {\n        // Chrome version\n        let link = document.createElement('a');\n        let blob = new Blob([content], { type: contentType });\n        link.href = _w.URL.createObjectURL(blob);\n        link.download = filename;\n        link.click();\n    } else if (_w.navigator !== undefined && _w.navigator.msSaveBlob !== undefined) {\n        // IE version\n        let blob = new Blob([content], { type: contentType });\n        _w.navigator.msSaveBlob(blob, filename);\n    } else {\n        // Firefox version\n        let file = new File([content], filename, { type: 'application/force-download' });\n        _w.open(URL.createObjectURL(file));\n    }\n}\n\n\n/**\n * The Download Service interface.\n */\nexport interface DownloadService {\n    downloadToFS(content: string, contentType: string, filename: string): Promise<void>;\n}\n\n\n/**\n * React hook to get the Download service.\n */\nexport const useDownloadService: () => DownloadService = (): DownloadService => {\n    return {\n        downloadToFS\n    };\n};\n","import {createOptions, httpGet} from \"@app/utils\";\n\nasync function fetchUrlContent(url: string): Promise<string> {\n    console.info(\"[UrlService] Fetching content from a URL: \", url);\n\n    let endpoint: string = url;\n    const options: any = createOptions({\n        \"Accept\": \"*\"\n    });\n    options.maxContentLength = \"5242880\"; // TODO 5MB hard-coded, make this configurable?\n    options.responseType = \"text\";\n    options.transformResponse = (data: any) => data;\n    return httpGet<string>(endpoint, options);\n}\n\n\n/**\n * The URL Service interface.\n */\nexport interface UrlService {\n    fetchUrlContent(url: string): Promise<string>;\n}\n\n\n/**\n * React hook to get the URL service.\n */\nexport const useUrlService: () => UrlService = (): UrlService => {\n    return {\n        fetchUrlContent\n    };\n};\n","\nfunction setConfigProperty(propertyName: string, propertyValue: string): void {\n    console.info(`[LocalStorageService] Setting config property ${propertyName} to value ${propertyValue}.`);\n    localStorage.setItem(\"apicurio-studio.\" + propertyName, propertyValue);\n}\n\nfunction getConfigProperty(propertyName: string, defaultValue: string): string {\n    console.info(`[LocalStorageService] Getting config property ${propertyName}`);\n    const value: string|null = localStorage.getItem(\"apicurio-studio.\" + propertyName);\n    return value !== null ? value : defaultValue;\n}\n\n\n/**\n * The Local Storage Service interface.\n */\nexport interface LocalStorageService {\n    setConfigProperty(propertyName: string, propertyValue: string): void;\n    getConfigProperty(propertyName: string, defaultValue: string): string;\n}\n\n\n/**\n * React hook to get the LocalStorage service.\n */\nexport const useLocalStorageService: () => LocalStorageService = (): LocalStorageService => {\n    return {\n        setConfigProperty,\n        getConfigProperty\n    };\n};\n","import {Configuration, Registry, RegistriesApi, RegistryList} from '@rhoas/registry-management-sdk';\nimport {Auth, useAuth, Config, useConfig} from \"@rhoas/app-services-ui-shared\";\n\n\nconst RHOSR_MOCK_DATA: Registry[] = [\n    {\n        id: \"1\",\n        name: \"Local Registry 1 (localhost:8081)\",\n        registryUrl: \"http://localhost:8081/\",\n        status: \"ready\",\n        created_at: \"2022-01-01T12:00:00Z\",\n        updated_at: \"2022-01-01T12:00:00Z\",\n        instance_type: \"standard\"\n    },\n    {\n        id: \"2\",\n        name: \"Local Registry 2 (localhost:8082)\",\n        registryUrl: \"http://localhost:8082/\",\n        status: \"ready\",\n        created_at: \"2022-01-01T12:00:00Z\",\n        updated_at: \"2022-01-01T12:00:00Z\",\n        instance_type: \"standard\"\n    }\n]\n\nconst RHOSR_MOCK_DATA_OF: Registry[] = [\n    {\n        id: \"101\",\n        name: \"Operate First Registry 1\",\n        registryUrl: \"http://apicurio-registry-mem-one.apps.smaug.na.operate-first.cloud/\",\n        status: \"ready\",\n        created_at: \"2022-01-01T12:00:00Z\",\n        updated_at: \"2022-01-01T12:00:00Z\",\n        instance_type: \"standard\"\n    },\n    {\n        id: \"201\",\n        name: \"Operate First Registry 2\",\n        registryUrl: \"http://apicurio-registry-mem-two.apps.smaug.na.operate-first.cloud/\",\n        status: \"ready\",\n        created_at: \"2022-01-01T12:00:00Z\",\n        updated_at: \"2022-01-01T12:00:00Z\",\n        instance_type: \"standard\"\n    }\n]\n\n\n/**\n * Async function to get the RHOSR instances.  Uses a provided auth token and API\n * base path to create a RHOSR SDK instance.\n * @param auth the application auth\n * @param basePath base path of the fleet manager API\n */\nasync function getRegistries(auth: Auth, basePath: string): Promise<Registry[]> {\n    console.debug(\"[RhosrService] Getting a list of registries from: \", basePath);\n    const token: string | undefined = auth?.srs ? await auth?.srs.getToken() : \"\";\n    const api: RegistriesApi = new RegistriesApi(\n        new Configuration({\n            accessToken: token,\n            basePath,\n        })\n    );\n    return api.getRegistries().then(res => {\n        const registries: RegistryList = res?.data;\n        return registries.items;\n    });\n}\n\n/**\n * Gets information about a single registry instances by its unique ID.\n * @param id the registry instance ID\n * @param auth the application auth\n * @param basePath base path of the fleet manager API\n */\nasync function getRegistry(id: string, auth: Auth, basePath: string): Promise<Registry> {\n    console.debug(\"[RhosrService] Getting a single registry from: \", basePath);\n    const token: string | undefined = auth?.srs ? await auth?.srs.getToken() : \"\";\n    const api: RegistriesApi = new RegistriesApi(\n        new Configuration({\n            accessToken: token,\n            basePath,\n        })\n    );\n    return api.getRegistry(id).then(res => {\n        return res?.data;\n    });\n}\n\n\n/**\n * The RHOSR Service interface.\n */\nexport interface RhosrService {\n    getRegistries(): Promise<Registry[]>;\n    getRegistry(id: string): Promise<Registry>;\n}\n\n\n/**\n * A mock version of the RHOSR service.\n */\nfunction createMockService(mockData: Registry[]): RhosrService {\n    return {\n        getRegistries(): Promise<Registry[]> {\n            return Promise.resolve(mockData);\n        },\n        getRegistry(id: string): Promise<Registry> {\n            const matching: Registry[] = mockData.filter(registry => registry.id === id);\n            if (matching && matching.length > 0) {\n                return Promise.resolve(matching[0]);\n            } else {\n                return Promise.resolve({} as Registry);\n            }\n        }\n    };\n}\n\n\n/**\n * React hook to get the RHOSR service.\n */\nexport const useRhosrService: () => RhosrService = (): RhosrService => {\n    const auth: Auth = useAuth();\n    const cfg: Config = useConfig();\n\n    if (cfg.srs.apiBasePath && cfg.srs.apiBasePath.startsWith(\"local-mock\")) {\n        console.warn(\"[RhosrService] RHOSR mocking enabled.\");\n        return createMockService(RHOSR_MOCK_DATA);\n    }\n\n    if (cfg.srs.apiBasePath && cfg.srs.apiBasePath.startsWith(\"operate-first-mock\")) {\n        console.warn(\"[RhosrService] RHOSR mocking enabled (Operate First).\");\n        return createMockService(RHOSR_MOCK_DATA_OF);\n    }\n\n    return {\n        getRegistries: () => getRegistries(auth, cfg.srs.apiBasePath),\n        getRegistry: (id) => getRegistry(id, auth, cfg.srs.apiBasePath),\n    };\n};\n","/**\n * Clones an object by stringifying it and then parsing it.  Not efficient\n * but effective.  Use sparingly.\n * @param object\n */\nexport function cloneObject(object: any): any {\n    return JSON.parse(JSON.stringify(object));\n}\n\n/**\n * Function to search a JS object for a property value that matches a criteria (from) and\n * replaces it with a new value (to);\n * @param object\n * @param from\n * @param to\n */\nexport function propertyReplace(object: any, from: string, to: string): void {\n    Object.keys(object).forEach(key => {\n        let value: any = object[key];\n        if (typeof value === \"object\") {\n            propertyReplace(value, from, to);\n        } else if (value === from) {\n            object[key] = to;\n        }\n    })\n}\n","import YAML from \"yaml\";\nimport {IParserResult, parse} from \"protobufjs\";\nimport {ArtifactTypes, ContentTypes, Design, DesignContent} from \"@app/models\";\nimport {DesignContext} from \"@app/models/designs/design-context.model\";\n\n/**\n * Returns true if the given content is JSON formatted.\n * @param content the content to check\n */\nexport function isJson(content: string): boolean {\n    try {\n        JSON.parse(content);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\nexport function parseJson(content: string): any {\n    return JSON.parse(content);\n}\nexport function toJsonString(content: any): string {\n    return JSON.stringify(content, null, 4);\n}\n\n\n/**\n * Returns true if the given content is YAML formatted.\n * @param content the content to check\n */\nexport function isYaml(content: string): boolean {\n    try {\n        const result: any = YAML.parse(content);\n        if (typeof result === \"object\") {\n            return true;\n        }\n    } catch (e) {\n    }\n    return false;\n}\nexport function parseYaml(content: string): any {\n    return YAML.parse(content);\n}\nexport function toYamlString(content: any): string {\n    return YAML.stringify(content, null, 4);\n}\n\n/**\n * Returns true if the given content is XML formatted.\n * @param content the content to check\n */\nexport function isXml(content: string): boolean {\n    try {\n        const xmlParser: DOMParser = new DOMParser();\n        const dom: Document = xmlParser.parseFromString(content, \"application/xml\");\n        const isParseError: boolean = dom.getElementsByTagName(\"parsererror\").length !== 0;\n        return !isParseError;\n    } catch (e) {\n        return false;\n    }\n}\n\nfunction isXmlWithRootNode(content: string, namespace: string, localName: string): boolean {\n    try {\n        const xmlParser: DOMParser = new DOMParser();\n        const dom: Document = xmlParser.parseFromString(content, \"application/xml\");\n        const isParseError: boolean = dom.getElementsByTagName(\"parsererror\").length !== 0;\n        return !isParseError &&\n               dom.documentElement.namespaceURI === namespace &&\n               dom.documentElement.localName === localName;\n    } catch (e) {\n        return false;\n    }\n}\nexport function isWsdl(content: string): boolean {\n    return isXmlWithRootNode(content, \"http://schemas.xmlsoap.org/wsdl/\", \"definitions\");\n}\nexport function isXsd(content: string): boolean {\n    return isXmlWithRootNode(content, \"http://www.w3.org/2001/XMLSchema\", \"schema\");\n}\n\n\n/**\n * Returns true if the given content is PROTO formatted.\n * @param content the content to check\n */\nexport function isProto(content: string): boolean {\n    try {\n        const result: IParserResult = parse(content);\n        return true;\n    } catch (e) {\n        return false;\n    }\n}\n\n\nexport function fileExtensionForDesign(design: Design, content: DesignContent): string {\n    // If the design was originally imported from a file, let's just use the extension\n    // from that file.\n    if (design.contexts) {\n        const contexts: DesignContext[] = design.contexts.filter(context => context.type === \"file\");\n        if (contexts.length > 0) {\n            const filename: string = contexts[0].file?.fileName as string;\n            if (filename.indexOf(\".\") > 0) {\n                const split: string[] = filename.split(\".\");\n                return split[split.length - 1];\n            }\n        }\n    }\n\n    if (design.type === ArtifactTypes.PROTOBUF) {\n        return \"proto\";\n    }\n    if (design.type === ArtifactTypes.WSDL) {\n        return \"wsdl\";\n    }\n    if (design.type === ArtifactTypes.XSD) {\n        return \"xsd\";\n    }\n    if (design.type === ArtifactTypes.XML) {\n        return \"xml\";\n    }\n    if (design.type === ArtifactTypes.GRAPHQL) {\n        return \"graphql\";\n    }\n\n    if (content.contentType && content.contentType === ContentTypes.APPLICATION_JSON) {\n        return \"json\";\n    }\n    if (content.contentType && content.contentType === ContentTypes.APPLICATION_YAML) {\n        return \"yaml\";\n    }\n\n    return \"txt\";\n}\n\nexport function contentTypeForDesign(design: Design, content: DesignContent): string {\n    if (content.contentType) {\n        return content.contentType;\n    }\n\n    if (design.type === ArtifactTypes.PROTOBUF) {\n        return ContentTypes.APPLICATION_PROTOBUF;\n    }\n    if (design.type === ArtifactTypes.WSDL) {\n        return ContentTypes.APPLICATION_WSDL;\n    }\n    if (design.type === ArtifactTypes.XSD) {\n        return ContentTypes.TEXT_XML;\n    }\n    if (design.type === ArtifactTypes.XML) {\n        return ContentTypes.TEXT_XML;\n    }\n    if (design.type === ArtifactTypes.GRAPHQL) {\n        return ContentTypes.APPLICATION_GRAPHQL;\n    }\n\n    return ContentTypes.APPLICATION_JSON;\n}\n","import {Design} from \"@app/models\";\nimport {DesignContext, DesignContextType} from \"@app/models/designs/design-context.model\";\n\nexport function hasContext(design: Design, contextType: DesignContextType): boolean {\n    if (design.contexts) {\n        const filteredContexts: DesignContext[] = design.contexts.filter(ctx => ctx.type === contextType);\n        return filteredContexts.length > 0;\n    }\n    return false;\n};\n\nexport function getContexts(design: Design, contextType: DesignContextType): DesignContext[] {\n    if (design.contexts) {\n        return design.contexts.filter(ctx => ctx.type === contextType);\n    }\n    return [];\n};\n","import {ContentTypes} from \"@app/models/rhosr-instance\";\nimport axios, {AxiosRequestConfig} from \"axios\";\n\nconst AXIOS = axios.create();\n\n\nfunction createAxiosConfig(method: string, url: string, options: any, data?: any): AxiosRequestConfig {\n    if (typeof data === \"string\") {\n        data = new Blob([data]);\n    }\n    return {\n        ...{\n            data,\n            method,\n            url,\n            validateStatus: (status) => {\n                return status >= 200 && status < 300;\n            }\n        }, ...options\n    };\n}\n\n\nfunction unwrapErrorData(error: any): any {\n    console.debug(\"Error detected, unwrapping...\");\n    if (error && error.response && error.response.data) {\n        return {\n            message: error.message,\n            ...error.response.data,\n            status: error.response.status\n        }\n    } else if (error && error.response) {\n        return {\n            message: error.message,\n            status: error.response.status\n        }\n    } else if (error) {\n        console.error(\"Unknown error detected: \", error);\n        return {\n            message: error.message,\n            status: 500\n        }\n    } else {\n        console.error(\"Unknown error detected: \", error);\n        return {\n            message: \"Unknown error\",\n            status: 500\n        }\n    }\n}\n\n/**\n * Creates an endpoint to use when making a REST call.  Supports path params and query params.\n * @param baseHref\n * @param path\n * @param params\n * @param queryParams\n */\nexport function createEndpoint(baseHref: string, path: string, params?: any, queryParams?: any): string {\n    if (params) {\n        Object.keys(params).forEach(key => {\n            const value: string = encodeURIComponent(params[key]);\n            path = path.replace(\":\" + key, value);\n        });\n    }\n    let rval: string = createHref(baseHref, path);\n    if (queryParams) {\n        let first: boolean = true;\n        for (const key in queryParams) {\n            if (queryParams[key]) {\n                const value: string = encodeURIComponent(queryParams[key]);\n                if (first) {\n                    rval = rval + \"?\" + key;\n                } else {\n                    rval = rval + \"&\" + key;\n                }\n                if (value !== null && value !== undefined) {\n                    rval = rval + \"=\" + value;\n                }\n                first = false;\n            }\n        }\n    }\n    return rval;\n}\n\n/**\n * Creates the request options used by the HTTP service when making API calls.\n * @param headers\n */\nexport function createOptions(headers: { [header: string]: string }): AxiosRequestConfig {\n    const options: AxiosRequestConfig = {headers};\n    return options;\n}\n\n\n/**\n * Performs an HTTP GET operation to the given URL with the given options.  Returns\n * a Promise to the HTTP response data.\n */\nexport function httpGet<T>(url: string, options?: AxiosRequestConfig, successCallback?: (value: any) => T): Promise<T> {\n    console.info(\"[BaseService] Making a GET request to: \", url);\n\n    if (!options) {\n        options = createOptions({\"Accept\": ContentTypes.APPLICATION_JSON});\n    }\n\n    const config: AxiosRequestConfig = createAxiosConfig(\"get\", url, options);\n    return AXIOS.request(config)\n        .then(response => {\n            const data: T = response.data;\n            if (successCallback) {\n                return successCallback(data);\n            } else {\n                return data;\n            }\n        }).catch(error => {\n            return Promise.reject(unwrapErrorData(error));\n        });\n}\n\n/**\n * Performs an HTTP POST operation to the given URL with the given body and options.  Returns\n * a Promise to null (no response data expected).\n * @param url\n * @param body\n * @param options\n * @param successCallback\n * @param progressCallback\n */\nexport function httpPost<I>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: () => void,\n                            progressCallback?: (progressEvent: any) => void): Promise<void> {\n    console.info(\"[BaseService] Making a POST request to: \", url);\n\n    if (!options) {\n        options = createOptions({\"Content-Type\": ContentTypes.APPLICATION_JSON});\n    }\n\n    const config: AxiosRequestConfig = createAxiosConfig(\"post\", url, options, body);\n    if (progressCallback) {\n        const fiftyMB: number = 50 * 1024 * 1024;\n        config.onUploadProgress = progressCallback;\n        config.maxContentLength = fiftyMB;\n        config.maxBodyLength = fiftyMB;\n    }\n    return AXIOS.request(config)\n        .then(() => {\n            if (successCallback) {\n                return successCallback();\n            } else {\n                return;\n            }\n        }).catch(error => {\n            return Promise.reject(unwrapErrorData(error));\n        });\n}\n\n/**\n * Performs an HTTP POST operation to the given URL with the given body and options.  Returns\n * a Promise to the HTTP response data.\n * @param url\n * @param body\n * @param options\n */\nexport function httpPostWithReturn<I, O>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: (data: any) => O): Promise<O> {\n    console.info(\"[BaseService] Making a POST request to: \", url);\n\n    if (!options) {\n        options = createOptions({\n            \"Accept\": ContentTypes.APPLICATION_JSON,\n            \"Content-Type\": ContentTypes.APPLICATION_JSON\n        });\n    }\n\n    const config: AxiosRequestConfig = createAxiosConfig(\"post\", url, options, body);\n    return AXIOS.request(config)\n        .then(response => {\n            const data: O = response.data;\n            if (successCallback) {\n                return successCallback(data);\n            } else {\n                return data;\n            }\n        }).catch(error => {\n            return Promise.reject(unwrapErrorData(error));\n        });\n}\n\n/**\n * Performs an HTTP PUT operation to the given URL with the given body and options.  Returns\n * a Promise to null (no response data expected).\n * @param url\n * @param body\n * @param options\n */\nexport function httpPut<I>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: () => void): Promise<void> {\n    console.info(\"[BaseService] Making a PUT request to: \", url);\n\n    if (!options) {\n        options = createOptions({\"Content-Type\": ContentTypes.APPLICATION_JSON});\n    }\n\n    const config: AxiosRequestConfig = createAxiosConfig(\"put\", url, options, body);\n    return AXIOS.request(config)\n        .then(() => {\n            if (successCallback) {\n                return successCallback();\n            } else {\n                return;\n            }\n        }).catch(error => {\n            return Promise.reject(unwrapErrorData(error));\n        });\n}\n\n/**\n * Performs an HTTP PUT operation to the given URL with the given body and options.  Returns\n * a Promise to the HTTP response data.\n * @param url\n * @param body\n * @param options\n */\nexport function httpPutWithReturn<I, O>(url: string, body: I, options?: AxiosRequestConfig, successCallback?: (data: O) => O): Promise<O> {\n    console.info(\"[BaseService] Making a PUT request to: \", url);\n\n    if (!options) {\n        options = createOptions({\n            \"Accept\": ContentTypes.APPLICATION_JSON,\n            \"Content-Type\": ContentTypes.APPLICATION_JSON\n        });\n    }\n\n    const config: AxiosRequestConfig = createAxiosConfig(\"put\", url, options, body);\n    return AXIOS.request(config)\n        .then(response => {\n            const data: O = response.data;\n            if (successCallback) {\n                return successCallback(data);\n            } else {\n                return data;\n            }\n        }).catch(error => {\n            return Promise.reject(unwrapErrorData(error));\n        });\n}\n\n/**\n * Performs an HTTP DELETE operation to the given URL with the given body and options.\n * @param url\n * @param options\n */\nexport function httpDelete<T>(url: string, options?: AxiosRequestConfig, successCallback?: () => T): Promise<T> {\n    console.info(\"[BaseService] Making a DELETE request to: \", url);\n\n    if (!options) {\n        options = {};\n    }\n\n    const config: AxiosRequestConfig = createAxiosConfig(\"delete\", url, options);\n// @ts-ignore\n    return AXIOS.request(config)\n        .then(() => {\n            return successCallback ? successCallback() : null;\n        }).catch(error => {\n            return Promise.reject(unwrapErrorData(error));\n        });\n}\n\nexport function createHref(baseHref: string, path: string): string {\n    let url: string =  baseHref;\n    if (url.endsWith(\"/\")) {\n        url = url.substring(0, url.length - 1);\n    }\n    url += path;\n    return url;\n}\n\n"],"names":["If","condition","children","ArtifactTypeIcon","type","isShowLabel","className","classes","getClassNames","title","getTitle","getLabel","IsLoading","loadingComponent","lc","Spinner","IfNotEmpty","collection","emptyState","emptyStateTitle","emptyStateMessage","empty","EmptyState","variant","EmptyStateVariant","Title","headingLevel","size","EmptyStateBody","length","ListWithToolbar","toolbar","filteredEmptyState","isLoading","isEmpty","isFiltered","ToggleIcon","expanded","ChevronDownIcon","ChevronRightIcon","NavLink","location","nav","onClick","navigateTo","ObjectSelect","value","items","onSelect","itemToString","noSelectionLabel","menuAppendTo","useState","isToggled","setToggled","selectObjects","setSelectObjects","selections","setSelections","useEffect","map","item","index","toString","undefined","noSelection","filtered","filter","soo","Select","SelectVariant","onToggle","event","isOpen","SelectOption","isPlaceholder","key","useNavigation","history","useHistory","basename","useBasename","path","to","getBasename","push","AVRO","PROTOBUF","JSON","OPENAPI","ASYNCAPI","GRAPHQL","KCONNECT","WSDL","XSD","XML","APPLICATION_JSON","APPLICATION_YAML","APPLICATION_XML","APPLICATION_PROTOBUF","APPLICATION_GRAPHQL","TEXT_XML","APPLICATION_WSDL","ArtifactGroup","groupId","ArtifactName","id","name","ArtifactSelector","registries","onSelected","querying","setQuerying","pageSize","page","paging","setPaging","filterValue","ascending","filterSelection","criteria","setCriteria","registry","setRegistry","artifacts","setArtifacts","rhosrInstance","setRhosrInstance","rhosrInstanceFactory","createFor","gac","sortAscending","getArtifacts","then","results","catch","error","console","ArtifactListToolbar","onRegistrySelected","onCriteriaChange","onPagingChange","ArtifactList","fetchArtifactContent","artifact","version","getArtifactContent","onArtifactSelected","content","fetchArtifactVersions","getArtifactVersions","selectedArtifact","setSelectedArtifact","onArtifactSelectedInternal","debug","onArtifactUnselectedInternal","onArtifactLoaded","idx","ArtifactListItem","onUnselected","isSelected","rval","setLoading","versions","setVersions","selectedVersion","setSelectedVersion","setContent","isContentLoaded","setContentLoaded","onVersionSelect","contentType","data","target","localName","Radio","isChecked","state","status","Badge","isRead","description","setFilterValue","Toolbar","ToolbarContent","ToolbarItem","SearchInput","onChange","onSearch","onClear","Button","SortAlphaDownIcon","SortAlphaDownAltIcon","Pagination","style","padding","dropDirection","isCompact","itemCount","count","perPage","onSetPage","newPage","onPerPageSelect","newPerPage","widgetId","TYPE_OPTIONS","label","CreateDesignModal","onCreate","onCancel","isValid","setValid","setName","summary","setSummary","setType","typeSelection","setTypeSelection","isTypeToggled","setTypeToggled","setVersion","isVersionToggled","setVersionToggled","templates","setTemplates","template","setTemplate","templatesSvc","valid","getTemplatesFor","Modal","ModalVariant","onClose","actions","isDisabled","context","Alert","isInline","marginBottom","Form","FormGroup","isRequired","fieldId","TextInput","TextArea","selection","onTypeSelect","Gallery","hasGutter","minWidths","default","maxWidths","t","GalleryItem","TemplateItem","DeleteDesignModal","design","onDelete","onDownload","titleIconVariant","TextContent","Text","component","lineHeight","paddingLeft","Checkbox","checked","DesignList","designs","sort","onSort","onEdit","onRegister","sortByIndex","setSortByIndex","renderColumnData","column","colIndex","date","modifiedOn","fromNow","theLabels","Label","color","sortParams","sortable","sortBy","direction","_event","by","columnIndex","ResponsiveTable","ariaLabel","columns","width","expectedLength","renderHeader","Th","modifier","renderCell","row","Td","renderActions","ActionsColumn","isSeparator","isRowSelected","onRowClick","ImportFrom","DesignsPanel","onImport","refresh","setRefresh","setFiltered","filterOn","setSort","setDesigns","designToDelete","setDesignToDelete","isDeleteModalOpen","setDeleteModalOpen","designToRegister","setDesignToRegister","isRegisterModalOpen","setRegisterModalOpen","designsSvc","downloadSvc","doRefresh","onDownloadDesign","getDesignContent","filename","replace","c","stringify","downloadToFS","searchDesigns","DesignsEmptyState","emptyStateFiltered","DesignsEmptyStateFiltered","DesignsToolbar","trim","Card","isSelectable","CardBody","deleteDesign","ExportToRhosrModal","onExported","EmptyStateIcon","icon","AddCircleOIcon","EmptyStateSecondaryActions","ImportDropdown","PLACEHOLDER_TYPE_OPTION","compareTo","selectOption","this","ImportDesignModal","importType","designContent","setDesignContent","fileName","setFileName","url","setUrl","setContentType","detectJsonOrYamlInfo","contentObj","openapi","info","swagger","asyncapi","$schema","detectInfo","detectXmlInfo","warn","setTheType","newType","newTypeSelection","option","FILE","file","cd","cdc","FileUpload","filenamePlaceholder","fname","URL","UrlUpload","urlPlaceholder","menuToggle","MenuToggle","isExpanded","Dropdown","action","attributes","RHOSR","toggle","isPlain","dropdownItems","DropdownItem","position","ImportFromRhosrModal","setRegistries","setDesign","rhosr","getRegistries","a","b","name1","name2","localeCompare","instanceId","artifactId","PlusCircleIcon","previewContent","setPreviewContent","downloadError","setDownloadError","urlService","hasUrl","hasError","spinner","placeholder","fetchUrlContent","message","isReadOnly","EditorContext","dirty","onSave","lss","designContext","setDesignContext","isActionMenuToggled","setActionMenuToggled","getConfigProperty","setExpanded","actionMenuToggle","contexts","Breadcrumb","BreadcrumbItem","isActive","newExpanded","setConfigProperty","typeForDisplay","isExporting","setExporting","isLoadingRegistries","setLoadingRegistries","group","setGroup","setArtifactId","filteredContexts","createOrUpdateArtifact","amd","determineContentType","normalizeGroupId","useRhosrInstanceServiceFactory","useAuth","instanceUrl","registryUrl","createArtifact","auth","basePath","Promise","endpoint","headers","createArtifactVersion","ifExists","start","end","queryParams","limit","offset","order","orderby","options","maxContentLength","responseType","transformResponse","db","createDesign","newDesign","createdOn","Date","newDesignContent","all","add","getDesigns","toArray","accept","matches","toLowerCase","indexOf","filteredDesigns","design1","design2","getTime","totalCount","slice","getDesign","where","equals","first","delete","updateDesignContent","update","stores","useDesignsService","ASYNCAPI_2_TEMPLATES","OPENAPI_3_TEMPLATES","OPENAPI_2_TEMPLATES","JSON_TEMPLATES","AVRO_TEMPLATES","PROTOBUF_TEMPLATES","resolve","startsWith","reject","useTemplatesService","_w","window","chrome","link","document","createElement","blob","Blob","href","createObjectURL","download","click","navigator","msSaveBlob","File","open","useDownloadService","useUrlService","propertyName","propertyValue","localStorage","setItem","defaultValue","getItem","useLocalStorageService","RHOSR_MOCK_DATA","created_at","updated_at","instance_type","RHOSR_MOCK_DATA_OF","createMockService","mockData","getRegistry","matching","useRhosrService","cfg","useConfig","srs","apiBasePath","getToken","token","RegistriesApi","Configuration","accessToken","res","cloneObject","object","parse","propertyReplace","from","Object","keys","forEach","isJson","e","parseJson","toJsonString","isYaml","parseYaml","toYamlString","isXml","DOMParser","parseFromString","getElementsByTagName","isXmlWithRootNode","namespace","dom","documentElement","namespaceURI","isWsdl","isXsd","isProto","fileExtensionForDesign","split","contentTypeForDesign","hasContext","contextType","ctx","getContexts","AXIOS","createAxiosConfig","method","validateStatus","unwrapErrorData","response","createEndpoint","baseHref","params","encodeURIComponent","createHref","createOptions","httpGet","successCallback","config","request","httpPostWithReturn","body","endsWith","substring"],"sourceRoot":""}