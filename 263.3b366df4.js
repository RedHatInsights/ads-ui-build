"use strict";(self.webpackChunkads_ui=self.webpackChunkads_ui||[]).push([[263],{39785:(e,t,n)=>{n.d(t,{fN:()=>d,ou:()=>N,B_:()=>y,If:()=>a,Ng:()=>m,tr:()=>p,YF:()=>f,OL:()=>c,vR:()=>g.v,h4:()=>b,Rb:()=>P,x3:()=>S,Xs:()=>h});var r=n(93264),i=n.n(r),a=function(e){var t=e.condition,n=e.children;return("boolean"==typeof t?t:t())?i().createElement(i().Fragment,{children:n}):i().createElement(i().Fragment,null)},o=n(73685),s=n(52212),c=function(e){var t=e.location,n=e.title,r=e.className,a=e.children,c=(0,s.useBasename)(),l="".concat(c.getBasename()).concat(t);return i().createElement(o.Link,{className:r,title:n,to:l,children:a})},l=n(74515),d=function(e){var t=e.type,n=e.isShowIcon,r=e.isShowLabel;return i().createElement("div",{className:function(){var e="artifact-type-icon";if(r&&(e+=" has-label"),!1!==n)switch(e+=" has-icon",t){case l.R.AVRO:e+=" avro-icon24";break;case l.R.PROTOBUF:e+=" protobuf-icon24";break;case l.R.JSON:e+=" json-icon24";break;case l.R.OPENAPI:e+=" oai-icon24";break;case l.R.ASYNCAPI:e+=" aai-icon24";break;case l.R.GRAPHQL:e+=" graphql-icon24";break;case l.R.KCONNECT:e+=" kconnect-icon24";break;case l.R.WSDL:case l.R.XSD:case l.R.XML:e+=" xml-icon24"}return n&&!r&&(e+=" icon-only"),e}(),title:function(){var e=t;switch(t){case l.R.AVRO:e="Avro Schema";break;case l.R.PROTOBUF:e="Protobuf Schema";break;case l.R.JSON:e="JSON Schema";break;case l.R.OPENAPI:e="OpenAPI Definition";break;case l.R.ASYNCAPI:e="AsyncAPI Definition";break;case l.R.GRAPHQL:e="GraphQL Definition";break;case l.R.KCONNECT:e="Kafka Connect Schema";break;case l.R.WSDL:e="WSDL";break;case l.R.XSD:e="XML Schema";break;case l.R.XML:e="XML"}return e}(),children:r?i().createElement("span",null,function(){var e=t;switch(t){case l.R.AVRO:e="Avro";break;case l.R.PROTOBUF:e="Protobuf";break;case l.R.JSON:e="JSON schema";break;case l.R.OPENAPI:e="OpenAPI";break;case l.R.ASYNCAPI:e="AsyncAPI";break;case l.R.GRAPHQL:e="GraphQL";break;case l.R.KCONNECT:e="Kafka Connect";break;case l.R.WSDL:e="WSDL";break;case l.R.XSD:e="XML Schema";break;case l.R.XML:e="XML"}return e}()):void 0})},u=n(99922),p=function(e){var t=e.condition,n=e.loadingComponent,r=e.children,a=n||i().createElement(u.Spinner,null);return("boolean"==typeof t?t:t())?i().createElement(i().Fragment,{children:a}):i().createElement(i().Fragment,{children:r})},m=function(e){var t=e.collection,n=e.emptyState,r=e.emptyStateTitle,a=e.emptyStateMessage,o=e.children,s=n||i().createElement(u.EmptyState,{variant:u.EmptyStateVariant.xs},i().createElement(u.Title,{headingLevel:"h4",size:"md"},r||"None found"),i().createElement(u.EmptyStateBody,null,a||"No items found."));return t&&0!==t.length?i().createElement(i().Fragment,{children:o}):i().createElement(i().Fragment,{children:s})},f=function(e){var t=e.toolbar,n=e.alwaysShowToolbar,r=e.emptyState,o=e.filteredEmptyState,s=e.isLoading,c=e.loadingComponent,l=e.isEmpty,d=e.isFiltered,u=e.children;return i().createElement(i().Fragment,null,i().createElement(a,{condition:n||!l||d,children:t}),i().createElement(p,{condition:s,loadingComponent:c},i().createElement(a,{condition:!l,children:u}),i().createElement(a,{condition:l&&d,children:o}),i().createElement(a,{condition:l&&!d,children:r})))},g=n(65122),v=n(67646),h=function(e){var t=e.expanded,n=e.onClick;return t?i().createElement(v.ChevronDownIcon,{onClick:n}):i().createElement(v.ChevronRightIcon,{onClick:n})},y=function(e){var t=e.description,n=e.truncate,r=e.className,a="";return r&&(a=r),t||(a+=" no-description"),n?i().createElement("div",null,i().createElement(u.Truncate,{className:a,content:t||"No description.",tooltipPosition:"top"})):i().createElement("div",{className:a},t||"No description.")},E=n(49662),I=n(78788),b=function(e){var t=e.registry,n=e.context,a=e.children,o=(0,r.useState)(),s=o[0],c=o[1],l=void 0===t?(0,E.DM)():void 0,d=function(e,t){var n,r,i=(null===(n=t.rhosr)||void 0===n?void 0:n.groupId)||"default",a=null===(r=t.rhosr)||void 0===r?void 0:r.artifactId;c("".concat((0,I.n4)(e.browserUrl),"/artifacts/").concat(i,"/").concat(a))};return(0,r.useEffect)((function(){var e;c(void 0),"rhosr"===(null==n?void 0:n.type)&&(t?d(t,n):l.getRegistry(null===(e=n.rhosr)||void 0===e?void 0:e.instanceId).then((function(e){d(e,n)})))}),[n]),s?i().createElement("a",{href:s,children:a}):i().createElement("span",{children:a})},S=function(){return i().createElement(u.Alert,{isInline:!0,variant:"warning",title:"Service Preview: Data is stored locally in your browser",style:{marginBottom:"15px"}},i().createElement("p",null,"In the Service Preview release of OpenShift API Designer, all designs are stored locally in your browser. Clearing your browser cache or switching to a new browser might result in loss of data. Make sure you save your work by downloading your designs locally or by exporting them to a Red Hat OpenShift Service Registry instance."))},P=function(e){var t=e.message;return i().createElement(u.EmptyState,null,i().createElement(u.EmptyStateIcon,{icon:v.AddCircleOIcon}),i().createElement(u.Title,{headingLevel:"h4",size:"lg"},"No Service Registry instances"),i().createElement(u.EmptyStateBody,null,t),i().createElement("a",{href:"/application-services/service-registry"},"Create Service Registry instance"))},A=n(47645),T=n.n(A),N=function(e){var t=e.date;return i().createElement(T(),{date:t,format:"DD MMM YYYY, hh:mm UTC",utc:!0})}},65122:(e,t,n)=>{n.d(t,{v:()=>s});var r=n(70655),i=n(93264),a=n.n(i),o=n(99922),s=function(e){var t=e.value,n=e.items,s=e.onSelect,c=e.itemToString,l=e.noSelectionLabel,d=e.toggleId,u=e.menuAppendTo,p=e.variant,m=(0,i.useState)(!1),f=m[0],g=m[1],v=(0,i.useState)(),h=v[0],y=v[1],E=(0,i.useState)(),I=E[0],b=E[1];return(0,i.useEffect)((function(){var e=(n||[]).map((function(e){return{item:e,toString:function(){return c(e)}}}));if(void 0!==l){var t={item:void 0,toString:function(){return l}};y((0,r.ev)([t],e,!0))}else y(e)}),[n]),(0,i.useEffect)((function(){var e;h&&(e=null==h?void 0:h.filter((function(e){return e.item===t})),b(e))}),[t,h]),a().createElement(o.Select,{menuAppendTo:u,variant:p||o.SelectVariant.single,onToggle:g,toggleId:d,onSelect:function(e,t){g(!1),s(t.item)},isOpen:f,selections:I},null==h?void 0:h.map((function(e,t){return a().createElement(o.SelectOption,{isPlaceholder:void 0===e.item,key:t,value:e})})))}},60891:(e,t,n)=>{n.d(t,{H:()=>a});var r=n(52212),i=n(73685),a=function(){var e=(0,i.useHistory)(),t=(0,r.useBasename)();return{navigateTo:function(n){return function(e,t,n){var r="".concat(t.getBasename()).concat(e);setTimeout((function(){n.push(r)}),50)}(n,t,e)}}}},74515:(e,t,n)=>{n.d(t,{R:()=>r.R,b:()=>r.b});var r=n(57814)},57814:(e,t,n)=>{n.d(t,{R:()=>r,b:()=>i});var r=function(){function e(){}return e.AVRO="AVRO",e.PROTOBUF="PROTOBUF",e.JSON="JSON",e.OPENAPI="OPENAPI",e.ASYNCAPI="ASYNCAPI",e.GRAPHQL="GRAPHQL",e.KCONNECT="KCONNECT",e.WSDL="WSDL",e.XSD="XSD",e.XML="XML",e}(),i=function(){function e(){}return e.APPLICATION_JSON="application/json",e.APPLICATION_YAML="application/x-yaml",e.APPLICATION_XML="application/xml",e.APPLICATION_PROTOBUF="application/x-protobuf",e.APPLICATION_GRAPHQL="application/graphql",e.TEXT_XML="text/xml",e.APPLICATION_WSDL="application/wsdl+xml",e}()},97263:(e,t,n)=>{n.d(t,{kO:()=>o,ye:()=>p,jy:()=>g,Gc:()=>E,kC:()=>s,mo:()=>u,h5:()=>W,w5:()=>b,Qt:()=>S,n1:()=>M,RF:()=>J,jI:()=>V,UY:()=>q,Xh:()=>N,DN:()=>G,pK:()=>O,H_:()=>w,F$:()=>C,HM:()=>x,rU:()=>$,Ns:()=>Y,vw:()=>K,JN:()=>L,aP:()=>F,bg:()=>r,In:()=>U,tI:()=>Z,tt:()=>Q,cU:()=>B,np:()=>X,nH:()=>_});var r,i=n(93264),a=n.n(i),o=function(e){var t=e.groupId;return a().createElement("span",{className:t?"group":"nogroup"},t)},s=function(e){var t=e.id,n=e.name;return n?a().createElement(a().Fragment,null,a().createElement("span",{className:"name"},n),a().createElement("span",{className:"id"},t)):a().createElement(a().Fragment,null,a().createElement("span",{className:"name"},t))},c=n(49662),l=n(39785),d=n(99922),u=function(e){var t=e.registries,n=e.onSelected,r=(0,i.useState)(!0),o=r[0],s=r[1],u=(0,i.useState)({pageSize:20,page:1}),m=u[0],f=u[1],g=(0,i.useState)({filterValue:"",ascending:!0,filterSelection:"name"}),v=g[0],h=g[1],y=(0,i.useState)(),I=y[0],b=y[1],S=(0,i.useState)(),P=S[0],A=S[1],T=(0,i.useState)(),N=T[0],R=T[1],C=(0,c.al)();(0,i.useEffect)((function(){t&&t.length>0&&b(t[0])}),[]),(0,i.useEffect)((function(){if(I){var e=C.createFor(I);R(e)}}),[I]),(0,i.useEffect)((function(){if(N){var e={sortAscending:v.ascending,type:v.filterSelection,value:v.filterValue};s(!0),N.getArtifacts(e,m).then((function(e){A(e),s(!1)})).catch((function(e){console.error("[RegistryPage] Error searching for artifacts: ",e),A({artifacts:[],count:0,page:1,pageSize:20}),s(!1)}))}n(void 0,void 0,void 0)}),[N,v,m]);var O=a().createElement(E,{registries:t,criteria:v,paging:m,onRegistrySelected:function(e){b(e)},menuAppendTo:document.getElementById("artifact-selector"),onCriteriaChange:function(e){h(e)},onPagingChange:function(e){f(e)},artifacts:P}),w=a().createElement(K,{registry:I,scope:"read"},a().createElement(d.EmptyState,{variant:d.EmptyStateVariant.xs},a().createElement(d.Title,{headingLevel:"h4",size:"md"},"None found"),a().createElement(d.EmptyStateBody,null,"No artifacts found in the registry instance."))),x=a().createElement(K,{registry:I,scope:"read"},a().createElement(d.EmptyState,{variant:d.EmptyStateVariant.xs},a().createElement(d.Title,{headingLevel:"h4",size:"md"},"None found"),a().createElement(d.EmptyStateBody,null,"No artifacts matched the filter criteria."))),D=a().createElement(d.Spinner,{size:"lg",style:{marginTop:"10px"}});return a().createElement("div",{id:"artifact-selector"},a().createElement(l.YF,{toolbar:O,alwaysShowToolbar:!0,emptyState:w,filteredEmptyState:x,isFiltered:""!==v.filterValue,isLoading:o,loadingComponent:D,isEmpty:!P||0===P.count},a().createElement(K,{registry:I,scope:"read"},a().createElement(p,{artifacts:null==P?void 0:P.artifacts,fetchArtifactContent:function(e,t){return N.getArtifactContent(e.groupId,e.id,(null==t?void 0:t.version)||"latest")},onArtifactSelected:function(e,t,r){n(I,e,t,r)},fetchArtifactVersions:function(e){return N.getArtifactVersions(e.groupId,e.id)}}))))},p=function(e){var t=e.artifacts,n=e.fetchArtifactVersions,r=e.fetchArtifactContent,o=e.onArtifactSelected,s=(0,i.useState)(),c=s[0],l=s[1],d=function(e){console.debug("[ArtifactList] Artifact selected: ",e),l(e)},u=function(e){console.debug("[ArtifactList] Artifact unselected: ",e),l(void 0),o(void 0,void 0,void 0)},p=function(e,t,n){console.debug("[ArtifactList] Artifact loaded: ",e),console.debug("[ArtifactList] Selected Artifact: ",c),e===c&&o(e,t,n)};return a().createElement("div",{className:"artifact-list"},null==t?void 0:t.map((function(e,t){return a().createElement(g,{artifact:e,key:t,onSelected:d,onUnselected:u,fetchArtifactVersions:n,fetchArtifactContent:r,onArtifactLoaded:p,isSelected:c===e})})))},m=n(74515),f=n(78788),g=function(e){var t,n=e.artifact,r=e.isSelected,c=e.onSelected,u=e.onUnselected,p=e.onArtifactLoaded,g=e.fetchArtifactVersions,v=e.fetchArtifactContent,h=(0,i.useState)(!1),y=h[0],E=h[1],I=(0,i.useState)(),b=I[0],S=I[1],P=(0,i.useState)(),A=P[0],T=P[1],N=(0,i.useState)(),R=N[0],C=N[1],O=(0,i.useState)(!1),w=O[0],x=O[1],D=function(e){T(e),E(!0),console.debug("[ArtifactListItem] Version selected for ".concat(n.id,", loading content. Version: "),e),v(n,e).then((function(e){console.debug("[ArtifactListItem] Artifact content successfully fetched for: ",n.id),C(e),E(!1),x(!0)})).catch((function(){}))};return(0,i.useEffect)((function(){if(void 0!==R){var e=void 0;e=(0,f.sO)(R)?m.b.APPLICATION_JSON:(0,f.Cx)(R)?m.b.APPLICATION_YAML:(0,f.Rz)(R)?m.b.APPLICATION_XML:n.type===m.R.PROTOBUF?m.b.APPLICATION_PROTOBUF:n.type===m.R.GRAPHQL?m.b.APPLICATION_GRAPHQL:m.b.APPLICATION_JSON,p(n,A,{contentType:e,data:R})}}),[R]),a().createElement("div",{className:"artifact-list-item ".concat(r?"selected":""," ").concat(w?"loaded":""),onClick:function(e){e&&e.target&&"button"===e.target.localName||(r?u(n):(void 0===b||0===b.length?(x(!1),E(!0),console.debug("[ArtifactListItem] Loading versions for ".concat(n.id)),g(n).then((function(e){S(e),E(!1),D(void 0)})).catch((function(){}))):D(void 0),c(n)))}},a().createElement("div",{className:"artifact-list-item-radio"},a().createElement(l.tr,{condition:y,loadingComponent:a().createElement(d.Spinner,{size:"sm"})},a().createElement(d.Radio,{id:"artifact-radio-".concat(n.id),name:"",isChecked:r}))),a().createElement("div",{className:"artifact-list-item-icon"},a().createElement(l.fN,{type:n.type})),a().createElement("div",{className:"artifact-list-item-info"},a().createElement("div",{className:"artifact-title"},a().createElement(o,{groupId:n.groupId}),a().createElement(s,{id:n.id,name:n.name}),(t=[],"DISABLED"===n.state&&t.push("Disabled"),"DEPRECATED"===n.state&&t.push("Deprecated"),t).map((function(e){return a().createElement(d.Badge,{className:"status-badge",key:e,isRead:!0},e)}))),a().createElement("div",{className:"artifact-description"},n.description?n.description:"An artifact of type ".concat(n.type," with no description."))),a().createElement("div",{className:"artifact-list-item-versions"},a().createElement(l.If,{condition:r},a().createElement(l.vR,{value:A,items:b,toggleId:"artifact-list-item-".concat(n.id,"-version-select"),noSelectionLabel:"latest",menuAppendTo:"parent",onSelect:D,itemToString:function(e){return e.version}}))))},v=n(70655),h=n(67646),y=n(65122),E=function(e){var t=e.registries,n=e.criteria,r=e.onCriteriaChange,o=e.paging,s=e.onPagingChange,c=e.artifacts,l=e.onRegistrySelected,u=e.menuAppendTo,p=(0,i.useState)(),m=p[0],f=p[1],g=(0,i.useState)(n.filterValue),E=g[0],I=g[1];return(0,i.useEffect)((function(){t&&t.length>0&&f(t[0])}),[t]),(0,i.useEffect)((function(){I(n.filterValue)}),[n]),a().createElement(d.Toolbar,{id:"artifacts-toolbar-1",className:"artifacts-toolbar"},a().createElement(d.ToolbarContent,null,a().createElement(d.ToolbarItem,{variant:"search-filter"},a().createElement(y.v,{value:m,items:t,variant:d.SelectVariant.single,onSelect:function(e){f(e),l(e)},toggleId:"artifact-list-toolbar-registries",menuAppendTo:u||"parent",itemToString:function(e){return e.name}})),a().createElement(d.ToolbarItem,{variant:"search-filter"},a().createElement(d.SearchInput,{"aria-label":"Filter artifacts",value:E,onChange:function(e){I(e)},onSearch:function(){r((0,v.pi)((0,v.pi)({},n),{filterValue:E}))},onClear:function(){I(""),r((0,v.pi)((0,v.pi)({},n),{filterValue:""}))}})),a().createElement(d.ToolbarItem,{className:"sort-icon-item"},a().createElement(d.Button,{variant:"plain","aria-label":"edit","data-testid":"toolbar-btn-sort",onClick:function(){r((0,v.pi)((0,v.pi)({},n),{ascending:!n.ascending}))}},n.ascending?a().createElement(h.SortAlphaDownIcon,null):a().createElement(h.SortAlphaDownAltIcon,null))),a().createElement(d.ToolbarItem,{className:"artifact-paging-item"},a().createElement(d.Pagination,{style:{padding:"5px"},variant:"bottom",dropDirection:"down",isCompact:!0,itemCount:(null==c?void 0:c.count)||0,perPage:o.pageSize,page:o.page,onSetPage:function(e,t,n){s((0,v.pi)((0,v.pi)({},o),{page:t,pageSize:n||o.pageSize}))},onPerPageSelect:function(e,t){s((0,v.pi)((0,v.pi)({},o),{pageSize:t}))},widgetId:"artifact-list-pagination",className:"artifact-list-pagination"}))))},I=[{value:m.R.OPENAPI,label:"OpenAPI"},{value:m.R.ASYNCAPI,label:"AsyncAPI"},{value:m.R.AVRO,label:"Apache Avro"},{value:m.R.JSON,label:"JSON Schema"},{value:m.R.PROTOBUF,label:"Google Protocol Buffers"}].map((function(e){return{value:e.value,label:e.label,toString:function(){return e.label}}})),b=function(e){var t=e.isOpen,n=e.onCreate,r=e.onCancel,o=(0,i.useState)(!1),s=o[0],u=o[1],p=(0,i.useState)(""),f=p[0],g=p[1],v=(0,i.useState)(""),h=v[0],y=v[1],E=(0,i.useState)(m.R.OPENAPI),b=E[0],S=E[1],P=(0,i.useState)(),A=P[0],T=P[1],N=(0,i.useState)(!1),R=N[0],C=N[1],O=(0,i.useState)(""),w=O[0],x=O[1],D=(0,i.useState)(!1),k=D[0],L=D[1],F=(0,i.useState)(),U=F[0],_=F[1],M=(0,i.useState)(),q=M[0],V=M[1],J=(0,c.NG)();return(0,i.useEffect)((function(){var e=!0;f||(e=!1),b||(e=!1),q||(e=!1),u(e)}),[f,h,b,q]),(0,i.useEffect)((function(){g(""),y(""),S(m.R.OPENAPI),V(U?U[0]:void 0)}),[t]),(0,i.useEffect)((function(){b===m.R.OPENAPI&&x("3.0.2"),J.getTemplatesFor(b,w).then(_)}),[b]),(0,i.useEffect)((function(){J.getTemplatesFor(b,w).then(_)}),[w]),(0,i.useEffect)((function(){U&&U.length>0&&V(U[0])}),[U]),a().createElement(d.Modal,{variant:d.ModalVariant.medium,title:"Create a design",isOpen:t,onClose:r,actions:[a().createElement(d.Button,{key:"create",variant:"primary",isDisabled:!s,onClick:function(){n({type:b,name:f,summary:h,context:{type:"create"}},q)}},"Create"),a().createElement(d.Button,{key:"cancel",variant:"link",onClick:r},"Cancel")]},a().createElement(l.x3,null),a().createElement(d.Form,null,a().createElement(d.FormGroup,{label:"Name",isRequired:!0,fieldId:"create-design-name"},a().createElement(d.TextInput,{isRequired:!0,type:"text",id:"create-design-name",name:"create-design-name","aria-describedby":"create-design-name-helper",value:f,onChange:function(e){g(e)}})),a().createElement(d.FormGroup,{label:"Description",fieldId:"create-design-description"},a().createElement(d.TextArea,{type:"text",id:"create-design-description",name:"create-design-description","aria-describedby":"create-design-description-helper",value:h,onChange:function(e){y(e)}})),a().createElement(d.FormGroup,{label:"Type",isRequired:!0,fieldId:"create-design-type"},a().createElement(d.Select,{variant:d.SelectVariant.single,"aria-label":"Select type",toggleId:"create-design-type",onToggle:function(){C(!R)},onSelect:function(e,t){return function(e){S(e.value),T(e),C(!1)}(t)},isOpen:R,selections:A,menuAppendTo:"parent"},I.map((function(e){return a().createElement(d.SelectOption,{key:e.value,value:e})})))),a().createElement(l.If,{condition:b===m.R.OPENAPI},a().createElement(d.FormGroup,{label:"Version",isRequired:!0,fieldId:"create-design-version"},a().createElement(d.Select,{variant:d.SelectVariant.single,"aria-label":"Select version",toggleId:"create-design-version",onToggle:function(){L(!k)},onSelect:function(e,t){return function(e){x(e),L(!1)}(t)},isOpen:k,selections:w,menuAppendTo:"parent"},a().createElement(d.SelectOption,{value:"3.0.2"}),a().createElement(d.SelectOption,{value:"2.0"})))),a().createElement(l.If,{condition:U&&U.length>1},a().createElement(d.FormGroup,{label:"Template",fieldId:"create-design-template"},a().createElement(d.Gallery,{hasGutter:!0,minWidths:{default:"125px"},maxWidths:{default:"125px"}},null==U?void 0:U.map((function(e){return a().createElement(d.GalleryItem,{key:e.id},a().createElement(B,{template:e,isSelected:e===q,onSelect:function(){V(e)}}))})))))))},S=function(e){var t=e.design,n=e.isOpen,r=e.onDelete,o=e.onDownload,s=e.onCancel,c=(0,i.useState)(!1),l=c[0],u=c[1];return(0,i.useEffect)((function(){u(!1)}),[t,n]),a().createElement(d.Modal,{variant:d.ModalVariant.small,title:"Delete design?",titleIconVariant:"warning",isOpen:n,onClose:s,actions:[a().createElement(d.Button,{key:"delete",variant:"primary",isDisabled:!l,onClick:function(){r(t)}},"Delete"),a().createElement(d.Button,{key:"cancel",variant:"link",onClick:s},"Cancel")]},a().createElement(d.TextContent,{style:{marginBottom:"15px"}},a().createElement(d.Text,{component:"p"},"The following API or schema design will be deleted.")),a().createElement(d.Form,null,a().createElement(d.FormGroup,{label:"Name",fieldId:"delete-design-name"},a().createElement(d.TextContent,null,null==t?void 0:t.name)),a().createElement(d.FormGroup,{label:"Description",fieldId:"delete-design-description"},a().createElement(d.TextContent,null,null==t?void 0:t.summary)),a().createElement(d.FormGroup,{fieldId:"delete-design-warning"},a().createElement(d.Alert,{isInline:!0,variant:"info",title:"To save your data for future use, download the design."},a().createElement("p",{style:{lineHeight:"18px"}},"To ensure your data is successfully saved, wait for the download to complete before deleting the design."),a().createElement(d.Button,{variant:"link",onClick:function(){o(t)},style:{paddingLeft:"0px"}},"Download design"))),a().createElement(d.FormGroup,{fieldId:"delete-design-confirm"},a().createElement(d.Checkbox,{id:"valid-checkbox",name:"",label:"I understand that the design will be permanently deleted.",isChecked:l,onChange:function(e){return u(e)}}))))},P=n(12850),A=n(47645),T=n.n(A),N=function(e){var t=e.designs,n=e.selectedDesign,r=e.sort,o=e.onSort,s=e.onEdit,c=e.onRename,u=e.onDelete,p=e.onRegister,m=e.onDownload,f=e.onSelect,g=(0,i.useState)(),v=g[0],h=g[1],y=function(e,t){return 0===t?a().createElement("div",null,a().createElement(l.OL,{className:"design-title",location:"/designs/".concat(e.id,"/editor")},a().createElement(d.Truncate,{content:e.name,tooltipPosition:"top"})),a().createElement(l.B_,{className:"design-summary",description:e.summary,truncate:!0})):1===t?a().createElement(l.fN,{type:e.type,isShowLabel:!0}):2===t?a().createElement(T(),{date:e.modifiedOn,fromNow:!0}):3===t?a().createElement(G,{design:e}):a().createElement("span",null)},E=function(e){return a().createElement(d.KebabToggle,{isDisabled:e.isDisabled,isOpen:e.isOpen,onToggle:function(t,n){n.preventDefault(),n.stopPropagation(),e.onToggle(t)}})},I=function(e){return e.sortable?{sortBy:{index:v,direction:r.direction},onSort:function(e,t,n){o({by:0===t?"name":"modified-on",direction:n})},columnIndex:e.index}:void 0};return(0,i.useEffect)((function(){h("name"===r.by?0:2)}),[r]),a().createElement("div",{className:"design-list"},a().createElement(P.ResponsiveTable,{ariaLabel:"list of designs",columns:[{index:0,id:"name",label:"Name",width:40,sortable:!0},{index:1,id:"type",label:"Type",width:15,sortable:!1},{index:2,id:"modified-on",label:"Time updated",width:15,sortable:!0},{index:3,id:"context",label:"Origin",width:25,sortable:!1}],data:t.designs,expectedLength:t.count,minimumColumnWidth:350,onRowClick:function(e){return f(e.row.id===(null==n?void 0:n.id)?void 0:e.row)},renderHeader:function(e){var t=e.column,n=e.Th;return a().createElement(n,{sort:I(t),className:"design-list-header",key:"header-".concat(t.id),width:t.width,modifier:"truncate"},t.label)},renderCell:function(e){var t=e.row,n=e.colIndex,r=e.Td;return a().createElement(r,{className:"design-list-cell",key:"cell-".concat(n,"-").concat(t.id),children:y(t,n)})},renderActions:function(e){var t,n=e.row,r=e.ActionsColumn;return a().createElement(r,{key:"actions-".concat(n.id),actionsToggle:E,items:(t=n,[{title:"View design details",onClick:function(){return f(t)}},{isSeparator:!0},{title:"Edit design content",onClick:function(){return s(t)}},{title:"Edit design metadata",onClick:function(){return c(t)}},{title:"Export design to Service Registry",onClick:function(){return p(t)}},{title:"Download design",onClick:function(){return m(t)}},{isSeparator:!0},{title:"Delete design",onClick:function(){return u(t)}}])})},isRowSelected:function(e){return e.row.id===(null==n?void 0:n.id)}}))},R=n(60891),C=function(e){var t=e.selectedDesign,n=e.onDesignSelected,r=e.onCreate,o=e.onImport,s=(0,i.useState)(!1),u=s[0],p=s[1],m=(0,i.useState)(!0),g=m[0],v=m[1],h=(0,i.useState)(1),y=h[0],E=h[1],I=(0,i.useState)(!1),b=I[0],P=I[1],A=(0,i.useState)({pageSize:20,page:1}),T=A[0],C=A[1],D=(0,i.useState)({filterValue:"",filterOn:"name"}),k=D[0],L=D[1],F=(0,i.useState)({by:"modified-on",direction:"desc"}),U=F[0],B=F[1],_=(0,i.useState)(),M=_[0],q=_[1],V=(0,i.useState)(),J=V[0],G=V[1],j=(0,i.useState)(!1),$=j[0],z=j[1],X=(0,i.useState)(),H=X[0],W=X[1],K=(0,i.useState)(!1),Z=K[0],ee=K[1],te=(0,i.useState)(),ne=te[0],re=te[1],ie=(0,i.useState)(!1),ae=ie[0],oe=ie[1],se=(0,c.Pq)(),ce=(0,c.PB)(),le=(0,R.H)(),de=(0,c.qy)(),ue=(0,c.Ip)(),pe=function(){E(y+1)},me=function(e){se.getDesignContent(e.id).then((function(t){var n="".concat((0,f.E2)(e.name),".").concat((0,f.Ft)(e,t)),r=(0,f.EC)(e,t),i="object"==typeof t.data?JSON.stringify(t.data,null,4):t.data;ce.downloadToFS(e,i,r,n)}))},fe=function(e){L(e),C({page:1,pageSize:T.pageSize}),P(null!=e.filterValue&&e.filterValue.trim().length>0),pe()};(0,i.useEffect)((function(){v("true"===ue.getConfigProperty("designs.panel.show-data-warning","true"))}),[]),(0,i.useEffect)((function(){p(!0),n(void 0),se.searchDesigns(k,T,U).then((function(e){console.debug("[DesignsPanel] Designs loaded: ",e),q(e),p(!1)})).catch((function(e){console.error(e)}))}),[y]);var ge=a().createElement(O,{onCreate:r,onImport:o}),ve=a().createElement(w,{onClear:function(){fe({filterValue:"",filterOn:""})}}),he=a().createElement(x,{designs:M,criteria:k,paging:T,onCreate:r,onImport:o,onCriteriaChange:fe,onPagingChange:function(e){C(e),pe()}});return a().createElement("div",{className:"designs-panel"},a().createElement(l.YF,{toolbar:he,emptyState:ge,filteredEmptyState:ve,isLoading:u,isFiltered:b,isEmpty:!M||0===M.count},a().createElement(d.Card,{isSelectable:!1},a().createElement(d.CardBody,{className:"panel-body"},a().createElement(l.If,{condition:g},a().createElement(d.Alert,{className:"panel-alert",isInline:!0,variant:"info",title:"Service Preview: Data is stored locally in your browser",actionClose:a().createElement(d.AlertActionCloseButton,{onClose:function(){v(!1),ue.setConfigProperty("designs.panel.show-data-warning","false")}}),style:{marginBottom:"15px"}},a().createElement("p",null,"In the Service Preview release of OpenShift API Designer, all designs are stored locally in your browser. Clearing your browser cache or switching to a new browser might result in loss of data. Make sure you save your work by downloading your designs locally or by exporting them to a Red Hat OpenShift Service Registry instance."))),a().createElement(N,{designs:M,selectedDesign:t,sort:U,onSelect:n,onSort:function(e){B(e),pe()},onEdit:function(e){le.navigateTo("/designs/".concat(e.id,"/editor"))},onRename:function(e){re(e),oe(!0)},onDownload:me,onRegister:function(e){W(e),ee(!0)},onDelete:function(e){G(e),z(!0)}})))),a().createElement(S,{design:J,isOpen:$,onDelete:function(e){se.deleteDesign(e.id).then((function(){pe(),de.designDeleted(e)})).catch((function(t){console.error("[DesignsPanel] Error deleting design: ",t),de.designDeleteFailed(e,t)})),z(!1)},onDownload:me,onCancel:function(){return z(!1)}}),a().createElement(Y,{design:H,isOpen:Z,onExported:function(e){ee(!1),de.designExportedToRhosr(e)},onCancel:function(){return ee(!1)}}),a().createElement(Q,{design:ne,isOpen:ae,onRename:function(e){se.renameDesign(null==ne?void 0:ne.id,e.name,e.summary).then((function(){ne&&(ne.name=e.name,ne.summary=e.summary),oe(!1),de.designRenamed(e)})).catch((function(){}))},onCancel:function(){return oe(!1)}}))},O=function(e){var t=e.onCreate,n=e.onImport;return a().createElement(d.EmptyState,null,a().createElement(d.EmptyStateIcon,{icon:h.AddCircleOIcon}),a().createElement(d.Title,{headingLevel:"h4",size:"lg"},"No designs"),a().createElement(d.EmptyStateBody,null,"To get started, create or import a design."),a().createElement(d.Button,{variant:"primary",onClick:t},"Create design"),a().createElement(d.EmptyStateSecondaryActions,null,a().createElement(F,{variant:"long",onImport:n})))},w=function(e){var t=e.onClear;return a().createElement(d.Bullseye,{style:{backgroundColor:"white"}},a().createElement(d.EmptyState,{variant:d.EmptyStateVariant.small},a().createElement(d.EmptyStateIcon,{icon:h.SearchIcon}),a().createElement(d.Title,{headingLevel:"h2",size:"lg"},"No matching designs"),a().createElement(d.EmptyStateBody,null,"Adjust your filters and try again."),a().createElement(d.Button,{variant:"link",onClick:t},"Clear all filters")))},x=function(e){var t=e.criteria,n=e.paging,r=e.designs,o=e.onCriteriaChange,s=e.onPagingChange,c=e.onCreate,l=e.onImport,u=(0,i.useState)(t.filterValue),p=u[0],m=u[1];(0,i.useEffect)((function(){m(t.filterValue)}),[t]);return a().createElement(d.Toolbar,{id:"designs-toolbar",className:"designs-toolbar"},a().createElement(d.ToolbarContent,null,a().createElement(d.ToolbarItem,{variant:"search-filter"},a().createElement(d.SearchInput,{"aria-label":"Filter designs",value:p,onChange:function(e){m(e)},onSearch:function(){o((0,v.pi)((0,v.pi)({},t),{filterValue:p}))},onClear:function(){m(""),o((0,v.pi)((0,v.pi)({},t),{filterValue:""}))}})),a().createElement(d.ToolbarItem,null,a().createElement(d.Button,{variant:"primary",onClick:c},"Create design")),a().createElement(d.ToolbarItem,null,a().createElement(F,{variant:"long",onImport:l})),a().createElement(d.ToolbarItem,{className:"design-paging-item"},a().createElement(d.Pagination,{style:{padding:"0"},variant:"bottom",dropDirection:"down",isCompact:!0,itemCount:(null==r?void 0:r.count)||0,perPage:n.pageSize,page:n.page,onSetPage:function(e,t,r){s((0,v.pi)((0,v.pi)({},n),{page:t,pageSize:r||n.pageSize}))},onPerPageSelect:function(e,t){s((0,v.pi)((0,v.pi)({},n),{pageSize:t}))},widgetId:"design-list-pagination",className:"design-list-pagination"}))))},D={value:void 0,label:"Select a type...",toString:function(){return"Select a type..."},compareTo:function(e){return e===this}},k=[{value:m.R.OPENAPI,label:"OpenAPI"},{value:m.R.ASYNCAPI,label:"AsyncAPI"},{value:m.R.AVRO,label:"Apache Avro"},{value:m.R.JSON,label:"JSON Schema"},{value:m.R.PROTOBUF,label:"Google Protocol Buffers"}].map((function(e){return{value:e.value,label:e.label,toString:function(){return e.label},compareTo:function(e){return this.value===e.value}}})),L=function(e){var t=e.importType,n=e.isOpen,o=e.onImport,s=e.onCancel,c=(0,i.useState)(!1),u=c[0],p=c[1],g=(0,i.useState)(),h=g[0],y=g[1],E=(0,i.useState)(),I=E[0],b=E[1],S=(0,i.useState)(),P=S[0],A=S[1],T=(0,i.useState)(""),N=T[0],R=T[1],C=(0,i.useState)(""),O=C[0],w=C[1],x=(0,i.useState)(),L=x[0],F=x[1],U=(0,i.useState)(),B=U[0],M=U[1],q=(0,i.useState)(!1),V=q[0],J=q[1],G=(0,i.useState)(""),j=G[0],$=G[1],z=(0,i.useState)(!1),X=z[0],H=z[1],W=(0,i.useState)(),Y=W[0],Q=W[1],K=function(e,t){var n,r,i,a,o,s;return e.openapi?{type:m.R.OPENAPI,contentType:t,version:"3.0.2",name:null===(n=e.info)||void 0===n?void 0:n.title,summary:null===(r=e.info)||void 0===r?void 0:r.description}:e.swagger?{type:m.R.OPENAPI,contentType:t,version:"2.0",name:null===(i=e.info)||void 0===i?void 0:i.title,summary:null===(a=e.info)||void 0===a?void 0:a.description}:e.asyncapi?{type:m.R.ASYNCAPI,contentType:t,name:null===(o=e.info)||void 0===o?void 0:o.title,summary:null===(s=e.info)||void 0===s?void 0:s.description}:e.$schema?{type:m.R.JSON,contentType:t,name:e.title,summary:e.description}:{type:m.R.AVRO,contentType:t,name:e.name}},Z=function(e){return(0,f.sO)(e)?K((0,f.Mo)(e),m.b.APPLICATION_JSON):(0,f.Cx)(e)?K((0,f.x1)(e),m.b.APPLICATION_YAML):(0,f.Rz)(e)?function(e){var t=m.R.XML;return(0,f.Ic)(e)?t=m.R.WSDL:(0,f.lF)(e)&&(t=m.R.XSD),{type:t,contentType:m.b.TEXT_XML}}(e):(0,f.jf)(e)?{contentType:m.b.APPLICATION_PROTOBUF,type:m.R.PROTOBUF}:(console.warn("[ImportDesignModal] Failed to detect the type of the content."),{})},ee=function(e){if(void 0===e)F(void 0),M(void 0);else{F(e);var t=k.filter((function(t){return t.value===e}))[0];M(t)}};return(0,i.useEffect)((function(){var e=!0;h||(e=!1),N||(e=!1),L||(e=!1),p(e)}),[N,O,L,h]),(0,i.useEffect)((function(){y(void 0),R(""),w(""),b(void 0),ee(void 0)}),[n]),(0,i.useEffect)((function(){if(h&&h.trim().length>0){var e=Z(h);console.debug("[ImportDesignModal] Content detection: ",e),console.debug("[ImportDesignModal] Version detected: ",e.version||""),ee(e.type),$(e.version||""),R(e.name||""),w(e.summary||""),Q(e.contentType)}else console.debug("[ImportDesignModal] Content empty, resetting form fields."),R(""),w(""),ee(void 0),Q(void 0)}),[h]),(0,i.useEffect)((function(){L===m.R.OPENAPI&&void 0===j&&$("3.0.2")}),[L]),a().createElement(d.Modal,{variant:d.ModalVariant.medium,title:t===r.FILE?"Import design from file":"Import design from URL",isOpen:n,onClose:s,actions:[a().createElement(d.Button,{key:"create",variant:"primary",isDisabled:!u,onClick:function(){var e=t===r.FILE?{type:"file",file:{fileName:I}}:{type:"url",url:{url:P}},n={type:L,name:N,summary:O,context:e},i={contentType:Y,data:h};console.debug("[ImportDesignModal] Importing design: ",n),console.debug("[ImportDesignModal] Importing content-type: ",Y),o(n,i)}},"Import"),a().createElement(d.Button,{key:"cancel",variant:"link",onClick:s},"Cancel")]},a().createElement(l.x3,null),a().createElement(d.Form,null,a().createElement(l.If,{condition:t===r.FILE},a().createElement(d.FormGroup,{label:"File",isRequired:!0,fieldId:"import-design-file"},a().createElement(d.FileUpload,{isRequired:!0,id:"design-text-file",type:"text",value:h,filename:I,filenamePlaceholder:"Drag and drop a file or upload one",onChange:function(e,t){y(e),b(t)}}))),a().createElement(l.If,{condition:t===r.URL},a().createElement(d.FormGroup,{label:"URL",isRequired:!0,fieldId:"import-design-url"},a().createElement(_,{id:"design-text-url",urlPlaceholder:"Enter a valid and accessible URL",onChange:function(e,t){y(e),A(t)}}))),a().createElement(l.If,{condition:function(){return void 0!==h&&h.trim().length>0}},a().createElement(d.FormGroup,{label:"Type",isRequired:!0,fieldId:"import-design-type"},a().createElement(d.Select,{variant:d.SelectVariant.single,"aria-label":"Select type",onToggle:function(){return J(!V)},onSelect:function(e,t){return function(e){ee(e.value),J(!1)}(t)},isOpen:V,selections:B,menuAppendTo:"parent"},(0,v.ev)([a().createElement(d.SelectOption,{key:-1,value:D,isPlaceholder:!0})],k.map((function(e,t){return a().createElement(d.SelectOption,{key:t,value:e})})),!0))),a().createElement(l.If,{condition:L===m.R.OPENAPI},a().createElement(d.FormGroup,{label:"Version",isRequired:!0,fieldId:"import-design-version"},a().createElement(d.Select,{variant:d.SelectVariant.single,"aria-label":"Select version",onToggle:function(){return H(!X)},onSelect:function(e,t){return function(e){$(e),H(!1)}(t)},isOpen:X,selections:j,menuAppendTo:"parent"},a().createElement(d.SelectOption,{key:1,value:"3.0.2"}),a().createElement(d.SelectOption,{key:2,value:"2.0"})))),a().createElement(d.FormGroup,{label:"Name",isRequired:!0,fieldId:"import-design-name"},a().createElement(d.TextInput,{isRequired:!0,type:"text",id:"import-design-name",name:"import-design-name","aria-describedby":"import-design-name-helper",value:N,onChange:function(e){return R(e)}})),a().createElement(d.FormGroup,{label:"Description",fieldId:"import-design-description"},a().createElement(d.TextArea,{type:"text",id:"import-design-description",name:"import-design-description","aria-describedby":"import-design-description-helper",value:O,onChange:function(e){return w(e)}})))))};!function(e){e[e.FILE=0]="FILE",e[e.URL=1]="URL",e[e.RHOSR=2]="RHOSR"}(r||(r={}));var F=function(e){var t=e.variant,n=e.onImport,o=(0,i.useState)(!1),s=o[0],c=o[1],l=a().createElement(d.DropdownToggle,{id:"import-toggle",toggleVariant:"secondary",onToggle:function(e){c(e)}},"short"===t?"Import":"Import design");return a().createElement(d.Dropdown,{onSelect:function(e){var t=null==e?void 0:e.target.attributes["data-id"].value;switch(c(!1),t){case"action-file":return void n(r.FILE);case"action-url":return void n(r.URL);case"action-rhosr":return void n(r.RHOSR)}},toggle:l,isOpen:s,isPlain:!0,dropdownItems:[a().createElement(d.DropdownItem,{key:"action-rhosr","data-id":"action-rhosr"},"Import from Service Registry"),a().createElement(d.DropdownItem,{key:"action-url","data-id":"action-url"},"Import from URL"),a().createElement(d.DropdownItem,{key:"action-file","data-id":"action-file"},"Import from file")],position:"right"})},U=function(e){var t=e.isOpen,n=e.onImport,r=e.onCancel,o=(0,i.useState)(!1),s=o[0],p=o[1],m=(0,i.useState)(!0),f=m[0],g=m[1],v=(0,i.useState)([]),h=v[0],y=v[1],E=(0,i.useState)(),I=E[0],b=E[1],S=(0,i.useState)(),P=S[0],A=S[1],T=(0,c.DM)();(0,i.useEffect)((function(){t&&T.getRegistries().then((function(e){y(e.sort((function(e,t){var n=e.name,r=t.name;return n.localeCompare(r)}))),g(!1)})).catch((function(e){console.error("[ImportFromRhosrModal] Error getting registry list: ",e),y([]),g(!1)}))}),[t]),(0,i.useEffect)((function(){var e=!0;void 0===I&&(e=!1),p(e)}),[I,P]);var N=0===h.length?[]:[a().createElement(d.Button,{key:"create",variant:"primary",isDisabled:!s,onClick:function(){n(I,P)}},"Import"),a().createElement(d.Button,{key:"cancel",variant:"link",onClick:r},"Cancel")];return a().createElement(d.Modal,{variant:d.ModalVariant.large,title:"Import design from Service Registry",isOpen:t,onClose:r,actions:N},a().createElement(l.tr,{condition:f},a().createElement(l.If,{condition:0===h.length},a().createElement(l.Rb,{message:"To import a design from Service Registry, you must create a Service Registry instance first."})),a().createElement(l.If,{condition:h.length>0},a().createElement(l.x3,null),a().createElement(u,{registries:h,onSelected:function(e,t,n,r){if(void 0===t)b(void 0),A(void 0);else{var i={type:t.type,name:t.name||t.id,summary:t.description||"",context:{type:"rhosr",rhosr:{instanceId:null==e?void 0:e.id,groupId:t.groupId,artifactId:t.id,version:null==n?void 0:n.version}}};b(i),A(r)}}}))))},B=(n(89003),function(e){var t=e.template,n=e.isSelected,r=e.onSelect;return a().createElement("div",{className:"template-item ".concat(n?"selected":"not-selected"),onClick:function(){n||r(t)}},a().createElement("div",{className:"icon"},a().createElement(h.PlusCircleIcon,null)),a().createElement("div",{className:"name"},t.name))}),_=function(e){var t=e.id,n=e.urlPlaceholder,r=e.onChange,o=(0,i.useState)(),s=o[0],u=o[1],p=(0,i.useState)(),m=p[0],f=p[1],g=(0,i.useState)(!1),v=g[0],h=g[1],y=(0,i.useState)(),E=y[0],I=y[1],b=(0,c.fv)(),S=function(){return null!=s&&s.trim().length>0},P=function(){return null!=E&&E.trim().length>0},A=a().createElement("div",{className:"url-upload-loading"},a().createElement(d.Spinner,{size:"md",className:"spinner"}),a().createElement("span",{className:"spinner-message"},"Loading URL content"));return a().createElement("div",{className:"url-upload"},a().createElement("div",{className:"url-upload-flex"},a().createElement("div",{className:"url-upload-url"},a().createElement(d.TextInput,{value:s,type:"text",placeholder:n,id:t,onChange:function(e){u(e)},"aria-label":"url input"})),a().createElement("div",{className:"url-upload-button"},a().createElement(d.Button,{variant:"control",isDisabled:!S(),onClick:function(){h(!0),b.fetchUrlContent(s).then((function(e){I(void 0),f(e),h(!1),r(e,s)})).catch((function(e){I(e.message),h(!1)}))}},"Fetch")),a().createElement("div",{className:"url-upload-button"},a().createElement(d.Button,{variant:"control",isDisabled:!S(),onClick:function(){u(""),f(""),r(void 0,void 0)}},"Clear"))),a().createElement("div",{className:"url-upload-preview"},a().createElement(l.tr,{condition:v,loadingComponent:A},a().createElement(l.If,{condition:P},a().createElement("div",{className:"url-upload-error"},a().createElement("div",null,"Error getting content from URL."),a().createElement("div",null,E))),a().createElement(l.If,{condition:!P()},a().createElement(d.TextArea,{value:m,isReadOnly:!0})))))},M=function(e){var t=e.design,n=(0,i.useState)("details"),r=n[0],o=n[1];return a().createElement(a().Fragment,null,a().createElement(d.Tabs,{activeKey:r,onSelect:function(e,t){o(t)},"aria-label":"Design panel detail tabs"},a().createElement(d.Tab,{eventKey:"details",title:a().createElement(d.TabTitleText,null,"Details")},a().createElement("div",{className:"design-details-grid"},a().createElement("div",{className:"design-details-label"},"Description"),a().createElement(l.B_,{className:"design-details-value",description:null==t?void 0:t.summary}),a().createElement("div",{className:"design-details-label"},"Type"),a().createElement("div",{className:"design-details-value"},a().createElement(l.fN,{type:null==t?void 0:t.type,isShowLabel:!0,isShowIcon:!1})),a().createElement("div",{className:"design-details-label"},"Time created"),a().createElement("div",{className:"design-details-value"},a().createElement(l.ou,{date:null==t?void 0:t.createdOn})),a().createElement("div",{className:"design-details-label"},"Time updated"),a().createElement("div",{className:"design-details-value"},a().createElement(l.ou,{date:null==t?void 0:t.modifiedOn})),a().createElement("div",{className:"design-details-label"},"Origin"),a().createElement("div",{className:"design-details-value"},a().createElement(G,{design:t})))),a().createElement(d.Tab,{eventKey:"events",title:a().createElement(d.TabTitleText,null,"Events")},a().createElement(V,{design:t})),a().createElement(d.Tab,{eventKey:"history",title:a().createElement(d.TabTitleText,null,"History")},a().createElement(q,{design:t}))))},q=function(e){var t=e.design,n=(0,i.useState)(!1),r=n[0],o=n[1],s=(0,i.useState)(),d=s[0],u=s[1],p=(0,c.Pq)();return(0,i.useEffect)((function(){t&&p.getEvents(t.id).then((function(e){u(e),o(!1)})).catch((function(){}))}),[t]),a().createElement(l.tr,{condition:r},a().createElement(l.Ng,{collection:d},a().createElement("div",{className:"design-history"},null==d?void 0:d.map((function(e,t){return a().createElement(a().Fragment,{key:t},a().createElement("div",{key:"".concat(t,"-type"),className:"event-type"},a().createElement(J,{event:e})),a().createElement("div",{key:"".concat(t,"-time"),className:"event-time"},a().createElement(l.ou,{date:e.on})))})))))},V=function(e){var t=e.design,n=(0,i.useState)(!1),r=n[0],o=n[1],s=(0,i.useState)(),u=s[0],p=s[1],m=(0,c.Pq)(),g=function(){var e,n;return(null===(n=null===(e=null==t?void 0:t.origin)||void 0===e?void 0:e.url)||void 0===n?void 0:n.url)||""};return(0,i.useEffect)((function(){t&&m.getEvents(t.id).then((function(e){p(null==e?void 0:e.filter((function(e){return"download"===e.type||"register"===e.type}))),o(!1)})).catch((function(){}))}),[t]),a().createElement(a().Fragment,null,a().createElement("div",{className:"design-events-origin"},a().createElement("div",{className:"design-events-origin-label"},"Origin"),a().createElement("div",{className:"design-events-origin-value"},a().createElement(G,{design:t})),a().createElement("div",{className:"design-events-origin-label"},"Time created"),a().createElement("div",{className:"design-events-origin-value"},a().createElement(l.ou,{date:null==t?void 0:t.createdOn})),a().createElement(l.If,{condition:(0,f.C7)(t,"rhosr")},a().createElement("div",{className:"design-events-origin-label"},"Group"),a().createElement("div",{className:"design-events-origin-value"},function(){var e,n;return(null===(n=null===(e=null==t?void 0:t.origin)||void 0===e?void 0:e.rhosr)||void 0===n?void 0:n.groupId)||"default"}()),a().createElement("div",{className:"design-events-origin-label"},"ID"),a().createElement("div",{className:"design-events-origin-value"},function(){var e,n;return(null===(n=null===(e=null==t?void 0:t.origin)||void 0===e?void 0:e.rhosr)||void 0===n?void 0:n.artifactId)||"Unknown"}()),a().createElement("div",{className:"design-events-origin-label"},"Version"),a().createElement("div",{className:"design-events-origin-value"},function(){var e,n;return(null===(n=null===(e=null==t?void 0:t.origin)||void 0===e?void 0:e.rhosr)||void 0===n?void 0:n.version)||"latest"}()),a().createElement("div",{className:"design-events-origin-colspan"},a().createElement(l.h4,{context:null==t?void 0:t.origin},"View artifact in Service Registry"))),a().createElement(l.If,{condition:(0,f.C7)(t,"file")},a().createElement("div",{className:"design-events-origin-label"},"File name"),a().createElement("div",{className:"design-events-origin-value"},function(){var e,n;return(null===(n=null===(e=null==t?void 0:t.origin)||void 0===e?void 0:e.file)||void 0===n?void 0:n.fileName)||""}())),a().createElement(l.If,{condition:(0,f.C7)(t,"url")},a().createElement("div",{className:"design-events-origin-label"},"URL"),a().createElement("div",{className:"design-events-origin-value"},a().createElement("a",{href:g()},g())))),a().createElement(d.Divider,{className:"design-events-divider"}),a().createElement(l.tr,{condition:r},a().createElement("div",{className:"design-events-origin-exports"},a().createElement("div",{className:"design-events-origin-exports-label"},"Exported to"),a().createElement("div",null),a().createElement(l.Ng,{collection:u,emptyState:a().createElement("span",null,"This design has not been exported.")},null==u?void 0:u.map((function(e,t){return a().createElement(a().Fragment,{key:t},a().createElement("div",{key:"".concat(t,"-type"),className:"design-events-origin-exports-item"},a().createElement(J,{event:e,variant:"short"})),a().createElement("div",{key:"".concat(t,"-time"),className:"design-events-origin-exports-time"},a().createElement(l.ou,{date:e.on})))}))))))},J=function(e){var t=e.event,n=e.variant,r=function(){var e,r,i,o,s,c,d=t.data.context;switch(d.type){case"file":return"short"===n?a().createElement("span",null,"File"):a().createElement("span",null,"Imported from file ".concat(null===(e=d.file)||void 0===e?void 0:e.fileName));case"rhosr":return"short"===n?a().createElement("span",null,"Service Registry"):a().createElement(a().Fragment,null,a().createElement("span",null,"Imported from Service Registry "),a().createElement(l.h4,{context:d},a().createElement("span",null,"("),a().createElement("span",null,(null===(r=d.rhosr)||void 0===r?void 0:r.groupId)||"default"),a().createElement("span",null," / "),a().createElement("span",null,null===(i=d.rhosr)||void 0===i?void 0:i.artifactId),a().createElement("span",null," - "),a().createElement("span",null,(null===(o=d.rhosr)||void 0===o?void 0:o.version)||"latest",")")));case"url":return"short"===n?a().createElement("span",null,"URL"):a().createElement(a().Fragment,null,a().createElement("span",null,"Imported from URL: "),a().createElement("a",{href:null===(s=d.url)||void 0===s?void 0:s.url},null===(c=d.url)||void 0===c?void 0:c.url))}return a().createElement("span",null,"Imported content")};return a().createElement(a().Fragment,{children:function(){var e,i,o;switch(t.type){case"download":return"short"===n?a().createElement("span",null,"File"):a().createElement("span",null,"Downloaded to file system");case"create":return"short"===n?a().createElement("span",null,"New"):a().createElement("span",null,"Created new design");case"import":return r();case"register":var s={type:"rhosr",rhosr:t.data};return"short"===n?a().createElement("span",null,"Service Registry"):a().createElement(a().Fragment,null,a().createElement("span",null,"Exported to Service Registry "),a().createElement(l.h4,{context:s},a().createElement("span",null,"("),a().createElement("span",null,(null===(e=s.rhosr)||void 0===e?void 0:e.groupId)||"default"),a().createElement("span",null," / "),a().createElement("span",null,null===(i=s.rhosr)||void 0===i?void 0:i.artifactId),a().createElement("span",null," - "),a().createElement("span",null,(null===(o=s.rhosr)||void 0===o?void 0:o.version)||"latest",")")));case"update":return"short"===n?a().createElement("span",null,"Edited"):a().createElement("span",null,"Modified using the editor")}}()})},G=function(e){var t=e.design;return a().createElement(d.Label,{color:function(){if(t){if((0,f.C7)(t,"file"))return"purple";if((0,f.C7)(t,"rhosr"))return"blue";if((0,f.C7)(t,"url"))return"green"}return"grey"}()},function(){if(t){if((0,f.C7)(t,"file"))return"File";if((0,f.C7)(t,"rhosr"))return"Service Registry";if((0,f.C7)(t,"url"))return"URL";if((0,f.C7)(t,"create"))return"New design"}return"n/a"}())},j=[{label:"Edit design metadata",key:"action-rename"},{label:"Format design content",key:"action-format",accept:function(e){return[m.R.AVRO,m.R.JSON].includes(e.design.type)}},{label:"Show design changes",key:"action-compare",isDisabled:function(e){return!e.dirty}},{key:"action-separator-1",isSeparator:!0},{label:"Run Service Registry check",key:"action-test-registry"},{label:"Export design to Service Registry",key:"action-export-to-rhosr"},{label:"Download design",key:"action-download"},{key:"action-separator-2",isSeparator:!0},{label:"Delete design",key:"action-delete"}],$=function(e){var t,n,r,o,s,u,p,m,f,g=(0,c.Ip)(),v=(0,i.useState)(),h=v[0],y=v[1],E=(0,i.useState)(!1),I=E[0],b=E[1],S=(0,i.useState)("true"===g.getConfigProperty("editor-context.isExpanded","false")),P=S[0],A=S[1],N=(0,i.useState)(!1),R=N[0],C=N[1],O=(0,i.useState)(!1),w=O[0],x=O[1],D=(0,c.qy)(),k=a().createElement(d.DropdownToggle,{id:"action-toggle",toggleVariant:"secondary",onToggle:function(e){b(e)}},"Actions");(0,i.useEffect)((function(){if(e.design){var t=e.design.origin;y(t)}}),[e.design]);var L=j.filter((function(t){return!t.accept||t.accept(e)})).map((function(t){return t.isSeparator?a().createElement(d.DropdownSeparator,{key:t.key}):a().createElement(d.DropdownItem,{key:t.key,"data-id":t.key,isDisabled:!!t.isDisabled&&t.isDisabled(e)},t.label)}));return a().createElement(a().Fragment,null,a().createElement(X,{isOpen:w,design:e.design,onCancel:function(){return x(!1)},onSubmit:function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.onRegistrationTestRegistry.apply(e,t),x(!1)}}),a().createElement("div",{className:"editor-context"},a().createElement("div",{className:"editor-context-breadcrumbs"},a().createElement(d.Breadcrumb,{style:{marginBottom:"10px"}},a().createElement(d.BreadcrumbItem,{component:"button"},a().createElement(l.OL,{location:"/"},"API and Schema Designs")),a().createElement(d.BreadcrumbItem,{isActive:!0},null===(t=e.design)||void 0===t?void 0:t.name))),a().createElement("div",{className:"editor-context-last-modified"},a().createElement("span",null,"Last modified:"),a().createElement(T(),{date:e.design.modifiedOn,fromNow:!0})),a().createElement("div",{className:"editor-context-actions"},a().createElement(d.Dropdown,{onSelect:function(t){var n=null==t?void 0:t.target.attributes["data-id"].value;switch(b(!1),n){case"action-compare":return void e.onCompareContent();case"action-export-to-rhosr":return void C(!0);case"action-format":return void e.onFormat();case"action-rename":return void e.onRename();case"action-delete":return void e.onDelete();case"action-download":return void e.onDownload();case"action-test-registry":return void x(!0)}},toggle:k,style:{zIndex:1e3},isOpen:I,isPlain:!0,dropdownItems:L})),a().createElement("div",{className:"editor-context-save"},a().createElement(d.Button,{className:"btn-save",variant:"primary",onClick:e.onSave,isDisabled:!e.dirty},"Save")),a().createElement("div",{className:"editor-context-toggle"},a().createElement(d.Button,{className:"btn-toggle",variant:"plain",onClick:function(){var e=!P;g.setConfigProperty("editor-context.isExpanded",""+e),A(e)}},a().createElement(l.Xs,{expanded:P,onClick:function(){A(!P)}})))),a().createElement(l.If,{condition:P},a().createElement("div",{className:"editor-context-details"},a().createElement(d.TextContent,null,a().createElement(d.Text,{component:"h1",className:"title"},null===(n=e.design)||void 0===n?void 0:n.name),a().createElement(l.B_,{className:"summary",description:null===(r=e.design)||void 0===r?void 0:r.summary})),a().createElement("div",{className:"metadata"},a().createElement(d.DescriptionList,{isHorizontal:!0,isCompact:!0},a().createElement(d.DescriptionListGroup,null,a().createElement(d.DescriptionListTerm,null,"Type"),a().createElement(d.DescriptionListDescription,null,a().createElement(l.fN,{type:e.design.type,isShowLabel:!0,isShowIcon:!0}))),a().createElement(l.If,{condition:function(){return void 0!==h&&h.type&&"rhosr"===h.type}},a().createElement(d.DescriptionListGroup,null,a().createElement(d.DescriptionListTerm,null,"Artifact"),a().createElement(d.DescriptionListDescription,null,a().createElement("span",{className:"group"},(null===(o=null==h?void 0:h.rhosr)||void 0===o?void 0:o.groupId)||"default"),a().createElement("span",null," / "),a().createElement(l.h4,{context:h},a().createElement("span",{className:"group"},null===(s=null==h?void 0:h.rhosr)||void 0===s?void 0:s.artifactId),a().createElement("span",null," "),a().createElement("span",null,"("),a().createElement("span",{className:"group"},(null===(u=null==h?void 0:h.rhosr)||void 0===u?void 0:u.version)||"latest"),a().createElement("span",null,")"))))),a().createElement(l.If,{condition:function(){return void 0!==h&&h.type&&"file"===h.type}},a().createElement(d.DescriptionListGroup,null,a().createElement(d.DescriptionListTerm,null,"File name"),a().createElement(d.DescriptionListDescription,null,a().createElement("span",null,null===(p=null==h?void 0:h.file)||void 0===p?void 0:p.fileName)))),a().createElement(l.If,{condition:function(){return void 0!==h&&h.type&&"url"===h.type}},a().createElement(d.DescriptionListGroup,null,a().createElement(d.DescriptionListTerm,null,"URL"),a().createElement(d.DescriptionListDescription,null,a().createElement("a",{href:null===(m=null==h?void 0:h.url)||void 0===m?void 0:m.url},null===(f=null==h?void 0:h.url)||void 0===f?void 0:f.url)))))))),a().createElement(Y,{design:e.design,isOpen:R,onExported:function(e){C(!1),D.designExportedToRhosr(e)},onCancel:function(){return C(!1)}}))},z={hasErrors:!1,groupValue:{value:"",validated:"default",errorMessage:""},artifactIdValue:{value:"",validated:"default",errorMessage:""}},X=function(e){var t=e.design,n=e.isOpen,r=e.onCancel,o=e.onSubmit,s=(0,i.useState)(!1),u=s[0],p=s[1],m=(0,i.useState)(!0),f=m[0],g=m[1],h=(0,i.useState)([]),y=h[0],E=h[1],I=(0,i.useState)(),b=I[0],S=I[1],P=(0,i.useState)(z),A=P[0],T=P[1],N=(0,c.Pq)(),R=(0,c.DM)(),C=function(e){var t,n,r,i;r=(null===(t=null==e?void 0:e.rhosr)||void 0===t?void 0:t.groupId)||"",i=(null===(n=null==e?void 0:e.rhosr)||void 0===n?void 0:n.artifactId)||"",T((0,v.pi)((0,v.pi)({},A),{groupValue:(0,v.pi)((0,v.pi)({},A.groupValue),{validated:"default",value:r}),artifactIdValue:(0,v.pi)((0,v.pi)({},A.artifactIdValue),{validated:"default",value:i})}))};return(0,i.useEffect)((function(){n&&(T(z),g(!0),N.getEvents(t.id).then((function(e){R.getRegistries().then((function(n){E(n.sort((function(e,t){var n=e.name,r=t.name;return n.localeCompare(r)})));var r=function(e){var n;if(e){var r=e.filter((function(e){return"register"===e.type}));if(r&&r.length>0)return{type:"rhosr",rhosr:r[0].data}}if("rhosr"===(null===(n=null==t?void 0:t.origin)||void 0===n?void 0:n.type))return t.origin}(e);C(r),S(function(e,n){if(n){var r=e.filter((function(e){var n;return e.id===(null===(n=t.origin.rhosr)||void 0===n?void 0:n.instanceId)}));if((null==r?void 0:r.length)>0)return r[0]}return(null==e?void 0:e.length)>0?e[0]:void 0}(n,r)),g(!1)})).catch((function(e){console.error("[ExportToRhosrModal] Error getting registry list: ",e),E([]),C(void 0),g(!1)}))})).catch((function(e){console.error("[ExportToRhosrModal] Error getting events for design: ",e),E([]),C(void 0),g(!1)})))}),[n]),(0,i.useEffect)((function(){p(void 0!==A.artifactIdValue.value&&A.artifactIdValue.value.length>0)}),[A]),a().createElement(d.Modal,{variant:d.ModalVariant.medium,title:"Test using Service Registry",isOpen:n,onClose:r,actions:[a().createElement(d.Button,{key:"confirm",isDisabled:!u||0===(null==y?void 0:y.length),variant:"primary",onClick:function(){return o(b,A.groupValue.value,A.artifactIdValue.value)}},"Test"),a().createElement(d.Button,{key:"cancel",variant:"link",onClick:r},"Cancel")]},a().createElement(l.tr,{condition:f},a().createElement(l.Ng,{collection:y,emptyState:a().createElement(l.Rb,{message:"To test your design using Service Registry, you must create a Service Registry instance first."})},a().createElement(d.Form,null,a().createElement(d.FormGroup,{isRequired:!0,label:"Registry instance",fieldId:"test-in-registry-registry-instance"},a().createElement(l.vR,{toggleId:"test-in-registry-instance",value:b,items:y,onSelect:S,itemToString:function(e){return e.name}})),a().createElement(K,{registry:b,scope:"write"},a().createElement(d.FormGroup,{label:"Group",validated:A.groupValue.validated,helperTextInvalid:A.groupValue.errorMessage,fieldId:"test-in-registry-group"},a().createElement(d.TextInput,{id:"test-in-registry-group",value:A.groupValue.value,placeholder:"Enter group (optional) or leave blank for default group",onChange:function(e){T((0,v.pi)((0,v.pi)({},A),{groupValue:(0,v.pi)((0,v.pi)({},A.groupValue),{validated:"default",value:e})}))}})),a().createElement(d.FormGroup,{label:"ID",validated:A.artifactIdValue.validated,helperTextInvalid:A.artifactIdValue.errorMessage,isRequired:!0,fieldId:"test-in-registry-artifactId"},a().createElement(d.TextInput,{id:"test-in-registry-artifactId",placeholder:"Enter ID of artifact",value:A.artifactIdValue.value,onChange:function(e){var t=!e;T((0,v.pi)((0,v.pi)({},A),{hasErrors:t,artifactIdValue:(0,v.pi)((0,v.pi)({},A.artifactIdValue),{validated:t?"error":"default",errorMessage:"ID is a required field.",value:e})}))}})))))))},H=n(10258),W=function(e){var t=e.isOpen,n=e.onClose,r=e.before,o=e.beforeName,s=e.after,c=e.afterName,l=(0,i.useState)({renderSideBySide:!0,automaticLayout:!0,wordWrap:"off",readOnly:!0,inDiffEditor:!0,originalAriaLabel:"Original",modifiedAriaLabel:"Modified"}),u=l[0],p=l[1],m=(0,i.useState)(),g=m[0],y=m[1],E=(0,i.useState)(),I=E[0],b=E[1],S=(0,i.useState)(!1),P=S[0],A=S[1],T=(0,i.useState)(!1),N=T[0],R=T[1];return(0,i.useEffect)((function(){y((0,f.Rb)(r))}),[r]),(0,i.useEffect)((function(){b((0,f.Rb)(s))}),[s]),a().createElement(d.Modal,{id:"compare-modal",title:"Unsaved changes",isOpen:t,onClose:n},a().createElement("div",{className:"compare-view"},a().createElement(d.ToggleGroup,{className:"compare-toggle-group","aria-label":"Compare view toggle group"},a().createElement(d.ToggleGroupItem,{text:"Inline",key:1,buttonId:"second",isSelected:P,onChange:function(){p((0,v.pi)((0,v.pi)({},u),{renderSideBySide:!u.renderSideBySide})),A(!!u.renderSideBySide)}}),a().createElement(d.ToggleGroupItem,{text:"Wrap text",key:0,buttonId:"first",isSelected:N,onChange:function(){p((0,v.pi)((0,v.pi)({},u),{wordWrap:"off"==u.wordWrap?"on":"off"})),R("on"!=u.wordWrap)}})),a().createElement("div",{className:"compare-label"},a().createElement("span",{className:"before"},"Original: ",o),a().createElement("span",{className:"divider"},a().createElement(h.ArrowsAltHIcon,null)),a().createElement("span",{className:"after"},"Modified: ",c)),a().createElement("div",{className:"compare-editor"},a().createElement(H.DiffEditor,{className:"text-editor",original:g,modified:I,options:u}))))},Y=function(e){var t=e.design,n=e.isOpen,r=e.onExported,o=e.onCancel,s=(0,i.useState)(!1),u=s[0],p=s[1],m=(0,i.useState)(!1),f=m[0],g=m[1],v=(0,i.useState)(!0),h=v[0],y=v[1],E=(0,i.useState)([]),I=E[0],b=E[1],S=(0,i.useState)(),P=S[0],A=S[1],T=(0,i.useState)(),N=T[0],R=T[1],C=(0,i.useState)(),O=C[0],w=C[1],x=(0,i.useState)(),D=x[0],k=x[1],L=(0,i.useState)(),F=L[0],U=L[1],B=(0,i.useState)(!1),_=B[0],M=B[1],q=(0,i.useState)(),V=q[0],J=q[1],G=(0,c.Pq)(),j=(0,c.DM)(),$=(0,c.al)(),z=function(){R(void 0),w(void 0),k(void 0)},X=function(e){var t,n,r;R(null===(t=null==e?void 0:e.rhosr)||void 0===t?void 0:t.groupId),w(null===(n=null==e?void 0:e.rhosr)||void 0===n?void 0:n.artifactId),k(null===(r=null==e?void 0:e.rhosr)||void 0===r?void 0:r.version)};(0,i.useEffect)((function(){n&&(y(!0),g(!1),p(!1),b([]),z(),G.getEvents(t.id).then((function(e){j.getRegistries().then((function(n){b(n.sort((function(e,t){var n=e.name,r=t.name;return n.localeCompare(r)})));var r=function(e){var n;if(e){var r=e.filter((function(e){return"register"===e.type}));if(r&&r.length>0)return{type:"rhosr",rhosr:r[0].data}}if("rhosr"===(null===(n=null==t?void 0:t.origin)||void 0===n?void 0:n.type))return t.origin}(e);X(r),A(function(e,n){if(n){var r=e.filter((function(e){var n;return e.id===(null===(n=t.origin.rhosr)||void 0===n?void 0:n.instanceId)}));if((null==r?void 0:r.length)>0)return r[0]}return(null==e?void 0:e.length)>0?e[0]:void 0}(n,r)),y(!1)})).catch((function(e){console.error("[ExportToRhosrModal] Error getting registry list: ",e),b([]),X(void 0),y(!1)}))})).catch((function(e){console.error("[ExportToRhosrModal] Error getting events for design: ",e),b([]),X(void 0),y(!1)})))}),[n]),(0,i.useEffect)((function(){z()}),[t]),(0,i.useEffect)((function(){var e=!0;P||(e=!1),_||(e=!1),void 0!==V&&(e=!1),p(e)}),[P,N,O,D,_,V]),(0,i.useEffect)((function(){if(P){var e=$.createFor(P);U(e)}}),[P]);var H=[a().createElement(d.Button,{key:"export",variant:"primary",isDisabled:!u||f||0===(null==I?void 0:I.length),onClick:function(){g(!0),G.getDesignContent(t.id).then((function(e){var n={type:t.type,groupId:N,id:O,version:D,content:e.data,contentType:e.contentType};null==F||F.createOrUpdateArtifact(n).then((function(e){var n={type:"rhosr",rhosr:{instanceId:null==P?void 0:P.id,groupId:e.groupId,artifactId:e.id,version:e.version}},i={registry:P,design:t,context:n},a={id:t.id,type:"register",on:new Date,data:n.rhosr};G.createEvent(a).then((function(){g(!1),r(i)})).catch((function(){console.warn("[ExportToRhosrModal] Failed to create a history event (not fatal)."),g(!1),r(i)}))})).catch((function(e){console.error("[ExportToRhosrModal] Error registering artifact in RHOSR: ",e),J(e),g(!1)}))})).catch((function(e){console.error("[ExportToRhosrModal] Error fetching design content!",e)}))}},a().createElement(l.If,{condition:f},a().createElement(d.Spinner,{size:"md",className:"export-spinner"})),"Export"),a().createElement(d.Button,{key:"cancel",variant:"link",onClick:o},"Cancel")];return a().createElement(d.Modal,{variant:d.ModalVariant.medium,title:"Export to Service Registry",isOpen:n,onClose:o,actions:H},a().createElement(l.tr,{condition:h},a().createElement(l.Ng,{collection:I,emptyState:a().createElement(l.Rb,{message:"To save a design as an artifact in Service Registry, you must create a Service Registry instance first."})},a().createElement(d.Form,null,a().createElement(d.FormGroup,{label:"Registry Instance",isRequired:!0,fieldId:"export-registry-instance"},a().createElement(l.vR,{items:I,value:P,onSelect:function(e){M(!1),A(e)},variant:d.SelectVariant.single,toggleId:"export-registry",menuAppendTo:"parent",itemToString:function(e){return e.name}})),a().createElement(K,{registry:P,scope:"write",onHasAccess:M},a().createElement(l.If,{condition:void 0!==V},a().createElement(Z,{design:t,error:V,onCancel:o,onTryAgain:function(){return J(void 0)}})),a().createElement(l.If,{condition:void 0===V},a().createElement(d.FormGroup,{label:"Group",isRequired:!1,fieldId:"export-group"},a().createElement(d.TextInput,{isRequired:!0,type:"text",id:"export-group",name:"export-group",placeholder:"Enter group (optional) or leave blank for default group","aria-describedby":"export-group-helper",value:N,onChange:function(e){return R(e)}})),a().createElement(d.FormGroup,{label:"ID",isRequired:!1,fieldId:"export-artifact-id"},a().createElement(d.TextInput,{isRequired:!0,type:"text",id:"export-artifact-id",name:"export-artifact-id",placeholder:"Enter ID (optional) or leave blank for generated ID","aria-describedby":"export-artifact-id-helper",value:O,onChange:function(e){return w(e)}})),a().createElement(d.FormGroup,{label:"Version",isRequired:!1,fieldId:"export-version"},a().createElement(d.TextInput,{isRequired:!0,type:"text",id:"export-version",name:"export-version",placeholder:"Enter version (optional) or leave blank for generated version number","aria-describedby":"export-version-helper",value:D,onChange:function(e){return k(e)}}))))))))},Q=function(e){var t=e.design,n=e.isOpen,r=e.onRename,o=e.onCancel,s=(0,i.useState)(!1),c=s[0],l=s[1],u=(0,i.useState)(),p=u[0],m=u[1],f=(0,i.useState)(),g=f[0],v=f[1];return(0,i.useEffect)((function(){n&&(m(null==t?void 0:t.name),v(null==t?void 0:t.summary))}),[n]),(0,i.useEffect)((function(){var e=!0;p||(e=!1),l(e)}),[p,g]),a().createElement(d.Modal,{variant:d.ModalVariant.medium,title:"Edit design metadata",isOpen:n,onClose:o,actions:[a().createElement(d.Button,{key:"edit",variant:"primary",isDisabled:!c,onClick:function(){r({name:p,summary:g})}},"Save"),a().createElement(d.Button,{key:"cancel",variant:"link",onClick:o},"Cancel")]},a().createElement(d.Form,null,a().createElement(d.FormGroup,{label:"Name",isRequired:!0,fieldId:"edit-name"},a().createElement(d.TextInput,{isRequired:!0,type:"text",id:"edit-name",name:"edit-name",placeholder:"Enter new name for design","aria-describedby":"edit-name-helper",value:p,onChange:function(e){return m(e)}})),a().createElement(d.FormGroup,{label:"Description",fieldId:"edit-description"},a().createElement(d.TextArea,{type:"text",id:"edit-description",name:"edit-description","aria-describedby":"edit-description-helper",value:g,onChange:function(e){v(e)}}))))},K=function(e){var t=e.registry,n=e.scope,r=e.onHasAccess,o=e.children,s=(0,i.useState)(!1),u=s[0],p=s[1],m=(0,i.useState)(),f=m[0],g=m[1],v=(0,c.al)(),h=function(e){switch(n){case"read":return(null==e?void 0:e.viewer)||(null==e?void 0:e.developer)||!1||(null==e?void 0:e.admin)||!1;case"write":return(null==e?void 0:e.developer)||(null==e?void 0:e.admin)||!1;case"admin":return(null==e?void 0:e.admin)||!1}return!1};return(0,i.useEffect)((function(){p(!0),void 0!==t?v.createFor(t).getCurrentUser().then((function(e){g(e),r&&r(h(e)),p(!1)})).catch((function(e){console.info("[IfRhosr] Error response getting user info for registry instance: ",e),g({admin:!1,developer:!1,viewer:!1,displayName:"",username:""}),r&&r(!1),p(!1)})):r&&r(!1)}),[t]),a().createElement(l.tr,{condition:u},h(f)?a().createElement(a().Fragment,{children:o}):a().createElement(d.Alert,{variant:"danger",isInline:!0,title:"Permission denied (no access)"},a().createElement("p",null,"You do not have sufficient access privileges to Service Registry instance",a().createElement("span",{style:{fontWeight:"bold"}}," ",null==t?void 0:t.name),". Contact your organization admin or the owner of the Service Registry instance to request the appropriate access.")))},Z=function(e){var t=e.design,n=e.error,r=e.onTryAgain,i=e.onCancel;return a().createElement(d.Alert,{variant:"danger",isInline:!0,actionLinks:a().createElement(a().Fragment,null,a().createElement(d.AlertActionLink,{onClick:r},"Try again"),a().createElement(d.AlertActionLink,{onClick:i},"Cancel export")),title:"Error exporting '".concat(t.name,"' to service registry")},a().createElement(d.CodeBlock,{style:{marginTop:"15px",marginBottom:"15px"}},a().createElement(d.CodeBlockCode,{id:"code-content"},JSON.stringify(n,null,4))))}},49662:(e,t,n)=>{n.d(t,{qy:()=>Z,Pq:()=>N,PB:()=>$,Ip:()=>W.I,al:()=>u,DM:()=>r.D,NG:()=>j,fv:()=>H});var r=n(89003),i=n(70655),a=n(52212),o=n(74515),s=n(5606),c=n(78788);function l(e,t){switch(e){case"PROTOBUF":return o.b.APPLICATION_PROTOBUF;case"WSDL":case"XSD":case"XML":return o.b.APPLICATION_XML;case"GRAPHQL":return o.b.APPLICATION_GRAPHQL}return(0,c.sO)(t)?o.b.APPLICATION_JSON:(0,c.Rz)(t)?o.b.APPLICATION_XML:(0,c.Cx)(t)?o.b.APPLICATION_YAML:"application/octet-stream"}function d(e){return e||"default"}var u=function(){var e=(0,a.useAuth)();return{createFor:function(t){var n=(0,s.ax)(t.registryUrl,"/apis/registry/v2");return{createArtifact:function(t){return function(e,t,n){return(0,i.mG)(this,void 0,Promise,(function(){var r,a,o,c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(null==e?void 0:e.apicurio_registry)?[4,null==e?void 0:e.apicurio_registry.getToken()]:[3,2];case 1:return a=i.sent(),[3,3];case 2:a="",i.label=3;case 3:return r=a,o=(0,s.dg)(t,"/groups/:groupId/artifacts",{groupId:n.groupId}),c={Authorization:"Bearer ".concat(r)},n.id&&(c["X-Registry-ArtifactId"]=n.id),n.type&&(c["X-Registry-ArtifactType"]=n.type),c["Content-Type"]=l(n.type,n.content),[2,(0,s.Ot)(o,n.content,(0,s.JD)(c))]}}))}))}(e,n,t)},createArtifactVersion:function(t,r,a){return function(e,t,n,r,a){return(0,i.mG)(this,void 0,Promise,(function(){var o,c,u,p;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(null==e?void 0:e.apicurio_registry)?[4,null==e?void 0:e.apicurio_registry.getToken()]:[3,2];case 1:return c=i.sent(),[3,3];case 2:c="",i.label=3;case 3:return o=c,n=d(n),u=(0,s.dg)(t,"/groups/:groupId/artifacts/:artifactId/versions",{groupId:n||"default",artifactId:r}),p={Authorization:"Bearer ".concat(o)},a.type&&(p["X-Registry-ArtifactType"]=a.type),p["Content-Type"]=l(a.type,a.content),[2,(0,s.Ot)(u,a.content,(0,s.JD)(p))]}}))}))}(e,n,t,r,a)},createOrUpdateArtifact:function(t){return function(e,t,n){return(0,i.mG)(this,void 0,Promise,(function(){var r,a,o,c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(null==e?void 0:e.apicurio_registry)?[4,null==e?void 0:e.apicurio_registry.getToken()]:[3,2];case 1:return a=i.sent(),[3,3];case 2:a="",i.label=3;case 3:return r=a,o=(0,s.dg)(t,"/groups/:groupId/artifacts",{groupId:n.groupId||"default"},{ifExists:"UPDATE"}),c={Authorization:"Bearer ".concat(r)},n.id&&(c["X-Registry-ArtifactId"]=n.id),n.type&&(c["X-Registry-ArtifactType"]=n.type),n.version&&(c["X-Registry-Version"]=n.version),c["Content-Type"]=n.contentType,[2,(0,s.Ot)(o,n.content,(0,s.JD)(c))]}}))}))}(e,n,t)},getArtifacts:function(t,r){return function(e,t,n,r){return(0,i.mG)(this,void 0,Promise,(function(){var a,o,c,l,d,u,p;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return console.debug("[RhosrInstanceService] Getting artifacts: ",n,r),(null==e?void 0:e.apicurio_registry)?[4,null==e?void 0:e.apicurio_registry.getToken()]:[3,2];case 1:return o=i.sent(),[3,3];case 2:o="",i.label=3;case 3:return a=o,c=(r.page-1)*r.pageSize,l=c+r.pageSize,d={limit:l,offset:c,order:n.sortAscending?"asc":"desc",orderby:"name"},n.value&&("everything"==n.type?(d.name=n.value,d.description=n.value,d.labels=n.value):d[n.type]=n.value),u=(0,s.dg)(t,"/search/artifacts",{},d),p={Authorization:"Bearer ".concat(a)},[2,(0,s.kA)(u,(0,s.JD)(p),(function(e){return{artifacts:e.artifacts,count:e.count,page:r.page,pageSize:r.pageSize}}))]}}))}))}(e,n,t,r)},getArtifactContent:function(t,r,a){return function(e,t,n,r,a){return(0,i.mG)(this,void 0,Promise,(function(){var o,c,l,u,p;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(null==e?void 0:e.apicurio_registry)?[4,null==e?void 0:e.apicurio_registry.getToken()]:[3,2];case 1:return c=i.sent(),[3,3];case 2:c="",i.label=3;case 3:return o=c,n=d(n),l=(0,s.dg)(t,"/groups/:groupId/artifacts/:artifactId/versions/:version",{groupId:n,artifactId:r,version:a}),u={Accept:"*",Authorization:"Bearer ".concat(o)},"latest"===a&&(l=(0,s.dg)(t,"/groups/:groupId/artifacts/:artifactId",{groupId:n,artifactId:r})),(p=(0,s.JD)(u)).maxContentLength="5242880",p.responseType="text",p.transformResponse=function(e){return e},[2,(0,s.kA)(l,p)]}}))}))}(e,n,t,r,a)},getArtifactVersions:function(t,r){return function(e,t,n,r){return(0,i.mG)(this,void 0,Promise,(function(){var a,o,c,l;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(null==e?void 0:e.apicurio_registry)?[4,null==e?void 0:e.apicurio_registry.getToken()]:[3,2];case 1:return o=i.sent(),[3,3];case 2:o="",i.label=3;case 3:return a=o,n=d(n),console.info("[RhosrInstanceService] Getting the list of versions for artifact: ",n,r),c=(0,s.dg)(t,"/groups/:groupId/artifacts/:artifactId/versions",{groupId:n,artifactId:r},{limit:500,offset:0}),l={Authorization:"Bearer ".concat(a)},[2,(0,s.kA)(c,(0,s.JD)(l),(function(e){return e.versions}))]}}))}))}(e,n,t,r)},testUpdateArtifactContent:function(t,r,a){return function(e,t,n,r,a){return(0,i.mG)(this,void 0,Promise,(function(){var o,c,l,u;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(null==e?void 0:e.apicurio_registry)?[4,null==e?void 0:e.apicurio_registry.getToken()]:[3,2];case 1:return c=i.sent(),[3,3];case 2:c="",i.label=3;case 3:return o=c,n=d(n),console.info("[RhosrInstanceService] Testing updating of artifact content: ",n,r),l=(0,s.dg)(t,"/groups/:groupId/artifacts/:artifactId/test",{groupId:n,artifactId:r}),u={Authorization:"Bearer ".concat(o)},[2,(0,s.e8)(l,a,(0,s.JD)(u))]}}))}))}(e,n,t,r,a)},getCurrentUser:function(){return function(e,t){return(0,i.mG)(this,void 0,Promise,(function(){var n,r,a,o,c;return(0,i.Jh)(this,(function(i){switch(i.label){case 0:return(null==e?void 0:e.apicurio_registry)?[4,null==e?void 0:e.apicurio_registry.getToken()]:[3,2];case 1:return r=i.sent(),[3,3];case 2:r="",i.label=3;case 3:return n=r,console.info("[RhosrInstanceService] Getting information for the current user."),a=(0,s.dg)(t,"/users/me"),o={Authorization:"Bearer ".concat(n)},c=(0,s.JD)(o),[2,(0,s.kA)(a,c)]}}))}))}(e,n)}}}}},p=n(76792),m=n.n(p),f=n(7508),g=new(m())("designsDB");function v(e,t){return(0,i.mG)(this,void 0,Promise,(function(){var n,r,a,o;return(0,i.Jh)(this,(function(i){return n=(0,f.v4)(),r={id:n,name:(0,c.b9)(e.name,64),summary:(0,c.b9)(e.summary,256),type:e.type,createdOn:new Date,modifiedOn:new Date,origin:(0,c.kI)(e.context)},a={id:n,contentType:t.contentType,data:t.data},o={id:n,type:"create",on:new Date,data:{}},e.context&&(o.data.context=(0,c.kI)(e.context),"create"!==e.context.type&&(o.type="import")),o.id=n,[2,Promise.all([g.designs.add(r),g.content.add(a),T(o)]).then((function(){return r}))]}))}))}function h(){return(0,i.mG)(this,void 0,Promise,(function(){return(0,i.Jh)(this,(function(e){return[2,g.designs.toArray()]}))}))}function y(e,t,n){return(0,i.mG)(this,void 0,Promise,(function(){var r;return(0,i.Jh)(this,(function(i){return console.debug("[DesignsService] Searching for designs: ",e,t),r=function(t){var n=!1;return e.filterValue&&0!==e.filterValue.trim().length?(t.name.toLowerCase().indexOf(e.filterValue.toLowerCase())>=0||t.summary&&t.summary.toLowerCase().indexOf(e.filterValue.toLowerCase())>=0||t.type.toLowerCase().indexOf(e.filterValue.toLowerCase())>=0)&&(n=!0):n=!0,n},[2,h().then((function(e){var i=e.filter(r).sort((function(e,t){var r="name"===n.by?e.name.localeCompare(t.name):e.modifiedOn.getTime()-t.modifiedOn.getTime();return"asc"!==n.direction&&(r*=-1),r})),a=i.length,o=(t.page-1)*t.pageSize,s=o+t.pageSize;return{designs:i.slice(o,s),page:t.page,pageSize:t.pageSize,count:a}}))]}))}))}function E(e){return(0,i.mG)(this,void 0,Promise,(function(){return(0,i.Jh)(this,(function(t){return[2,g.designs.where("id").equals(e).first()]}))}))}function I(e){return(0,i.mG)(this,void 0,Promise,(function(){return(0,i.Jh)(this,(function(t){return[2,Promise.all([g.designs.where("id").equals(e).delete(),g.content.where("id").equals(e).delete(),g.events.where("id").equals(e).delete()]).then((function(){}))]}))}))}function b(e,t,n){return(0,i.mG)(this,void 0,Promise,(function(){return(0,i.Jh)(this,(function(r){return[2,g.designs.update(e,{name:(0,c.b9)(t,64),summary:(0,c.b9)(n,256)})]}))}))}function S(e){return(0,i.mG)(this,void 0,Promise,(function(){return(0,i.Jh)(this,(function(t){return[2,g.content.where("id").equals(e).first()]}))}))}function P(e){return(0,i.mG)(this,void 0,Promise,(function(){var t;return(0,i.Jh)(this,(function(n){return t={id:e.id,type:"update",on:new Date,data:{}},[2,Promise.all([g.content.update(e.id,{data:e.data}),g.designs.update(e.id,{modifiedOn:new Date}),T(t)]).then((function(){}))]}))}))}function A(e){return(0,i.mG)(this,void 0,Promise,(function(){return(0,i.Jh)(this,(function(t){return[2,g.events.where("id").equals(e).reverse().sortBy("on")]}))}))}function T(e){return(0,i.mG)(this,void 0,Promise,(function(){return(0,i.Jh)(this,(function(t){return e.eventId=(0,f.v4)(),[2,g.events.add(e)]}))}))}g.version(4).stores({designs:"++id, type, name, createdOn, modifiedOn",content:"++id",events:"++eventId, id, type, on"});var N=function(){return{createDesign:v,getDesigns:h,searchDesigns:y,getDesign:E,deleteDesign:I,renameDesign:b,getDesignContent:S,updateDesignContent:P,getEvents:A,createEvent:T}};const R=JSON.parse('{"asyncapi":"2.0.0","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.0"}}'),C=JSON.parse('{"asyncapi":"2.4.0","info":{"title":"$NAME","version":"1.0.0","description":"$SUMMARY","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"servers":{"test":{"url":"test.mykafkacluster.org:8092","protocol":"kafka-secure","description":"Test broker","security":[{"saslScram":[]}]}},"defaultContentType":"application/json","channels":{"smartylighting.streetlights.1.0.event.{streetlightId}.lighting.measured":{"description":"The topic on which measured values may be produced and consumed.","parameters":{"streetlightId":{"$ref":"#/components/parameters/streetlightId"}},"publish":{"summary":"Inform about environmental lighting conditions of a particular streetlight.","operationId":"receiveLightMeasurement","traits":[{"$ref":"#/components/operationTraits/kafka"}],"message":{"$ref":"#/components/messages/lightMeasured"}}},"smartylighting.streetlights.1.0.action.{streetlightId}.turn.on":{"parameters":{"streetlightId":{"$ref":"#/components/parameters/streetlightId"}},"subscribe":{"operationId":"turnOn","traits":[{"$ref":"#/components/operationTraits/kafka"}],"message":{"$ref":"#/components/messages/turnOnOff"}}},"smartylighting.streetlights.1.0.action.{streetlightId}.turn.off":{"parameters":{"streetlightId":{"$ref":"#/components/parameters/streetlightId"}},"subscribe":{"operationId":"turnOff","traits":[{"$ref":"#/components/operationTraits/kafka"}],"message":{"$ref":"#/components/messages/turnOnOff"}}},"smartylighting.streetlights.1.0.action.{streetlightId}.dim":{"parameters":{"streetlightId":{"$ref":"#/components/parameters/streetlightId"}},"subscribe":{"operationId":"dimLight","traits":[{"$ref":"#/components/operationTraits/kafka"}],"message":{"$ref":"#/components/messages/dimLight"}}}},"components":{"messages":{"lightMeasured":{"name":"lightMeasured","title":"Light measured","summary":"Inform about environmental lighting conditions of a particular streetlight.","contentType":"application/json","traits":[{"$ref":"#/components/messageTraits/commonHeaders"}],"payload":{"$ref":"#/components/schemas/lightMeasuredPayload"}},"turnOnOff":{"name":"turnOnOff","title":"Turn on/off","summary":"Command a particular streetlight to turn the lights on or off.","traits":[{"$ref":"#/components/messageTraits/commonHeaders"}],"payload":{"$ref":"#/components/schemas/turnOnOffPayload"}},"dimLight":{"name":"dimLight","title":"Dim light","summary":"Command a particular streetlight to dim the lights.","traits":[{"$ref":"#/components/messageTraits/commonHeaders"}],"payload":{"$ref":"#/components/schemas/dimLightPayload"}}},"schemas":{"lightMeasuredPayload":{"type":"object","properties":{"lumens":{"type":"integer","minimum":0,"description":"Light intensity measured in lumens."},"sentAt":{"$ref":"#/components/schemas/sentAt"}}},"turnOnOffPayload":{"type":"object","properties":{"command":{"type":"string","enum":["on","off"],"description":"Whether to turn on or off the light."},"sentAt":{"$ref":"#/components/schemas/sentAt"}}},"dimLightPayload":{"type":"object","properties":{"percentage":{"type":"integer","description":"Percentage to which the light should be dimmed to.","minimum":0,"maximum":100},"sentAt":{"$ref":"#/components/schemas/sentAt"}}},"sentAt":{"type":"string","format":"date-time","description":"Date and time when the message was sent."}},"securitySchemes":{"saslScram":{"type":"scramSha256","description":"Provide your username and password for SASL/SCRAM authentication"}},"parameters":{"streetlightId":{"description":"The ID of the streetlight.","schema":{"type":"string"}}},"messageTraits":{"commonHeaders":{"headers":{"type":"object","properties":{"my-app-header":{"type":"integer","minimum":0,"maximum":100}}}}},"operationTraits":{"kafka":{"bindings":{"kafka":{"clientId":"my-app-id"}}}}}}');var O=[{id:"asyncapi_2_blank",name:"Blank API",content:{contentType:o.b.APPLICATION_JSON,data:R}},{id:"asyncapi_2_streetlights",name:"Street Lights Example",content:{contentType:o.b.APPLICATION_JSON,data:C}}];const w=JSON.parse('{"openapi":"3.0.2","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.0"}}'),x=JSON.parse('{"openapi":"3.0.2","info":{"title":"$NAME","version":"1.0.0","description":"$SUMMARY","termsOfService":"http://swagger.io/terms/","contact":{"name":"Swagger API Team","url":"http://swagger.io","email":"apiteam@swagger.io"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"servers":[{"url":"http://petstore.swagger.io/api"}],"paths":{"/pets":{"get":{"parameters":[{"style":"form","name":"tags","description":"tags to filter by","schema":{"type":"array","items":{"type":"string"}},"in":"query","required":false},{"name":"limit","description":"maximum number of results to return","schema":{"format":"int32","type":"integer"},"in":"query","required":false}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Pet"}},"examples":{"laurent_cats":{"value":[{"id":1,"name":"Zaza","tag":"cat"},{"id":2,"name":"Tigresse","tag":"cat"},{"id":3,"name":"Maki","tag":"cat"},{"id":4,"name":"Toufik","tag":"cat"}]}}}},"description":"pet response"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"unexpected error"}},"operationId":"findPets","description":"Returns all pets from the system that the user has access to\\n"},"post":{"requestBody":{"description":"Pet to add to the store","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewPet"},"examples":{"tigresse":{"value":{"name":"Tigresse","tag":"cat"}}}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Pet"},"examples":{"tigresse":{"value":{"id":2,"name":"Tigresse","tag":"cat"}}}}},"description":"pet response"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"unexpected error"}},"operationId":"addPet","description":"Creates a new pet in the store.  Duplicates are allowed"}},"/pets/{id}":{"get":{"parameters":[{"examples":{"zaza":{"value":1}},"name":"id","description":"ID of pet to fetch","schema":{"format":"int64","type":"integer"},"in":"path","required":true}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Pet"},"examples":{"zaza":{"value":{"id":1,"name":"Zaza","tag":"cat"}}}}},"description":"pet response"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"unexpected error"}},"operationId":"findPetById","description":"Returns a user based on a single ID, if the user does not have\\naccess to the pet"},"delete":{"parameters":[{"name":"id","description":"ID of pet to delete","schema":{"format":"int64","type":"integer"},"in":"path","required":true}],"responses":{"204":{"description":"pet deleted"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"unexpected error"}},"operationId":"deletePet","description":"deletes a single pet based on the ID supplied"},"parameters":[{"name":"id","description":"Pet identifier","schema":{"type":"integer"},"in":"path","required":true}]}},"components":{"schemas":{"Pet":{"allOf":[{"$ref":"#/components/schemas/NewPet"},{"required":["id"],"properties":{"id":{"format":"int64","type":"integer"}}}]},"NewPet":{"required":["name"],"properties":{"name":{"type":"string"},"tag":{"type":"string"}}},"Error":{"required":["code","message"],"properties":{"code":{"format":"int32","type":"integer"},"message":{"type":"string"}}}}}}'),D=JSON.parse('{"openapi":"3.0.2","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.0","contact":{"name":"Open Data Portal","url":"https://developer.uspto.gov","email":"developer@uspto.gov"}},"servers":[{"url":"{scheme}://developer.uspto.gov/ds-api","variables":{"scheme":{"enum":["https","http"],"default":"https","description":"The Data Set API is accessible via https and http"}}}],"paths":{"/":{"get":{"tags":["metadata"],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dataSetList"},"example":{"total":2,"apis":[{"apiKey":"oa_citations","apiVersionNumber":"v1","apiUrl":"https://developer.uspto.gov/ds-api/oa_citations/v1/fields","apiDocumentationUrl":"https://developer.uspto.gov/ds-api-docs/index.html?url=https://developer.uspto.gov/ds-api/swagger/docs/oa_citations.json"},{"apiKey":"cancer_moonshot","apiVersionNumber":"v1","apiUrl":"https://developer.uspto.gov/ds-api/cancer_moonshot/v1/fields","apiDocumentationUrl":"https://developer.uspto.gov/ds-api-docs/index.html?url=https://developer.uspto.gov/ds-api/swagger/docs/cancer_moonshot.json"}]}}},"description":"Returns a list of data sets"}},"operationId":"list-data-sets","summary":"List available data sets"}},"/{dataset}/{version}/fields":{"get":{"tags":["metadata"],"parameters":[{"example":"oa_citations","name":"dataset","description":"Name of the dataset.","schema":{"type":"string"},"in":"path","required":true},{"example":"v1","name":"version","description":"Version of the dataset.","schema":{"type":"string"},"in":"path","required":true}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"The dataset API for the given version is found and it is accessible to consume."},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"The combination of dataset name and version is not found in the system or it is not published yet to be consumed by public."}},"operationId":"list-searchable-fields","summary":"Provides the general information about the API and the list of fields that can be used to query the dataset.","description":"This GET API returns the list of all the searchable field names that are in the oa_citations. Please see the \'fields\' attribute which returns an array of field names. Each field or a combination of fields can be searched using the syntax options shown below."}},"/{dataset}/{version}/records":{"post":{"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"required":["criteria"],"type":"object","properties":{"criteria":{"description":"Uses Lucene Query Syntax in the format of propertyName:value, propertyName:[num1 TO num2] and date range format: propertyName:[yyyyMMdd TO yyyyMMdd]. In the response please see the \'docs\' element which has the list of record objects. Each record structure would consist of all the fields and their corresponding values.","default":"*:*","type":"string"},"start":{"description":"Starting record number. Default value is 0.","default":0,"type":"integer"},"rows":{"description":"Specify number of rows to be returned. If you run the search with default values, in the response you will see \'numFound\' attribute which will tell the number of records available in the dataset.","default":100,"type":"integer"}}}}}},"tags":["search"],"parameters":[{"name":"version","description":"Version of the dataset.","schema":{"default":"v1","type":"string"},"in":"path","required":true},{"name":"dataset","description":"Name of the dataset. In this case, the default value is oa_citations","schema":{"default":"oa_citations","type":"string"},"in":"path","required":true}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}},"description":"successful operation"},"404":{"description":"No matching record found for the given criteria."}},"operationId":"perform-search","summary":"Provides search capability for the data set with the given search criteria.","description":"This API is based on Solr/Lucense Search. The data is indexed using SOLR. This GET API returns the list of all the searchable field names that are in the Solr Index. Please see the \'fields\' attribute which returns an array of field names. Each field or a combination of fields can be searched using the Solr/Lucene Syntax. Please refer https://lucene.apache.org/core/3_6_2/queryparsersyntax.html#Overview for the query syntax. List of field names that are searchable can be determined using above GET api."}}},"components":{"schemas":{"dataSetList":{"type":"object","properties":{"total":{"type":"integer"},"apis":{"type":"array","items":{"type":"object","properties":{"apiKey":{"description":"To be used as a dataset parameter value","type":"string"},"apiVersionNumber":{"description":"To be used as a version parameter value","type":"string"},"apiUrl":{"format":"uriref","description":"The URL describing the dataset\'s fields","type":"string"},"apiDocumentationUrl":{"format":"uriref","description":"A URL to the API console for each API","type":"string"}}}}}}}},"tags":[{"name":"metadata","description":"Find out about the data sets"},{"name":"search","description":"Search a data set"}]}'),k=JSON.parse('{"asyncapi":"2.0.0","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.0"}}'),L=JSON.parse('{"swagger":"2.0","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.6","termsOfService":"http://swagger.io/terms/","contact":{"email":"apiteam@swagger.io"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"host":"petstore.swagger.io","basePath":"/v2","tags":[{"name":"pet","description":"Everything about your Pets","externalDocs":{"description":"Find out more","url":"http://swagger.io"}},{"name":"store","description":"Access to Petstore orders"},{"name":"user","description":"Operations about user","externalDocs":{"description":"Find out more about our store","url":"http://swagger.io"}}],"schemes":["https","http"],"paths":{"/pet/{petId}/uploadImage":{"post":{"tags":["pet"],"summary":"uploads an image","description":"","operationId":"uploadFile","consumes":["multipart/form-data"],"produces":["application/json"],"parameters":[{"name":"petId","in":"path","description":"ID of pet to update","required":true,"type":"integer","format":"int64"},{"name":"additionalMetadata","in":"formData","description":"Additional data to pass to server","required":false,"type":"string"},{"name":"file","in":"formData","description":"file to upload","required":false,"type":"file"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/ApiResponse"}}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/pet":{"post":{"tags":["pet"],"summary":"Add a new pet to the store","description":"","operationId":"addPet","consumes":["application/json","application/xml"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"Pet object that needs to be added to the store","required":true,"schema":{"$ref":"#/definitions/Pet"}}],"responses":{"405":{"description":"Invalid input"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]},"put":{"tags":["pet"],"summary":"Update an existing pet","description":"","operationId":"updatePet","consumes":["application/json","application/xml"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"Pet object that needs to be added to the store","required":true,"schema":{"$ref":"#/definitions/Pet"}}],"responses":{"400":{"description":"Invalid ID supplied"},"404":{"description":"Pet not found"},"405":{"description":"Validation exception"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/pet/findByStatus":{"get":{"tags":["pet"],"summary":"Finds Pets by status","description":"Multiple status values can be provided with comma separated strings","operationId":"findPetsByStatus","produces":["application/json","application/xml"],"parameters":[{"name":"status","in":"query","description":"Status values that need to be considered for filter","required":true,"type":"array","items":{"type":"string","enum":["available","pending","sold"],"default":"available"},"collectionFormat":"multi"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/Pet"}}},"400":{"description":"Invalid status value"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/pet/findByTags":{"get":{"tags":["pet"],"summary":"Finds Pets by tags","description":"Multiple tags can be provided with comma separated strings. Use tag1, tag2, tag3 for testing.","operationId":"findPetsByTags","produces":["application/json","application/xml"],"parameters":[{"name":"tags","in":"query","description":"Tags to filter by","required":true,"type":"array","items":{"type":"string"},"collectionFormat":"multi"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/Pet"}}},"400":{"description":"Invalid tag value"}},"security":[{"petstore_auth":["write:pets","read:pets"]}],"deprecated":true}},"/pet/{petId}":{"get":{"tags":["pet"],"summary":"Find pet by ID","description":"Returns a single pet","operationId":"getPetById","produces":["application/json","application/xml"],"parameters":[{"name":"petId","in":"path","description":"ID of pet to return","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Pet"}},"400":{"description":"Invalid ID supplied"},"404":{"description":"Pet not found"}},"security":[{"api_key":[]}]},"post":{"tags":["pet"],"summary":"Updates a pet in the store with form data","description":"","operationId":"updatePetWithForm","consumes":["application/x-www-form-urlencoded"],"produces":["application/json","application/xml"],"parameters":[{"name":"petId","in":"path","description":"ID of pet that needs to be updated","required":true,"type":"integer","format":"int64"},{"name":"name","in":"formData","description":"Updated name of the pet","required":false,"type":"string"},{"name":"status","in":"formData","description":"Updated status of the pet","required":false,"type":"string"}],"responses":{"405":{"description":"Invalid input"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]},"delete":{"tags":["pet"],"summary":"Deletes a pet","description":"","operationId":"deletePet","produces":["application/json","application/xml"],"parameters":[{"name":"api_key","in":"header","required":false,"type":"string"},{"name":"petId","in":"path","description":"Pet id to delete","required":true,"type":"integer","format":"int64"}],"responses":{"400":{"description":"Invalid ID supplied"},"404":{"description":"Pet not found"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/store/order":{"post":{"tags":["store"],"summary":"Place an order for a pet","description":"","operationId":"placeOrder","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"order placed for purchasing the pet","required":true,"schema":{"$ref":"#/definitions/Order"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Order"}},"400":{"description":"Invalid Order"}}}},"/store/order/{orderId}":{"get":{"tags":["store"],"summary":"Find purchase order by ID","description":"For valid response try integer IDs with value >= 1 and <= 10. Other values will generated exceptions","operationId":"getOrderById","produces":["application/json","application/xml"],"parameters":[{"name":"orderId","in":"path","description":"ID of pet that needs to be fetched","required":true,"type":"integer","maximum":10,"minimum":1,"format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Order"}},"400":{"description":"Invalid ID supplied"},"404":{"description":"Order not found"}}},"delete":{"tags":["store"],"summary":"Delete purchase order by ID","description":"For valid response try integer IDs with positive integer value. Negative or non-integer values will generate API errors","operationId":"deleteOrder","produces":["application/json","application/xml"],"parameters":[{"name":"orderId","in":"path","description":"ID of the order that needs to be deleted","required":true,"type":"integer","minimum":1,"format":"int64"}],"responses":{"400":{"description":"Invalid ID supplied"},"404":{"description":"Order not found"}}}},"/store/inventory":{"get":{"tags":["store"],"summary":"Returns pet inventories by status","description":"Returns a map of status codes to quantities","operationId":"getInventory","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"successful operation","schema":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}}},"security":[{"api_key":[]}]}},"/user/createWithArray":{"post":{"tags":["user"],"summary":"Creates list of users with given input array","description":"","operationId":"createUsersWithArrayInput","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"List of user object","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/User"}}}],"responses":{"default":{"description":"successful operation"}}}},"/user/createWithList":{"post":{"tags":["user"],"summary":"Creates list of users with given input array","description":"","operationId":"createUsersWithListInput","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"List of user object","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/User"}}}],"responses":{"default":{"description":"successful operation"}}}},"/user/{username}":{"get":{"tags":["user"],"summary":"Get user by user name","description":"","operationId":"getUserByName","produces":["application/json","application/xml"],"parameters":[{"name":"username","in":"path","description":"The name that needs to be fetched. Use user1 for testing. ","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/User"}},"400":{"description":"Invalid username supplied"},"404":{"description":"User not found"}}},"put":{"tags":["user"],"summary":"Updated user","description":"This can only be done by the logged in user.","operationId":"updateUser","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"name":"username","in":"path","description":"name that need to be updated","required":true,"type":"string"},{"in":"body","name":"body","description":"Updated user object","required":true,"schema":{"$ref":"#/definitions/User"}}],"responses":{"400":{"description":"Invalid user supplied"},"404":{"description":"User not found"}}},"delete":{"tags":["user"],"summary":"Delete user","description":"This can only be done by the logged in user.","operationId":"deleteUser","produces":["application/json","application/xml"],"parameters":[{"name":"username","in":"path","description":"The name that needs to be deleted","required":true,"type":"string"}],"responses":{"400":{"description":"Invalid username supplied"},"404":{"description":"User not found"}}}},"/user/login":{"get":{"tags":["user"],"summary":"Logs user into the system","description":"","operationId":"loginUser","produces":["application/json","application/xml"],"parameters":[{"name":"username","in":"query","description":"The user name for login","required":true,"type":"string"},{"name":"password","in":"query","description":"The password for login in clear text","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","headers":{"X-Expires-After":{"type":"string","format":"date-time","description":"date in UTC when token expires"},"X-Rate-Limit":{"type":"integer","format":"int32","description":"calls per hour allowed by the user"}},"schema":{"type":"string"}},"400":{"description":"Invalid username/password supplied"}}}},"/user/logout":{"get":{"tags":["user"],"summary":"Logs out current logged in user session","description":"","operationId":"logoutUser","produces":["application/json","application/xml"],"parameters":[],"responses":{"default":{"description":"successful operation"}}}},"/user":{"post":{"tags":["user"],"summary":"Create user","description":"This can only be done by the logged in user.","operationId":"createUser","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"Created user object","required":true,"schema":{"$ref":"#/definitions/User"}}],"responses":{"default":{"description":"successful operation"}}}}},"securityDefinitions":{"api_key":{"type":"apiKey","name":"api_key","in":"header"},"petstore_auth":{"type":"oauth2","authorizationUrl":"https://petstore.swagger.io/oauth/authorize","flow":"implicit","scopes":{"read:pets":"read your pets","write:pets":"modify pets in your account"}}},"definitions":{"ApiResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"type":{"type":"string"},"message":{"type":"string"}}},"Category":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}},"xml":{"name":"Category"}},"Pet":{"type":"object","required":["name","photoUrls"],"properties":{"id":{"type":"integer","format":"int64"},"category":{"$ref":"#/definitions/Category"},"name":{"type":"string","example":"doggie"},"photoUrls":{"type":"array","xml":{"wrapped":true},"items":{"type":"string","xml":{"name":"photoUrl"}}},"tags":{"type":"array","xml":{"wrapped":true},"items":{"xml":{"name":"tag"},"$ref":"#/definitions/Tag"}},"status":{"type":"string","description":"pet status in the store","enum":["available","pending","sold"]}},"xml":{"name":"Pet"}},"Tag":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}},"xml":{"name":"Tag"}},"Order":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"petId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"},"shipDate":{"type":"string","format":"date-time"},"status":{"type":"string","description":"Order Status","enum":["placed","approved","delivered"]},"complete":{"type":"boolean"}},"xml":{"name":"Order"}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"phone":{"type":"string"},"userStatus":{"type":"integer","format":"int32","description":"User Status"}},"xml":{"name":"User"}}},"externalDocs":{"description":"Find out more about Swagger","url":"http://swagger.io"}}');var F=[{id:"openapi_3_blank",name:"Blank API",content:{contentType:o.b.APPLICATION_JSON,data:w}},{id:"openapi_3_petstore",name:"Pet Store Example",content:{contentType:o.b.APPLICATION_JSON,data:x}},{id:"openapi_3_uspto",name:"USPTO Dataset API",content:{contentType:o.b.APPLICATION_JSON,data:D}}],U=[{id:"openapi_2_blank",name:"Blank API",content:{contentType:o.b.APPLICATION_JSON,data:k}},{id:"openapi_2_petstore",name:"Pet Store Example",content:{contentType:o.b.APPLICATION_JSON,data:L}}];const B=JSON.parse('{"$id":"https://example.com/blank.schema.json","$schema":"http://json-schema.org/draft-07/schema#","title":"$NAME","description":"$SUMMARY","type":"object","properties":{}}');var _=[{id:"json_blank",name:"Blank JSON Schema",content:{contentType:o.b.APPLICATION_JSON,data:B}}];const M=JSON.parse('{"type":"record","name":"$NAME","fields":[{"name":"something","type":"string"}]}');var q=[{id:"avro_blank",name:"Blank Avro Schema",content:{contentType:o.b.APPLICATION_JSON,data:M}}];const V=JSON.parse('{"X":"syntax = \\"proto2\\";\\n\\nmessage Example {\\n  required string name = 1;\\n}\\n"}');var J=[{id:"protobuf_blank",name:"Blank Protobuf Schema",content:{contentType:o.b.APPLICATION_PROTOBUF,data:V.X}}];function G(e,t){return(0,i.mG)(this,void 0,Promise,(function(){return(0,i.Jh)(this,(function(n){return e===o.R.AVRO?[2,Promise.resolve(q)]:e===o.R.PROTOBUF?[2,Promise.resolve(J)]:e===o.R.JSON?[2,Promise.resolve(_)]:e===o.R.ASYNCAPI?[2,Promise.resolve(O)]:e===o.R.OPENAPI?t&&t.startsWith("3")?[2,Promise.resolve(F)]:[2,Promise.resolve(U)]:[2,Promise.reject("No templates found for type ".concat(e," and version ").concat(t,"."))]}))}))}var j=function(){return{getTemplatesFor:G}};var $=function(){var e=N();return{downloadToFS:function(t,n,r,a){return function(e,t,n,r,a){return(0,i.mG)(this,void 0,Promise,(function(){var o,s,c,l,d;return(0,i.Jh)(this,(function(i){return console.info("[DownloadService] Downloading a design."),void 0!==(o=window).chrome?(s=document.createElement("a"),c=new Blob([n],{type:r}),s.href=o.URL.createObjectURL(c),s.download=a,s.click()):void 0!==o.navigator&&void 0!==o.navigator.msSaveBlob?(c=new Blob([n],{type:r}),o.navigator.msSaveBlob(c,a)):(l=new File([n],a,{type:"application/force-download"}),o.open(URL.createObjectURL(l))),d={id:t.id,type:"download",on:new Date,data:{filename:a}},[2,e.createEvent(d)]}))}))}(e,t,n,r,a)}}},z=/^https:\/\/github\.com\/([^/]+)\/([^/]+)\/blob\/([^/]+)\/(.+)$/;function X(e){return(0,i.mG)(this,void 0,Promise,(function(){var t,n,r,a,o,s,l;return(0,i.Jh)(this,(function(i){return null!==(t=e.match(z))&&(n=t[1],r=t[2],a=t[3],o=t[4],e="https://raw.githubusercontent.com/".concat(n,"/").concat(r,"/").concat(a,"/").concat(o)),console.info("[UrlService] Fetching content from a URL: ",e),s=e,(l=(0,c.JD)({Accept:"*"})).maxContentLength="5242880",l.responseType="text",l.transformResponse=function(e){return e},[2,(0,c.kA)(s,l)]}))}))}var H=function(){return{fetchUrlContent:X}},W=n(92964),Y=n(93264),Q=n.n(Y),K=n(39785),Z=function(){var e=((0,a.useAlert)()||{}).addAlert;return{designDeleted:function(t){e({title:"Delete successful",description:"Design '".concat(t.name,"' was successfully deleted."),variant:a.AlertVariant.success,dataTestId:"toast-design-deleted"})},designDeleteFailed:function(t,n){e({title:"Delete failed",description:"Failed to delete design '".concat(t.name,"'.  ").concat(n),variant:a.AlertVariant.danger,dataTestId:"toast-design-delete-error"})},designRenamed:function(t){e({title:"Details successfully changed",description:"Details (name, summary) of design '".concat(t.name,"' were successfully changed."),variant:a.AlertVariant.success,dataTestId:"toast-design-renamed"})},designSaved:function(t){var n=Q().createElement(Q().Fragment,null,Q().createElement("div",null,"Design '",null==t?void 0:t.name,"' was ",Q().createElement("span",{style:{fontWeight:"bold"}},"successfully saved locally in your browser"),"."));e({title:"Save successful",description:n,variant:a.AlertVariant.success,dataTestId:"toast-design-saved"})},designExportedToRhosr:function(t){var n=Q().createElement(Q().Fragment,null,Q().createElement("div",null,"Design '".concat(t.design.name,"' was successfully exported to Service Registry.")),Q().createElement(K.h4,{registry:t.registry,context:t.context},"View artifact in Service Registry"));e({title:"Export successful",description:n,variant:a.AlertVariant.success,dataTestId:"toast-design-registered"})}}}},92964:(e,t,n)=>{function r(e,t){console.info("[LocalStorageService] Setting config property ".concat(e," to value ").concat(t,"."));var n="string"==typeof t?t:JSON.stringify(t);localStorage.setItem("apicurio-studio."+e,n)}function i(e,t){console.info("[LocalStorageService] Getting config property ".concat(e));var n=localStorage.getItem("apicurio-studio."+e);return n?n.startsWith("{")?JSON.parse(n):n:t}function a(e){console.info("[LocalStorageService] Clearing config property ".concat(e)),localStorage.removeItem(e)}n.d(t,{I:()=>o});var o=function(){return{setConfigProperty:r,getConfigProperty:i,clearConfigProperty:a}}},89003:(e,t,n)=>{n.d(t,{D:()=>p});var r=n(70655),i=n(55562),a=n(52212),o=n(92964),s=[{id:"1",name:"Local Registry 1 (localhost:8081)",registryUrl:"http://localhost:8081/",browserUrl:"http://localhost:8081/ui/",status:"ready",created_at:"2022-01-01T12:00:00Z",updated_at:"2022-01-01T12:00:00Z",instance_type:"standard"},{id:"2",name:"Local Registry 2 (localhost:8082)",registryUrl:"http://localhost:8082/",browserUrl:"http://localhost:8082/ui/",status:"ready",created_at:"2022-01-01T12:00:00Z",updated_at:"2022-01-01T12:00:00Z",instance_type:"standard"}],c=[{id:"101",name:"Operate First Registry 1",registryUrl:"https://apicurio-registry-mem-one.apps.smaug.na.operate-first.cloud/",browserUrl:"https://apicurio-registry-mem-one.apps.smaug.na.operate-first.cloud/ui/",status:"ready",created_at:"2022-01-01T12:00:00Z",updated_at:"2022-01-01T12:00:00Z",instance_type:"standard"},{id:"201",name:"Operate First Registry 2",registryUrl:"https://apicurio-registry-mem-two.apps.smaug.na.operate-first.cloud/",browserUrl:"https://apicurio-registry-mem-two.apps.smaug.na.operate-first.cloud/ui/",status:"ready",created_at:"2022-01-01T12:00:00Z",updated_at:"2022-01-01T12:00:00Z",instance_type:"standard"}];function l(e){return{getRegistries:function(){return new Promise((function(t){setTimeout((function(){t(e)}),150)}))},getRegistry:function(t){return new Promise((function(n){setTimeout((function(){var r=e.filter((function(e){return e.id===t}));return r&&r.length>0?n(r[0]):n({})}),150)}))}}}var d=!1,u=function(e){d||(console.info("[RhosrService] ----------------------------------"),console.info("[RhosrService]",e),console.info("[RhosrService] ----------------------------------"),d=!0)},p=function(){var e=(0,a.useAuth)(),t=(0,a.useConfig)(),n=(0,o.I)();return t.srs.apiBasePath&&t.srs.apiBasePath.startsWith("local-mock")?(u("RHOSR mocking enabled."),l(s)):t.srs.apiBasePath&&t.srs.apiBasePath.startsWith("operate-first-mock")?(u("RHOSR mocking enabled (Operate First)."),l(c)):{getRegistries:function(){return function(e,t){return(0,r.mG)(this,void 0,Promise,(function(){var n,a;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return console.debug("[RhosrService] Getting a list of registries from: ",t),(null==e?void 0:e.srs)?[4,null==e?void 0:e.srs.getToken()]:[3,2];case 1:return a=r.sent(),[3,3];case 2:a="",r.label=3;case 3:return n=a,[2,new i.RegistriesApi(new i.Configuration({accessToken:n,basePath:t})).getRegistries(1,50).then((function(e){return(null==e?void 0:e.data).items}))]}}))}))}(e,t.srs.apiBasePath)},getRegistry:function(a){return function(e,t,n,a){return(0,r.mG)(this,void 0,Promise,(function(){var o,s,c,l;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return console.debug("[RhosrService] Getting a single registry from: ",a),o="services.rhosr.getRegistry.".concat(n),(s=t.getConfigProperty(o,void 0))?(console.debug("[RhosrService] Cache hit for registry with ID: ",n),[2,Promise.resolve(s)]):(null==e?void 0:e.srs)?[4,null==e?void 0:e.srs.getToken()]:[3,2];case 1:return l=r.sent(),[3,3];case 2:l="",r.label=3;case 3:return c=l,[2,new i.RegistriesApi(new i.Configuration({accessToken:c,basePath:a})).getRegistry(n).then((function(e){var n=null==e?void 0:e.data;return t.setConfigProperty(o,n),n}))]}}))}))}(e,n,a,t.srs.apiBasePath)}}}},78788:(e,t,n)=>{function r(e){return JSON.parse(JSON.stringify(e))}function i(e,t,n){Object.keys(e).forEach((function(r){var a=e[r];"object"==typeof a?i(a,t,n):a===t&&(e[r]=n)}))}n.d(t,{kI:()=>r,Rb:()=>T,EC:()=>S,E2:()=>A,JD:()=>a.JD,Ft:()=>b,Nq:()=>P,C7:()=>N,kA:()=>a.kA,sO:()=>d,jf:()=>I,Ic:()=>y,Rz:()=>v,lF:()=>E,Cx:()=>m,b9:()=>R,Mo:()=>u,x1:()=>f,pc:()=>i,n4:()=>a.n4,LQ:()=>p,vo:()=>g});var a=n(5606),o=n(64724),s=n.n(o),c=n(11515),l=n(74515);function d(e){try{return JSON.parse(e),!0}catch(e){return!1}}function u(e){return JSON.parse(e)}function p(e){return JSON.stringify(e,null,4)}function m(e){try{if("object"==typeof s().parse(e))return!0}catch(e){}return!1}function f(e){return s().parse(e)}function g(e){return s().stringify(e,null,4)}function v(e){try{return!(0!==(new DOMParser).parseFromString(e,"application/xml").getElementsByTagName("parsererror").length)}catch(e){return!1}}function h(e,t,n){try{var r=(new DOMParser).parseFromString(e,"application/xml");return!(0!==r.getElementsByTagName("parsererror").length)&&r.documentElement.namespaceURI===t&&r.documentElement.localName===n}catch(e){return!1}}function y(e){return h(e,"http://schemas.xmlsoap.org/wsdl/","definitions")}function E(e){return h(e,"http://www.w3.org/2001/XMLSchema","schema")}function I(e){try{return(0,c.parse)(e),!0}catch(e){return!1}}function b(e,t){var n;if(e.origin&&"file"===e.origin.type){var r=null===(n=e.origin.file)||void 0===n?void 0:n.fileName;if(r.indexOf(".")>0){var i=r.split(".");return i[i.length-1]}}return e.type===l.R.PROTOBUF?"proto":e.type===l.R.WSDL?"wsdl":e.type===l.R.XSD?"xsd":e.type===l.R.XML?"xml":e.type===l.R.GRAPHQL?"graphql":t.contentType&&t.contentType===l.b.APPLICATION_JSON?"json":t.contentType&&t.contentType===l.b.APPLICATION_YAML?"yaml":"txt"}function S(e,t){return t.contentType?t.contentType:e.type===l.R.PROTOBUF?l.b.APPLICATION_PROTOBUF:e.type===l.R.WSDL?l.b.APPLICATION_WSDL:e.type===l.R.XSD||e.type===l.R.XML?l.b.TEXT_XML:e.type===l.R.GRAPHQL?l.b.APPLICATION_GRAPHQL:l.b.APPLICATION_JSON}function P(e,t){try{if(t===l.b.APPLICATION_JSON){var n=JSON.parse(e);return JSON.stringify(n,null,4)}}catch(t){return console.error(t),e}return e}function A(e){return e.replace(/[/|\\:*?"<>]/g,"")}function T(e){return"string"==typeof e?e:JSON.stringify(e,null,4)}function N(e,t){var n;return(null===(n=null==e?void 0:e.origin)||void 0===n?void 0:n.type)===t}function R(e,t){return!e||e.length<t?e:e.substring(0,t-3)+"..."}},5606:(e,t,n)=>{n.d(t,{JD:()=>d,Ot:()=>p,ax:()=>g,dg:()=>l,e8:()=>m,kA:()=>u,n4:()=>f});var r=n(70655),i=n(57814),a=n(9669),o=n.n(a)().create();function s(e,t,n,i){return"string"==typeof i&&(i=new Blob([i])),(0,r.pi)({data:i,method:e,url:t,validateStatus:function(e){return e>=200&&e<300}},n)}function c(e){return console.debug("Error detected, unwrapping..."),e&&e.response&&e.response.data?(0,r.pi)((0,r.pi)({message:e.message},e.response.data),{status:e.response.status}):e&&e.response?{message:e.message,status:e.response.status}:e?(console.error("Unknown error detected: ",e),{message:e.message,status:500}):(console.error("Unknown error detected: ",e),{message:"Unknown error",status:500})}function l(e,t,n,r){n&&Object.keys(n).forEach((function(e){var r=encodeURIComponent(n[e]);t=t.replace(":"+e,r)}));var i=g(e,t);if(r){var a=!0;for(var o in r)if(r[o]){var s=encodeURIComponent(r[o]);i=a?i+"?"+o:i+"&"+o,null!=s&&(i=i+"="+s),a=!1}}return i}function d(e){return{headers:e}}function u(e,t,n){console.info("[BaseService] Making a GET request to: ",e),t||(t=d({Accept:i.b.APPLICATION_JSON}));var r=s("get",e,t);return o.request(r).then((function(e){var t=e.data;return n?n(t):t})).catch((function(e){return Promise.reject(c(e))}))}function p(e,t,n,r){console.info("[BaseService] Making a POST request to: ",e),n||(n=d({Accept:i.b.APPLICATION_JSON,"Content-Type":i.b.APPLICATION_JSON}));var a=s("post",e,n,t);return o.request(a).then((function(e){var t=e.data;return r?r(t):t})).catch((function(e){return Promise.reject(c(e))}))}function m(e,t,n,r){console.info("[BaseService] Making a PUT request to: ",e),n||(n=d({"Content-Type":i.b.APPLICATION_JSON}));var a=s("put",e,n,t);return o.request(a).then((function(){return r?r():void 0})).catch((function(e){return Promise.reject(c(e))}))}function f(e){return e?e.endsWith("/")?e.substring(0,e.length-1):e:""}function g(e,t){var n=e;return n.endsWith("/")&&(n=n.substring(0,n.length-1)),n+=t}}}]);
//# sourceMappingURL=263.3b366df4.js.map