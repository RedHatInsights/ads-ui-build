"use strict";(self.webpackChunkads_ui=self.webpackChunkads_ui||[]).push([[745],{48533:(e,t,n)=>{n.d(t,{fN:()=>c,If:()=>i,Ng:()=>u,tr:()=>d,YF:()=>p,OL:()=>o.O,vR:()=>m.v,Xs:()=>g});var r=n(75418),a=n.n(r),i=function(e){var t=e.condition,n=e.children;return("boolean"==typeof t?t:t())?a().createElement(a().Fragment,{children:n}):a().createElement(a().Fragment,null)},o=n(31430),s=n(74515),c=function(e){var t=e.type,n=e.isShowLabel;return a().createElement("div",{className:function(){var e="artifact-type-icon";switch(n&&(e+=" artifact-type-icon-with-label"),t){case s.R.AVRO:e+=" avro-icon24";break;case s.R.PROTOBUF:e+=" protobuf-icon24";break;case s.R.JSON:e+=" json-icon24";break;case s.R.OPENAPI:e+=" oai-icon24";break;case s.R.ASYNCAPI:e+=" aai-icon24";break;case s.R.GRAPHQL:e+=" graphql-icon24";break;case s.R.KCONNECT:e+=" kconnect-icon24";break;case s.R.WSDL:case s.R.XSD:case s.R.XML:e+=" xml-icon24"}return e}(),title:function(){var e=t;switch(t){case s.R.AVRO:e="Avro Schema";break;case s.R.PROTOBUF:e="Protobuf Schema";break;case s.R.JSON:e="JSON Schema";break;case s.R.OPENAPI:e="OpenAPI Definition";break;case s.R.ASYNCAPI:e="AsyncAPI Definition";break;case s.R.GRAPHQL:e="GraphQL Definition";break;case s.R.KCONNECT:e="Kafka Connect Schema";break;case s.R.WSDL:e="WSDL";break;case s.R.XSD:e="XML Schema";break;case s.R.XML:e="XML"}return e}(),children:n?a().createElement("span",null,function(){var e=t;switch(t){case s.R.AVRO:e="Avro";break;case s.R.PROTOBUF:e="Protobuf";break;case s.R.JSON:e="JSON schema";break;case s.R.OPENAPI:e="OpenAPI";break;case s.R.ASYNCAPI:e="AsyncAPI";break;case s.R.GRAPHQL:e="GraphQL";break;case s.R.KCONNECT:e="Kafka Connect";break;case s.R.WSDL:e="WSDL";break;case s.R.XSD:e="XML Schema";break;case s.R.XML:e="XML"}return e}()):void 0})},l=n(99922),d=function(e){var t=e.condition,n=e.loadingComponent,r=e.children,i=n||a().createElement(l.Spinner,null);return("boolean"==typeof t?t:t())?a().createElement(a().Fragment,{children:i}):a().createElement(a().Fragment,{children:r})},u=function(e){var t=e.collection,n=e.emptyState,r=e.emptyStateTitle,i=e.emptyStateMessage,o=e.children,s=n||a().createElement(l.EmptyState,{variant:l.EmptyStateVariant.xs},a().createElement(l.Title,{headingLevel:"h4",size:"md"},r||"None found"),a().createElement(l.EmptyStateBody,null,i||"No items found."));return t&&0!==t.length?a().createElement(a().Fragment,{children:o}):a().createElement(a().Fragment,{children:s})},p=function(e){var t=e.toolbar,n=e.emptyState,r=e.filteredEmptyState,o=e.isLoading,s=e.isEmpty,c=e.isFiltered,l=e.children;return a().createElement(a().Fragment,null,a().createElement(i,{condition:!s||c,children:t}),a().createElement(d,{condition:o},a().createElement(i,{condition:!s,children:l}),a().createElement(i,{condition:s&&c,children:r}),a().createElement(i,{condition:s&&!c,children:n})))},m=n(65122),f=n(67646),g=function(e){var t=e.expanded;e.onClick;return t?a().createElement(f.ChevronDownIcon,null):a().createElement(f.ChevronRightIcon,null)}},31430:(e,t,n)=>{n.d(t,{O:()=>o});var r=n(75418),a=n.n(r),i=n(60891),o=function(e){var t=e.location,n=e.className,r=e.children,o=(0,i.H)();return a().createElement("a",{className:n,onClick:function(){return o.navigateTo(t)},children:r})}},65122:(e,t,n)=>{n.d(t,{v:()=>s});var r=n(70655),a=n(75418),i=n.n(a),o=n(99922),s=function(e){var t=e.value,n=e.items,s=e.onSelect,c=e.itemToString,l=e.noSelectionLabel,d=e.menuAppendTo,u=(0,a.useState)(!1),p=u[0],m=u[1],f=(0,a.useState)(),g=f[0],h=f[1],y=(0,a.useState)(),v=y[0],I=y[1];return(0,a.useEffect)((function(){var e=(n||[]).map((function(e,t){return{item:e,toString:function(){return c(e)}}}));if(void 0!==l){var t={item:void 0,toString:function(){return l}};h((0,r.ev)([t],e,!0))}else h(e)}),[n]),(0,a.useEffect)((function(){var e=null==g?void 0:g.filter((function(e){return e.item===t}));I(e)}),[t]),i().createElement(o.Select,{menuAppendTo:d,variant:o.SelectVariant.single,onToggle:m,onSelect:function(e,t){m(!1),s(t.item)},isOpen:p,selections:v},null==g?void 0:g.map((function(e,t){return i().createElement(o.SelectOption,{isPlaceholder:void 0===e.item,key:t,value:e})})))}},60891:(e,t,n)=>{n.d(t,{H:()=>i});var r=n(59823),a=n(98068),i=function(){var e=(0,a.useHistory)(),t=(0,r.useBasename)();return{navigateTo:function(n){return function(e,t,n){var r="".concat(t.getBasename()).concat(e);n.push(r)}(n,t,e)}}}},74515:(e,t,n)=>{n.d(t,{R:()=>r.R,b:()=>r.b});var r=n(57814)},57814:(e,t,n)=>{n.d(t,{R:()=>r,b:()=>a});var r=function(){function e(){}return e.AVRO="AVRO",e.PROTOBUF="PROTOBUF",e.JSON="JSON",e.OPENAPI="OPENAPI",e.ASYNCAPI="ASYNCAPI",e.GRAPHQL="GRAPHQL",e.KCONNECT="KCONNECT",e.WSDL="WSDL",e.XSD="XSD",e.XML="XML",e}(),a=function(){function e(){}return e.APPLICATION_JSON="application/json",e.APPLICATION_YAML="application/x-yaml",e.APPLICATION_XML="application/xml",e.APPLICATION_PROTOBUF="application/x-protobuf",e.APPLICATION_GRAPHQL="application/graphql",e.TEXT_XML="text/xml",e.APPLICATION_WSDL="application/wsdl+xml",e}()},21745:(e,t,n)=>{n.d(t,{kO:()=>i,ye:()=>d,jy:()=>f,Gc:()=>v,kC:()=>o,mo:()=>l,w5:()=>E,Qt:()=>b,Xh:()=>O,pK:()=>C,H_:()=>w,F$:()=>R,HM:()=>x,rU:()=>B,Ns:()=>j,JN:()=>D,aP:()=>U,bg:()=>T,In:()=>F,cU:()=>_,nH:()=>M});var r=n(75418),a=n.n(r),i=function(e){var t=e.groupId;return a().createElement("span",{className:t?"group":"nogroup"},t)},o=function(e){var t=e.id,n=e.name;return n?a().createElement(a().Fragment,null,a().createElement("span",{className:"name"},n),a().createElement("span",{className:"id"},t)):a().createElement(a().Fragment,null,a().createElement("span",{className:"name"},t))},s=n(7332),c=n(48533),l=function(e){var t=e.registries,n=e.onSelected,i=(0,r.useState)(!0),o=i[0],l=i[1],u=(0,r.useState)({pageSize:20,page:1}),p=u[0],m=u[1],f=(0,r.useState)({filterValue:"",ascending:!0,filterSelection:"name"}),g=f[0],h=f[1],y=(0,r.useState)(),I=y[0],E=y[1],b=(0,r.useState)(),S=b[0],P=b[1],A=(0,r.useState)(),O=A[0],N=A[1],T=(0,s.al)();return(0,r.useEffect)((function(){t&&t.length>0&&E(t[0])}),[]),(0,r.useEffect)((function(){if(I){var e=T.createFor(I);N(e)}}),[I]),(0,r.useEffect)((function(){if(O){var e={sortAscending:g.ascending,type:g.filterSelection,value:g.filterValue};l(!0),O.getArtifacts(e,p).then((function(e){P(e),l(!1)})).catch((function(e){console.error("[RegistryPage] Error searching for artifacts: ",e)}))}n(void 0,void 0,void 0)}),[O,g,p]),a().createElement(a().Fragment,null,a().createElement(v,{registries:t,criteria:g,paging:p,onRegistrySelected:function(e){E(e)},onCriteriaChange:function(e){h(e)},onPagingChange:function(e){m(e)},artifacts:S}),a().createElement(c.tr,{condition:o},a().createElement(c.Ng,{collection:null==S?void 0:S.artifacts,emptyStateMessage:"No artifacts found matching the search criteria."},a().createElement(d,{artifacts:null==S?void 0:S.artifacts,fetchArtifactContent:function(e,t){return O.getArtifactContent(e.groupId,e.id,(null==t?void 0:t.version)||"latest")},onArtifactSelected:function(e,t,r){n(I,e,t,r)},fetchArtifactVersions:function(e){return O.getArtifactVersions(e.groupId,e.id)}}))))},d=function(e){var t=e.artifacts,n=e.fetchArtifactVersions,i=e.fetchArtifactContent,o=e.onArtifactSelected,s=(0,r.useState)(),c=s[0],l=s[1],d=function(e){console.debug("[ArtifactList] Artifact selected: ",e),l(e)},u=function(e){console.debug("[ArtifactList] Artifact unselected: ",e),l(void 0),o(void 0,void 0,void 0)},p=function(e,t,n){console.debug("[ArtifactList] Artifact loaded: ",e),console.debug("[ArtifactList] Selected Artifact: ",c),e===c&&o(e,t,n)};return a().createElement("div",{className:"artifact-list"},null==t?void 0:t.map((function(e,t){return a().createElement(f,{artifact:e,key:t,onSelected:d,onUnselected:u,fetchArtifactVersions:n,fetchArtifactContent:i,onArtifactLoaded:p,isSelected:c===e})})))},u=n(74515),p=n(99922),m=n(78788),f=function(e){var t,n=e.artifact,s=e.isSelected,l=e.onSelected,d=e.onUnselected,f=e.onArtifactLoaded,g=e.fetchArtifactVersions,h=e.fetchArtifactContent,y=(0,r.useState)(!1),v=y[0],I=y[1],E=(0,r.useState)(),b=E[0],S=E[1],P=(0,r.useState)(),A=P[0],O=P[1],N=(0,r.useState)(),T=N[0],R=N[1],C=(0,r.useState)(!1),w=C[0],x=C[1],L=function(e){O(e),I(!0),console.debug("[ArtifactListItem] Version selected for ".concat(n.id,", loading content. Version: "),e),h(n,e).then((function(e){console.debug("[ArtifactListItem] Artifact content successfully fetched for: ",n.id),R(e),I(!1),x(!0)})).catch((function(e){}))};return(0,r.useEffect)((function(){if(void 0!==T){var e=void 0;e=(0,m.sO)(T)?u.b.APPLICATION_JSON:(0,m.Cx)(T)?u.b.APPLICATION_YAML:(0,m.Rz)(T)?u.b.APPLICATION_XML:n.type===u.R.PROTOBUF?u.b.APPLICATION_PROTOBUF:n.type===u.R.GRAPHQL?u.b.APPLICATION_GRAPHQL:u.b.APPLICATION_JSON,f(n,A,{contentType:e,data:T})}}),[T]),a().createElement("div",{className:"artifact-list-item ".concat(s?"selected":""," ").concat(w?"loaded":""),onClick:function(e){e&&e.target&&"button"===e.target.localName||(s?d(n):(void 0===b||0===b.length?(x(!1),I(!0),console.debug("[ArtifactListItem] Loading versions for ".concat(n.id)),g(n).then((function(e){S(e),I(!1),L(void 0)})).catch((function(e){}))):L(void 0),l(n)))}},a().createElement("div",{className:"artifact-list-item-radio"},a().createElement(c.tr,{condition:v,loadingComponent:a().createElement(p.Spinner,{size:"sm"})},a().createElement(p.Radio,{id:"artifact-radio-".concat(n.id),name:"",isChecked:s}))),a().createElement("div",{className:"artifact-list-item-icon"},a().createElement(c.fN,{type:n.type})),a().createElement("div",{className:"artifact-list-item-info"},a().createElement("div",{className:"artifact-title"},a().createElement(i,{groupId:n.groupId}),a().createElement(o,{id:n.id,name:n.name}),(t=[],"DISABLED"===n.state&&t.push("Disabled"),"DEPRECATED"===n.state&&t.push("Deprecated"),t).map((function(e){return a().createElement(p.Badge,{className:"status-badge",key:e,isRead:!0},e)}))),a().createElement("div",{className:"artifact-description"},n.description?n.description:"An artifact of type ".concat(n.type," with no description."))),a().createElement("div",{className:"artifact-list-item-versions"},a().createElement(c.If,{condition:s},a().createElement(c.vR,{value:A,items:b,noSelectionLabel:"latest",menuAppendTo:"parent",onSelect:L,itemToString:function(e){return e.version}}))))},g=n(70655),h=n(67646),y=n(65122),v=function(e){var t=e.registries,n=e.criteria,i=e.onCriteriaChange,o=e.paging,s=e.onPagingChange,c=e.artifacts,l=e.onRegistrySelected,d=(0,r.useState)(),u=d[0],m=d[1],f=(0,r.useState)(n.filterValue),v=f[0],I=f[1];return(0,r.useEffect)((function(){t&&t.length>0&&m(t[0])}),[t]),(0,r.useEffect)((function(){I(n.filterValue)}),[n]),a().createElement(p.Toolbar,{id:"artifacts-toolbar-1",className:"artifacts-toolbar"},a().createElement(p.ToolbarContent,null,a().createElement(p.ToolbarItem,{variant:"search-filter"},a().createElement(y.v,{value:u,items:t,onSelect:function(e){m(e),l(e)},menuAppendTo:"parent",itemToString:function(e){return e.name}})),a().createElement(p.ToolbarItem,{variant:"search-filter"},a().createElement(p.SearchInput,{"aria-label":"Filter artifacts",value:v,onChange:function(e){I(e)},onSearch:function(){i((0,g.pi)((0,g.pi)({},n),{filterValue:v}))},onClear:function(){I(""),i((0,g.pi)((0,g.pi)({},n),{filterValue:""}))}})),a().createElement(p.ToolbarItem,{className:"sort-icon-item"},a().createElement(p.Button,{variant:"plain","aria-label":"edit","data-testid":"toolbar-btn-sort",onClick:function(){i((0,g.pi)((0,g.pi)({},n),{ascending:!n.ascending}))}},n.ascending?a().createElement(h.SortAlphaDownIcon,null):a().createElement(h.SortAlphaDownAltIcon,null))),a().createElement(p.ToolbarItem,{className:"artifact-paging-item"},a().createElement(p.Pagination,{style:{padding:"5px"},variant:"bottom",dropDirection:"down",isCompact:!0,itemCount:(null==c?void 0:c.count)||0,perPage:o.pageSize,page:o.page,onSetPage:function(e,t,n){s((0,g.pi)((0,g.pi)({},o),{page:t,pageSize:n||o.pageSize}))},onPerPageSelect:function(e,t){s((0,g.pi)((0,g.pi)({},o),{pageSize:t}))},widgetId:"artifact-list-pagination",className:"artifact-list-pagination"}))))},I=[{value:u.R.OPENAPI,label:"OpenAPI"},{value:u.R.ASYNCAPI,label:"AsyncAPI"},{value:u.R.AVRO,label:"Apache Avro"},{value:u.R.JSON,label:"JSON Schema"},{value:u.R.PROTOBUF,label:"Google Protocol Buffers"}].map((function(e){return{value:e.value,label:e.label,toString:function(){return e.label}}})),E=function(e){var t=e.isOpen,n=e.onCreate,i=e.onCancel,o=(0,r.useState)(!1),l=o[0],d=o[1],m=(0,r.useState)(""),f=m[0],g=m[1],h=(0,r.useState)(""),y=h[0],v=h[1],E=(0,r.useState)(u.R.OPENAPI),b=E[0],S=E[1],P=(0,r.useState)(),A=P[0],O=P[1],N=(0,r.useState)(!1),T=N[0],R=N[1],C=(0,r.useState)(""),w=C[0],x=C[1],L=(0,r.useState)(!1),k=L[0],D=L[1],U=(0,r.useState)(),F=U[0],M=U[1],B=(0,r.useState)(),j=B[0],q=B[1],G=(0,s.NG)();return(0,r.useEffect)((function(){var e=!0;f||(e=!1),b||(e=!1),j||(e=!1),d(e)}),[f,y,b,j]),(0,r.useEffect)((function(){g(""),v(""),S(u.R.OPENAPI),q(F?F[0]:void 0)}),[t]),(0,r.useEffect)((function(){b===u.R.OPENAPI&&x("3.0.2"),G.getTemplatesFor(b,w).then(M)}),[b]),(0,r.useEffect)((function(){G.getTemplatesFor(b,w).then(M)}),[w]),(0,r.useEffect)((function(){F&&F.length>0&&q(F[0])}),[F]),a().createElement(p.Modal,{variant:p.ModalVariant.medium,title:"Create a new design",isOpen:t,onClose:i,actions:[a().createElement(p.Button,{key:"create",variant:"primary",isDisabled:!l,onClick:function(){n({type:b,name:f,summary:y,context:{type:"create"}},j)}},"Create"),a().createElement(p.Button,{key:"cancel",variant:"link",onClick:i},"Cancel")]},a().createElement(p.Alert,{isInline:!0,variant:"warning",title:"Warning",style:{marginBottom:"15px"}},a().createElement("p",null,"All new designs are stored locally in your browser.  Clearing your browser cache or switching to a new browser ",a().createElement("em",null,"might")," result in loss of data.  Make sure you save your work locally or in a Red Hat OpenShift Service Registry instance!")),a().createElement(p.Form,null,a().createElement(p.FormGroup,{label:"Name",isRequired:!0,fieldId:"create-design-name"},a().createElement(p.TextInput,{isRequired:!0,type:"text",id:"create-design-name",name:"create-design-name","aria-describedby":"create-design-name-helper",value:f,onChange:function(e){g(e)}})),a().createElement(p.FormGroup,{label:"Summary",fieldId:"create-design-summary"},a().createElement(p.TextArea,{type:"text",id:"create-design-summary",name:"create-design-summary","aria-describedby":"create-design-summary-helper",value:y,onChange:function(e){v(e)}})),a().createElement(p.FormGroup,{label:"Type",isRequired:!0,fieldId:"create-design-type"},a().createElement(p.Select,{variant:p.SelectVariant.single,"aria-label":"Select type",onToggle:function(){R(!T)},onSelect:function(e,t){return function(e){S(e.value),O(e),R(!1)}(t)},isOpen:T,selections:A,menuAppendTo:"parent"},I.map((function(e){return a().createElement(p.SelectOption,{key:e.value,value:e})})))),a().createElement(c.If,{condition:b===u.R.OPENAPI},a().createElement(p.FormGroup,{label:"Version",isRequired:!0,fieldId:"create-design-version"},a().createElement(p.Select,{variant:p.SelectVariant.single,"aria-label":"Select version",onToggle:function(){D(!k)},onSelect:function(e,t){return function(e){x(e),D(!1)}(t)},isOpen:k,selections:w,menuAppendTo:"parent"},a().createElement(p.SelectOption,{value:"3.0.2"}),a().createElement(p.SelectOption,{value:"2.0"})))),a().createElement(c.If,{condition:F&&F.length>1},a().createElement(p.FormGroup,{label:"Template",fieldId:"create-design-template"},a().createElement(p.Gallery,{hasGutter:!0,minWidths:{default:"125px"},maxWidths:{default:"125px"}},null==F?void 0:F.map((function(e){return a().createElement(p.GalleryItem,{key:e.id},a().createElement(_,{template:e,isSelected:e===j,onSelect:function(){q(e)}}))})))))))},b=function(e){var t=e.design,n=e.isOpen,i=e.onDelete,o=e.onDownload,s=e.onCancel,c=(0,r.useState)(!1),l=c[0],d=c[1];return(0,r.useEffect)((function(){d(!1)}),[t,n]),a().createElement(p.Modal,{variant:p.ModalVariant.small,title:"Delete design?",titleIconVariant:"warning",isOpen:n,onClose:s,actions:[a().createElement(p.Button,{key:"delete",variant:"primary",isDisabled:!l,onClick:function(){i(t)}},"Delete"),a().createElement(p.Button,{key:"cancel",variant:"link",onClick:s},"Cancel")]},a().createElement(p.TextContent,{style:{marginBottom:"15px"}},a().createElement(p.Text,{component:"p"},"The following API or schema design will be deleted.")),a().createElement(p.Form,null,a().createElement(p.FormGroup,{label:"Name",fieldId:"delete-design-name"},a().createElement(p.TextContent,null,null==t?void 0:t.name)),a().createElement(p.FormGroup,{label:"Summary",fieldId:"delete-design-summary"},a().createElement(p.TextContent,null,null==t?void 0:t.summary)),a().createElement(p.FormGroup,{fieldId:"delete-design-warning"},a().createElement(p.Alert,{isInline:!0,variant:"info",title:"To save your data for future use, download the design."},a().createElement("p",{style:{lineHeight:"18px"}},"To ensure you data is successfully saved, wait for the download to complete before deleting the design."),a().createElement(p.Button,{variant:"link",onClick:function(){o(t)},style:{paddingLeft:"0px"}},"Download design"))),a().createElement(p.FormGroup,{fieldId:"delete-design-confirm"},a().createElement(p.Checkbox,{id:"valid-checkbox",name:"",label:"I have downloaded the design or do not need to!",isChecked:l,onChange:function(e){return d(e)}}))))},S=n(27623),P=n(47645),A=n.n(P),O=function(e){var t=e.designs,n=e.sort,i=e.onSort,o=e.onEdit,s=e.onDelete,l=e.onRegister,d=e.onDownload,u=(0,r.useState)(),f=u[0],g=u[1],h=function(e,t){return 0===t?a().createElement("div",null,a().createElement(c.OL,{className:"design-title",location:"/designs/".concat(e.id,"/editor")},e.name),a().createElement("div",{className:"design-summary"},e.summary||"(A design without a description)")):1===t?a().createElement(c.fN,{type:e.type,isShowLabel:!0}):2===t?a().createElement(A(),{date:e.modifiedOn,fromNow:!0}):3===t?(n=e,r=[],(0,m.ed)(n,"file")&&r.push("Local file"),(0,m.ed)(n,"rhosr")&&r.push("Service registry"),(0,m.ed)(n,"url")&&r.push("Url"),(0,m.ed)(n,"create")&&r.push("Created"),r).map((function(e){return a().createElement(p.Label,{color:"blue"},e)})):a().createElement("span",null);var n,r},y=function(e){return e.sortable?{sortBy:{index:f,direction:n.direction},onSort:function(e,t,n){i({by:0===t?"name":"modified-on",direction:n})},columnIndex:e.index}:void 0};return(0,r.useEffect)((function(){g("name"===n.by?0:2)}),[n]),a().createElement("div",{className:"design-list"},a().createElement(S.ResponsiveTable,{ariaLabel:"list of designs",columns:[{index:0,id:"name",label:"Name",width:40,sortable:!0},{index:1,id:"type",label:"Type",width:15,sortable:!1},{index:2,id:"modified-on",label:"Modified on",width:15,sortable:!0},{index:3,id:"context",label:"Labels",width:25,sortable:!1}],data:t.designs,expectedLength:t.count,renderHeader:function(e){var t=e.column,n=e.Th,r=e.key;return a().createElement(n,{sort:y(t),className:"design-list-header",key:r,width:t.width,modifier:"truncate"},t.label)},renderCell:function(e){e.column;var t=e.row,n=e.colIndex,r=e.Td,i=e.key;return a().createElement(r,{className:"design-list-cell",key:i,children:h(t,n)})},renderActions:function(e){var t,n=e.row,r=e.ActionsColumn;return a().createElement(r,{items:(t=n,[{title:"Edit",onClick:function(){return o(t)}},{title:"Download",onClick:function(){return d(t)}},{title:"Register in Service Registry",onClick:function(){return l(t)}},{isSeparator:!0},{title:"Delete",onClick:function(){return s(t)}}])})},isRowSelected:function(e){e.row;return!1},onRowClick:function(e){e.row}}))},N=n(60891);var T,R=function(e){var t=e.onCreate,n=e.onImport,i=(0,r.useState)(!1),o=i[0],l=i[1],d=(0,r.useState)(1),u=d[0],f=d[1],g=(0,r.useState)(!1),h=g[0],y=g[1],v=(0,r.useState)({pageSize:20,page:1}),I=v[0],E=v[1],S=(0,r.useState)({filterValue:"",filterOn:"name"}),P=S[0],A=S[1],T=(0,r.useState)({by:"name",direction:"asc"}),R=T[0],L=T[1],k=(0,r.useState)(),D=k[0],U=k[1],F=(0,r.useState)(),_=F[0],M=F[1],B=(0,r.useState)(!1),q=B[0],G=B[1],J=(0,r.useState)(),$=J[0],V=J[1],X=(0,r.useState)(!1),z=X[0],H=X[1],W=(0,s.Pq)(),Y=(0,s.PB)(),Q=(0,N.H)(),K=function(){f(u+1)},Z=function(e){W.getDesignContent(e.id).then((function(t){var n,r="".concat((n=e.name,n.replace(/[\/|\\:*?"<>]/g,"")),".").concat((0,m.Ft)(e,t)),a=(0,m.EC)(e,t),i="object"==typeof t.data?JSON.stringify(t.data,null,4):t.data;Y.downloadToFS(i,a,r)}))};(0,r.useEffect)((function(){l(!0),W.searchDesigns(P,I,R).then((function(e){console.debug("[DesignsPanel] Designs loaded: ",e),U(e),l(!1)})).catch((function(e){console.error(e)}))}),[u]);var ee=a().createElement(C,{onCreate:t,onImport:n}),te=a().createElement(w,null),ne=a().createElement(x,{designs:D,criteria:P,paging:I,onCreate:t,onImport:n,onCriteriaChange:function(e){A(e),E({page:1,pageSize:I.pageSize}),y(null!=e.filterValue&&e.filterValue.trim().length>0),K()},onPagingChange:function(e){E(e),K()}});return a().createElement(a().Fragment,null,a().createElement(p.Card,{isSelectable:!1},a().createElement(p.CardBody,{className:"panel-body"},a().createElement(c.YF,{toolbar:ne,emptyState:ee,filteredEmptyState:te,isLoading:o,isFiltered:h,isEmpty:!D||0===D.count},a().createElement(p.Alert,{className:"panel-alert",isInline:!0,variant:"info",title:"About your data",style:{marginBottom:"15px"}},a().createElement("p",null,"All designs are stored locally in your browser.  Clearing your browser cache or switching to a new browser ",a().createElement("em",null,"might")," result in loss of data.  Make sure you save your work locally or in a Red Hat OpenShift Service Registry instance!  In the future your designs will be saved to a persistent server, stay tuned!")),a().createElement(O,{designs:D,sort:R,onSort:function(e){L(e),K()},onEdit:function(e){Q.navigateTo("/designs/".concat(e.id,"/editor"))},onDownload:Z,onRegister:function(e){V(e),H(!0)},onDelete:function(e){M(e),G(!0)}})))),a().createElement(b,{design:_,isOpen:q,onDelete:function(e){W.deleteDesign(e.id).then((function(){K()})).catch((function(e){console.error(e)})),G(!1)},onDownload:Z,onCancel:function(){return G(!1)}}),a().createElement(j,{design:$,isOpen:z,onExported:function(e){H(!1)},onCancel:function(){return H(!1)}}))},C=function(e){var t=e.onCreate,n=e.onImport;return a().createElement(p.EmptyState,null,a().createElement(p.EmptyStateIcon,{icon:h.AddCircleOIcon}),a().createElement(p.Title,{headingLevel:"h4",size:"lg"},"No designs"),a().createElement(p.EmptyStateBody,null,"Create and edit API and schema designs with the API Designer.  To get started, create a new design or import one."),a().createElement(p.Button,{variant:"primary",onClick:t},"Create a schema or API design"),a().createElement(p.EmptyStateSecondaryActions,null,a().createElement(U,{variant:"long",onImport:n})))},w=function(e){return a().createElement(p.EmptyState,null,a().createElement(p.EmptyStateIcon,{icon:h.AddCircleOIcon}),a().createElement(p.Title,{headingLevel:"h4",size:"lg"},"No matching designs"),a().createElement(p.EmptyStateBody,null,"No designs matched your filter criteria.  Trying changing your criteria and searching again."))},x=function(e){var t=e.criteria,n=e.paging,i=e.designs,o=e.onCriteriaChange,s=e.onPagingChange,c=e.onCreate,l=e.onImport,d=(0,r.useState)(t.filterValue),u=d[0],m=d[1];(0,r.useEffect)((function(){m(t.filterValue)}),[t]);return a().createElement(p.Toolbar,{id:"designs-toolbar",className:"designs-toolbar"},a().createElement(p.ToolbarContent,null,a().createElement(p.ToolbarItem,{variant:"search-filter"},a().createElement(p.SearchInput,{"aria-label":"Filter designs",value:u,onChange:function(e){m(e)},onSearch:function(){o((0,g.pi)((0,g.pi)({},t),{filterValue:u}))},onClear:function(){m(""),o((0,g.pi)((0,g.pi)({},t),{filterValue:""}))}})),a().createElement(p.ToolbarItem,null,a().createElement(p.Button,{variant:"primary",onClick:c},"Create a schema or API design")),a().createElement(p.ToolbarItem,null,a().createElement(U,{variant:"long",onImport:l})),a().createElement(p.ToolbarItem,{className:"design-paging-item"},a().createElement(p.Pagination,{style:{padding:"0"},variant:"bottom",dropDirection:"down",isCompact:!0,itemCount:(null==i?void 0:i.count)||0,perPage:n.pageSize,page:n.page,onSetPage:function(e,t,r){s((0,g.pi)((0,g.pi)({},n),{page:t,pageSize:r||n.pageSize}))},onPerPageSelect:function(e,t){s((0,g.pi)((0,g.pi)({},n),{pageSize:t}))},widgetId:"design-list-pagination",className:"design-list-pagination"}))))},L={value:void 0,label:"Select a type...",toString:function(){return"Select a type..."},compareTo:function(e){return e===this}},k=[{value:u.R.OPENAPI,label:"OpenAPI"},{value:u.R.ASYNCAPI,label:"AsyncAPI"},{value:u.R.AVRO,label:"Apache Avro"},{value:u.R.JSON,label:"JSON Schema"},{value:u.R.PROTOBUF,label:"Google Protocol Buffers"}].map((function(e){return{value:e.value,label:e.label,toString:function(){return e.label},compareTo:function(e){return this.value===e.value}}})),D=function(e){var t=e.importType,n=e.isOpen,i=e.onImport,o=e.onCancel,s=(0,r.useState)(!1),l=s[0],d=s[1],f=(0,r.useState)(),h=f[0],y=f[1],v=(0,r.useState)(),I=v[0],E=v[1],b=(0,r.useState)(),S=b[0],P=b[1],A=(0,r.useState)(""),O=A[0],N=A[1],R=(0,r.useState)(""),C=R[0],w=R[1],x=(0,r.useState)(),D=x[0],U=x[1],F=(0,r.useState)(),_=F[0],B=F[1],j=(0,r.useState)(!1),q=j[0],G=j[1],J=(0,r.useState)(""),$=J[0],V=J[1],X=(0,r.useState)(!1),z=X[0],H=X[1],W=(0,r.useState)(),Y=W[0],Q=W[1],K=function(e,t){var n,r,a,i,o,s;return e.openapi?{type:u.R.OPENAPI,contentType:t,version:"3.0.2",name:null===(n=e.info)||void 0===n?void 0:n.title,summary:null===(r=e.info)||void 0===r?void 0:r.description}:e.swagger?{type:u.R.OPENAPI,contentType:t,version:"2.0",name:null===(a=e.info)||void 0===a?void 0:a.title,summary:null===(i=e.info)||void 0===i?void 0:i.description}:e.asyncapi?{type:u.R.ASYNCAPI,contentType:t,name:null===(o=e.info)||void 0===o?void 0:o.title,summary:null===(s=e.info)||void 0===s?void 0:s.description}:e.$schema?{type:u.R.JSON,contentType:t,name:e.title,summary:e.description}:{type:u.R.AVRO,contentType:t,name:e.name}},Z=function(e){return(0,m.sO)(e)?K((0,m.Mo)(e),u.b.APPLICATION_JSON):(0,m.Cx)(e)?K((0,m.x1)(e),u.b.APPLICATION_YAML):(0,m.Rz)(e)?function(e){var t=u.R.XML;return(0,m.Ic)(e)?t=u.R.WSDL:(0,m.lF)(e)&&(t=u.R.XSD),{type:t,contentType:u.b.TEXT_XML}}(e):(0,m.jf)(e)?{contentType:u.b.APPLICATION_PROTOBUF,type:u.R.PROTOBUF}:(console.warn("[ImportDesignModal] Failed to detect the type of the content."),{})},ee=function(e){if(void 0===e)U(void 0),B(void 0);else{U(e);var t=k.filter((function(t){return t.value===e}))[0];B(t)}};return(0,r.useEffect)((function(){var e=!0;h||(e=!1),O||(e=!1),D||(e=!1),d(e)}),[O,C,D,h]),(0,r.useEffect)((function(){y(void 0),N(""),w(""),E(void 0),ee(void 0)}),[n]),(0,r.useEffect)((function(){if(h&&h.trim().length>0){var e=Z(h);console.debug("[ImportDesignModal] Content detection: ",e),console.debug("[ImportDesignModal] Version detected: ",e.version||""),ee(e.type),V(e.version||""),N(e.name||""),w(e.summary||""),Q(e.contentType)}else console.debug("[ImportDesignModal] Content empty, resetting form fields."),N(""),w(""),ee(void 0),Q(void 0)}),[h]),(0,r.useEffect)((function(){D===u.R.OPENAPI&&void 0===$&&V("3.0.2")}),[D]),a().createElement(p.Modal,{variant:p.ModalVariant.medium,title:t===T.FILE?"Import from file":"Import from URL",isOpen:n,onClose:o,actions:[a().createElement(p.Button,{key:"create",variant:"primary",isDisabled:!l,onClick:function(){var e=t===T.FILE?{type:"file",file:{fileName:I}}:{type:"url",url:{url:S}},n={type:D,name:O,summary:C,context:e},r={contentType:Y,data:h};console.debug("[ImportDesignModal] Importing design: ",n),console.debug("[ImportDesignModal] Importing content-type: ",Y),i(n,r)}},"Import"),a().createElement(p.Button,{key:"cancel",variant:"link",onClick:o},"Cancel")]},a().createElement(p.Alert,{isInline:!0,variant:"warning",title:"Warning",style:{marginBottom:"15px"}},a().createElement("p",null,"All new designs are stored locally in your browser. Clearing your browser cache or switching to a new browser ",a().createElement("em",null,"might")," result in loss of data. Make sure you save your work locally or in a Red Hat OpenShift Service Registry instance!")),a().createElement(p.Form,null,a().createElement(c.If,{condition:t===T.FILE},a().createElement(p.FormGroup,{label:"File",isRequired:!0,fieldId:"import-design-file"},a().createElement(p.FileUpload,{isRequired:!0,id:"design-text-file",type:"text",value:h,filename:I,filenamePlaceholder:"Drag and drop a file or upload one",onChange:function(e,t){y(e),E(t)}}))),a().createElement(c.If,{condition:t===T.URL},a().createElement(p.FormGroup,{label:"URL",isRequired:!0,fieldId:"import-design-url"},a().createElement(M,{id:"design-text-url",urlPlaceholder:"Enter a valid and accessible URL",onChange:function(e,t){y(e),P(t)}}))),a().createElement(c.If,{condition:function(){return void 0!==h&&h.trim().length>0}},a().createElement(p.FormGroup,{label:"Type",isRequired:!0,fieldId:"import-design-type"},a().createElement(p.Select,{variant:p.SelectVariant.single,"aria-label":"Select type",onToggle:function(){return G(!q)},onSelect:function(e,t){return function(e){ee(e.value),G(!1)}(t)},isOpen:q,selections:_,menuAppendTo:"parent"},(0,g.ev)([a().createElement(p.SelectOption,{key:-1,value:L,isPlaceholder:!0})],k.map((function(e,t){return a().createElement(p.SelectOption,{key:t,value:e})})),!0))),a().createElement(c.If,{condition:D===u.R.OPENAPI},a().createElement(p.FormGroup,{label:"Version",isRequired:!0,fieldId:"import-design-version"},a().createElement(p.Select,{variant:p.SelectVariant.single,"aria-label":"Select version",onToggle:function(){return H(!z)},onSelect:function(e,t){return function(e){V(e),H(!1)}(t)},isOpen:z,selections:$,menuAppendTo:"parent"},a().createElement(p.SelectOption,{key:1,value:"3.0.2"}),a().createElement(p.SelectOption,{key:2,value:"2.0"})))),a().createElement(p.FormGroup,{label:"Name",isRequired:!0,fieldId:"import-design-name"},a().createElement(p.TextInput,{isRequired:!0,type:"text",id:"import-design-name",name:"import-design-name","aria-describedby":"import-design-name-helper",value:O,onChange:function(e){return N(e)}})),a().createElement(p.FormGroup,{label:"Summary",fieldId:"import-design-summary"},a().createElement(p.TextArea,{type:"text",id:"import-design-summary",name:"import-design-summary","aria-describedby":"import-design-summary-helper",value:C,onChange:function(e){return w(e)}})))))};!function(e){e[e.FILE=0]="FILE",e[e.URL=1]="URL",e[e.RHOSR=2]="RHOSR"}(T||(T={}));var U=function(e){var t=e.variant,n=e.onImport,i=(0,r.useState)(!1),o=i[0],s=i[1],c=a().createElement(p.MenuToggle,{variant:"secondary",onClick:function(){s(!o)},isExpanded:o},"short"===t?"Import":"Import a schema or API design");return a().createElement(p.Dropdown,{onSelect:function(e){var t=null==e?void 0:e.target.attributes["data-id"].value;switch(s(!1),t){case"action-file":return void n(T.FILE);case"action-url":return void n(T.URL);case"action-rhosr":return void n(T.RHOSR)}},toggle:c,isOpen:o,isPlain:!0,dropdownItems:[a().createElement(p.DropdownItem,{key:"action-file","data-id":"action-file"},"Import from file"),a().createElement(p.DropdownItem,{key:"action-url","data-id":"action-url"},"Import from URL"),a().createElement(p.DropdownItem,{key:"action-rhosr","data-id":"action-rhosr"},"Import from Service Registry")],position:"right"})},F=function(e){var t=e.isOpen,n=e.onImport,i=e.onCancel,o=(0,r.useState)(!1),d=o[0],u=o[1],m=(0,r.useState)(!0),f=m[0],g=m[1],h=(0,r.useState)([]),y=h[0],v=h[1],I=(0,r.useState)(),E=I[0],b=I[1],S=(0,r.useState)(),P=S[0],A=S[1],O=(0,s.DM)();return(0,r.useEffect)((function(){t&&O.getRegistries().then((function(e){v(e.sort((function(e,t){var n=e.name,r=t.name;return n.localeCompare(r)}))),g(!1)})).catch((function(e){console.error("[HomePage] Error getting registry list: ",e)}))}),[t]),(0,r.useEffect)((function(){var e=!0;void 0===E&&(e=!1),u(e)}),[E,P]),a().createElement(p.Modal,{variant:p.ModalVariant.large,title:"Import from Service Registry",isOpen:t,onClose:i,actions:[a().createElement(p.Button,{key:"create",variant:"primary",isDisabled:!d,onClick:function(){n(E,P)}},"Import"),a().createElement(p.Button,{key:"cancel",variant:"link",onClick:i},"Cancel")]},a().createElement(c.tr,{condition:f},a().createElement(l,{registries:y,onSelected:function(e,t,n,r){if(void 0===t)b(void 0),A(void 0);else{var a={type:t.type,name:t.name||t.id,summary:t.description||"",context:{type:"rhosr",rhosr:{instanceId:null==e?void 0:e.id,groupId:t.groupId,artifactId:t.id,version:null==n?void 0:n.version}}};b(a),A(r)}}})))},_=(n(89003),n(31430),function(e){var t=e.template,n=e.isSelected,r=e.onSelect;return a().createElement("div",{className:"template-item ".concat(n?"selected":"not-selected"),onClick:function(){n||r(t)}},a().createElement("div",{className:"icon"},a().createElement(h.PlusCircleIcon,null)),a().createElement("div",{className:"name"},t.name))}),M=function(e){e.id;var t=e.urlPlaceholder,n=e.onChange,i=(0,r.useState)(),o=i[0],l=i[1],d=(0,r.useState)(),u=d[0],m=d[1],f=(0,r.useState)(!1),g=f[0],h=f[1],y=(0,r.useState)(),v=y[0],I=y[1],E=(0,s.fv)(),b=function(){return null!=o&&o.trim().length>0},S=function(){return null!=v&&v.trim().length>0},P=a().createElement("div",{className:"url-upload-loading"},a().createElement(p.Spinner,{size:"md",className:"spinner"}),a().createElement("span",{className:"spinner-message"},"Loading URL content"));return a().createElement("div",{className:"url-upload"},a().createElement("div",{className:"url-upload-flex"},a().createElement("div",{className:"url-upload-url"},a().createElement(p.TextInput,{value:o,type:"text",placeholder:t,onChange:function(e){l(e)},"aria-label":"url input"})),a().createElement("div",{className:"url-upload-button"},a().createElement(p.Button,{variant:"control",isDisabled:!b(),onClick:function(){h(!0),E.fetchUrlContent(o).then((function(e){I(void 0),m(e),h(!1),n(e,o)})).catch((function(e){I(e.message),h(!1)}))}},"Download")),a().createElement("div",{className:"url-upload-button"},a().createElement(p.Button,{variant:"control",isDisabled:!b(),onClick:function(){l(""),m(""),n(void 0,void 0)}},"Clear"))),a().createElement("div",{className:"url-upload-preview"},a().createElement(c.tr,{condition:g,loadingComponent:P},a().createElement(c.If,{condition:S},a().createElement("div",{className:"url-upload-error"},a().createElement("div",null,"Error getting content from URL."),a().createElement("div",null,v))),a().createElement(c.If,{condition:!S()},a().createElement(p.TextArea,{value:u,isReadOnly:!0})))))},B=function(e){var t,n,i,o,l,d=e.design,m=e.dirty,f=e.onSave,g=(e.onCancel,(0,s.Ip)()),h=(0,r.useState)(),y=h[0],v=h[1],I=(0,r.useState)(!1),E=I[0],b=I[1],S=(0,r.useState)("true"===g.getConfigProperty("editor-context.isExpanded","false")),P=S[0],O=S[1],N=(0,r.useState)(!1),T=N[0],R=N[1],C=a().createElement(p.MenuToggle,{variant:"secondary",onClick:function(){b(!E)},isExpanded:E},"Actions");return(0,r.useEffect)((function(){if(d){var e=d.contexts&&d.contexts.length>0?d.contexts[0]:void 0;v(e)}}),[d]),a().createElement(a().Fragment,null,a().createElement("div",{className:"editor-context"},a().createElement("div",{className:"editor-context-breadcrumbs"},a().createElement(p.Breadcrumb,{style:{marginBottom:"10px"}},a().createElement(p.BreadcrumbItem,{component:"button"},a().createElement(c.OL,{location:"/"},"Red Hat OpenShift API Designer")),a().createElement(p.BreadcrumbItem,{isActive:!0},null==d?void 0:d.name))),a().createElement("div",{className:"editor-context-last-modified"},a().createElement("span",null,"Last modified:"),a().createElement(A(),{date:d.modifiedOn,fromNow:!0})),a().createElement("div",{className:"editor-context-actions"},a().createElement(p.Dropdown,{onSelect:function(e){var t=null==e?void 0:e.target.attributes["data-id"].value;switch(b(!1),t){case"action-compare":case"action-validate":case"action-compatibility":return;case"action-export-to-rhosr":return void R(!0)}},toggle:C,isOpen:E,isPlain:!0,dropdownItems:[a().createElement(p.DropdownItem,{key:"action-export-to-rhosr","data-id":"action-export-to-rhosr"},"Export to Service Registry"),a().createElement(p.DropdownItem,{key:"action-compare","data-id":"action-compare"},"Compare differences"),a().createElement(p.DropdownItem,{key:"action-validate","data-id":"action-validate"},"Validate"),a().createElement(p.DropdownItem,{key:"action-compatibility","data-id":"action-compatibility"},"Check compatibility")]})),a().createElement("div",{className:"editor-context-save"},a().createElement(p.Button,{className:"btn-save",variant:"primary",onClick:f,isDisabled:!m},"Save")),a().createElement("div",{className:"editor-context-toggle"},a().createElement(p.Button,{className:"btn-toggle",variant:"plain",onClick:function(){var e=!P;g.setConfigProperty("editor-context.isExpanded",""+e),O(e)}},a().createElement(c.Xs,{expanded:P,onClick:function(){O(!P)}})))),a().createElement(c.If,{condition:P},a().createElement("div",{className:"editor-context-details"},a().createElement(p.TextContent,null,a().createElement(p.Text,{component:"h1",className:"title"},null==d?void 0:d.name),a().createElement(p.Text,{component:"p",className:"summary"},(null==d?void 0:d.summary)||"(Design or schema with no summary)")),a().createElement(p.Gallery,{className:"metadata",minWidths:{default:"300px"}},a().createElement(p.GalleryItem,{className:"md-property"},a().createElement("span",{className:"md-name"},"Type"),a().createElement("span",{className:"md-value"},function(){switch(d.type){case u.R.OPENAPI:return"OpenAPI";case u.R.ASYNCAPI:return"AsyncAPI";case u.R.AVRO:return"Apache Avro";case u.R.JSON:return"JSON Schema";case u.R.PROTOBUF:return"Google Protocol Buffers"}return"N/A"}())),a().createElement(c.If,{condition:function(){return void 0!==y&&y.type&&"rhosr"===y.type}},a().createElement(p.GalleryItem,{className:"md-property"},a().createElement("span",{className:"md-name"},"Group ID"),a().createElement("span",{className:"md-value"},(null===(t=null==y?void 0:y.rhosr)||void 0===t?void 0:t.groupId)||"default")),a().createElement(p.GalleryItem,{className:"md-property"},a().createElement("span",{className:"md-name"},"Artifact ID"),a().createElement("span",{className:"md-value"},null===(n=null==y?void 0:y.rhosr)||void 0===n?void 0:n.artifactId)),a().createElement(p.GalleryItem,{className:"md-property"},a().createElement("span",{className:"md-name"},"Version"),a().createElement("span",{className:"md-value"},(null===(i=null==y?void 0:y.rhosr)||void 0===i?void 0:i.version)||"latest"))),a().createElement(c.If,{condition:function(){return void 0!==y&&y.type&&"file"===y.type}},a().createElement(p.GalleryItem,{className:"md-property"},a().createElement("span",{className:"md-name"},"Filename"),a().createElement("span",{className:"md-value"},null===(o=null==y?void 0:y.file)||void 0===o?void 0:o.fileName))),a().createElement(c.If,{condition:function(){return void 0!==y&&y.type&&"url"===y.type}},a().createElement(p.GalleryItem,{className:"md-property"},a().createElement("span",{className:"md-name"},"URL"),a().createElement("span",{className:"md-value"},null===(l=null==y?void 0:y.url)||void 0===l?void 0:l.url)))))),a().createElement(j,{design:d,isOpen:T,onExported:function(e){R(!1)},onCancel:function(){return R(!1)}}))},j=function(e){var t=e.design,n=e.isOpen,i=e.onExported,o=e.onCancel,l=(0,r.useState)(!1),d=l[0],u=l[1],f=(0,r.useState)(!1),g=f[0],h=f[1],y=(0,r.useState)(!0),v=y[0],I=y[1],E=(0,r.useState)([]),b=E[0],S=E[1],P=(0,r.useState)(),A=P[0],O=P[1],N=(0,r.useState)(),T=N[0],R=N[1],C=(0,r.useState)(),w=C[0],x=C[1],L=(0,r.useState)(),k=L[0],D=L[1],U=(0,r.useState)(),F=U[0],_=U[1],M=(0,s.Pq)(),B=(0,s.DM)(),j=(0,s.al)();return(0,r.useEffect)((function(){n&&(I(!0),B.getRegistries().then((function(e){S(e.sort((function(e,t){var n=e.name,r=t.name;return n.localeCompare(r)}))),e&&e.length>0&&O(e[0]),I(!1)})).catch((function(e){console.error("[HomePage] Error getting registry list: ",e)})))}),[n]),(0,r.useEffect)((function(){var e,n,r;if(t&&t.contexts&&t.contexts.length>0){var a=(0,m.Ah)(t,"rhosr");if(a.length>0){var i=a[0];R(null===(e=i.rhosr)||void 0===e?void 0:e.groupId),x(null===(n=i.rhosr)||void 0===n?void 0:n.artifactId),D(null===(r=i.rhosr)||void 0===r?void 0:r.version)}}}),[t]),(0,r.useEffect)((function(){var e=!0;A||(e=!1),u(e)}),[A,T,w,k]),(0,r.useEffect)((function(){if(A){var e=j.createFor(A);_(e)}}),[A]),a().createElement(p.Modal,{variant:p.ModalVariant.medium,title:"Export to Service Registry",isOpen:n,onClose:o,actions:[a().createElement(p.Button,{key:"export",variant:"primary",isDisabled:!d||g,onClick:function(){h(!0),M.getDesignContent(t.id).then((function(e){var n={type:t.type,groupId:T,id:w,version:k,content:e.data,contentType:e.contentType};null==F||F.createOrUpdateArtifact(n).then((function(e){var n={type:"rhosr",rhosr:{instanceId:null==A?void 0:A.id,groupId:e.groupId,artifactId:e.id,version:e.version}},r={design:t,context:n};h(!1),i(r)})).catch((function(e){}))})).catch((function(e){}))}},a().createElement(c.If,{condition:g},a().createElement(p.Spinner,{size:"md",className:"export-spinner"})),"Export"),a().createElement(p.Button,{key:"cancel",variant:"link",onClick:o},"Cancel")]},a().createElement(c.tr,{condition:v},a().createElement(p.Form,null,a().createElement(p.FormGroup,{label:"Registry Instance",isRequired:!0,fieldId:"export-registry-instance"},a().createElement(c.vR,{value:A,items:b,onSelect:function(e){O(e)},menuAppendTo:"parent",itemToString:function(e){return e.name}})),a().createElement(p.FormGroup,{label:"Group",isRequired:!1,fieldId:"export-group"},a().createElement(p.TextInput,{isRequired:!0,type:"text",id:"export-group",name:"export-group",placeholder:"Enter group ID (optional) or leave blank for default group","aria-describedby":"export-group-helper",value:T,onChange:function(e){return R(e)}})),a().createElement(p.FormGroup,{label:"Artifact Id",isRequired:!1,fieldId:"export-artifact-id"},a().createElement(p.TextInput,{isRequired:!0,type:"text",id:"export-artifact-id",name:"export-artifact-id",placeholder:"Enter artifact ID (optional) or leave blank for generated ID","aria-describedby":"export-artifact-id-helper",value:w,onChange:function(e){return x(e)}})),a().createElement(p.FormGroup,{label:"Version",isRequired:!1,fieldId:"export-version"},a().createElement(p.TextInput,{isRequired:!0,type:"text",id:"export-version",name:"export-version",placeholder:"Enter version (optional) or leave blank for generated version #","aria-describedby":"export-version-helper",value:k,onChange:function(e){return D(e)}})))))}},7332:(e,t,n)=>{n.d(t,{Pq:()=>P,PB:()=>J,Ip:()=>H,al:()=>u,DM:()=>r.D,NG:()=>q,fv:()=>V});var r=n(89003),a=n(70655),i=n(59823),o=n(74515),s=n(5606),c=n(78788);function l(e,t){switch(e){case"PROTOBUF":return o.b.APPLICATION_PROTOBUF;case"WSDL":case"XSD":case"XML":return o.b.APPLICATION_XML;case"GRAPHQL":return o.b.APPLICATION_GRAPHQL}return(0,c.sO)(t)?o.b.APPLICATION_JSON:(0,c.Rz)(t)?o.b.APPLICATION_XML:(0,c.Cx)(t)?o.b.APPLICATION_YAML:"application/octet-stream"}function d(e){return e||"default"}var u=function(){(0,i.useAuth)();return{createFor:function(e){var t=(0,s.ax)(e.registryUrl,"/apis/registry/v2");return{createArtifact:function(e){return function(e,t,n){return(0,a.mG)(this,void 0,Promise,(function(){var e,r;return(0,a.Jh)(this,(function(a){return e=(0,s.dg)(t,"/groups/:groupId/artifacts",{groupId:n.groupId}),r={},n.id&&(r["X-Registry-ArtifactId"]=n.id),n.type&&(r["X-Registry-ArtifactType"]=n.type),r["Content-Type"]=l(n.type,n.content),[2,(0,s.Ot)(e,n.content,(0,s.JD)(r))]}))}))}(0,t,e)},createArtifactVersion:function(e,n,r){return function(e,t,n,r,i){return(0,a.mG)(this,void 0,Promise,(function(){var e,o;return(0,a.Jh)(this,(function(a){return n=d(n),e=(0,s.dg)(t,"/groups/:groupId/artifacts/:artifactId/versions",{groupId:n||"default",artifactId:r}),o={},i.type&&(o["X-Registry-ArtifactType"]=i.type),o["Content-Type"]=l(i.type,i.content),[2,(0,s.Ot)(e,i.content,(0,s.JD)(o))]}))}))}(0,t,e,n,r)},createOrUpdateArtifact:function(e){return function(e,t,n){return(0,a.mG)(this,void 0,Promise,(function(){var e,r;return(0,a.Jh)(this,(function(a){return e=(0,s.dg)(t,"/groups/:groupId/artifacts",{groupId:n.groupId||"default"},{ifExists:"UPDATE"}),r={},n.id&&(r["X-Registry-ArtifactId"]=n.id),n.type&&(r["X-Registry-ArtifactType"]=n.type),n.version&&(r["X-Registry-Version"]=n.version),r["Content-Type"]=n.contentType,[2,(0,s.Ot)(e,n.content,(0,s.JD)(r))]}))}))}(0,t,e)},getArtifacts:function(e,n){return function(e,t,n,r){return(0,a.mG)(this,void 0,Promise,(function(){var e,i,o,c;return(0,a.Jh)(this,(function(a){return console.debug("[RhosrInstanceService] Getting artifacts: ",n,r),e=(r.page-1)*r.pageSize,i=e+r.pageSize,o={limit:i,offset:e,order:n.sortAscending?"asc":"desc",orderby:"name"},n.value&&("everything"==n.type?(o.name=n.value,o.description=n.value,o.labels=n.value):o[n.type]=n.value),c=(0,s.dg)(t,"/search/artifacts",{},o),[2,(0,s.kA)(c,void 0,(function(e){return{artifacts:e.artifacts,count:e.count,page:r.page,pageSize:r.pageSize}}))]}))}))}(0,t,e,n)},getArtifactContent:function(e,n,r){return function(e,t,n,r,i){return(0,a.mG)(this,void 0,Promise,(function(){var e,o;return(0,a.Jh)(this,(function(a){return n=d(n),e=(0,s.dg)(t,"/groups/:groupId/artifacts/:artifactId/versions/:version",{groupId:n,artifactId:r,version:i}),"latest"===i&&(e=(0,s.dg)(t,"/groups/:groupId/artifacts/:artifactId",{groupId:n,artifactId:r})),(o=(0,s.JD)({Accept:"*"})).maxContentLength="5242880",o.responseType="text",o.transformResponse=function(e){return e},[2,(0,s.kA)(e,o)]}))}))}(0,t,e,n,r)},getArtifactVersions:function(e,n){return function(e,t,n,r){return(0,a.mG)(this,void 0,Promise,(function(){var e;return(0,a.Jh)(this,(function(a){return n=d(n),console.info("[RhosrInstanceService] Getting the list of versions for artifact: ",n,r),e=(0,s.dg)(t,"/groups/:groupId/artifacts/:artifactId/versions",{groupId:n,artifactId:r},{limit:500,offset:0}),[2,(0,s.kA)(e,void 0,(function(e){return e.versions}))]}))}))}(0,t,e,n)}}}}},p=n(76792),m=n.n(p),f=n(7508),g=new(m())("designsDB");function h(e,t){var n;return(0,a.mG)(this,void 0,Promise,(function(){var r,i,o;return(0,a.Jh)(this,(function(a){return r=(0,f.v4)(),i={id:r,name:e.name,summary:e.summary,type:e.type,createdOn:new Date,modifiedOn:new Date,contexts:[]},e.context&&(null===(n=i.contexts)||void 0===n||n.push(e.context)),o={id:r,contentType:t.contentType,data:t.data},[2,Promise.all([g.designs.add(i),g.content.add(o)]).then((function(){return i}))]}))}))}function y(){return(0,a.mG)(this,void 0,Promise,(function(){return(0,a.Jh)(this,(function(e){return[2,g.designs.toArray()]}))}))}function v(e,t,n){return(0,a.mG)(this,void 0,Promise,(function(){var r;return(0,a.Jh)(this,(function(a){return console.debug("[DesignsService] Searching for designs: ",e,t),r=function(t){var n=!1;return e.filterValue&&0!==e.filterValue.trim().length?(t.name.toLowerCase().indexOf(e.filterValue.toLowerCase())>=0||t.summary&&t.summary.toLowerCase().indexOf(e.filterValue.toLowerCase())>=0)&&(n=!0):n=!0,n},[2,y().then((function(e){var a=e.filter(r).sort((function(e,t){var r="name"===n.by?e.name.localeCompare(t.name):t.modifiedOn.getTime()-e.modifiedOn.getTime();return"asc"!==n.direction&&(r*=-1),r})),i=a.length,o=(t.page-1)*t.pageSize,s=o+t.pageSize;return{designs:a.slice(o,s),page:t.page,pageSize:t.pageSize,count:i}}))]}))}))}function I(e){return(0,a.mG)(this,void 0,Promise,(function(){return(0,a.Jh)(this,(function(t){return[2,g.designs.where("id").equals(e).first()]}))}))}function E(e){return(0,a.mG)(this,void 0,Promise,(function(){return(0,a.Jh)(this,(function(t){return[2,g.designs.where("id").equals(e).delete()]}))}))}function b(e){return(0,a.mG)(this,void 0,Promise,(function(){return(0,a.Jh)(this,(function(t){return[2,g.content.where("id").equals(e).first()]}))}))}function S(e){return(0,a.mG)(this,void 0,Promise,(function(){return(0,a.Jh)(this,(function(t){return[2,Promise.all([g.content.update(e.id,{data:e.data}),g.designs.update(e.id,{modifiedOn:new Date})]).then((function(){}))]}))}))}g.version(2).stores({designs:"++id, type, name, summary, createdOn, modifiedOn",content:"++id, data"});var P=function(){return{createDesign:h,getDesigns:y,searchDesigns:v,getDesign:I,deleteDesign:E,getDesignContent:b,updateDesignContent:S}};const A=JSON.parse('{"asyncapi":"2.0.0","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.0"}}'),O=JSON.parse('{"asyncapi":"2.4.0","info":{"title":"$NAME","version":"1.0.0","description":"$SUMMARY","license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"servers":{"test":{"url":"test.mykafkacluster.org:8092","protocol":"kafka-secure","description":"Test broker","security":[{"saslScram":[]}]}},"defaultContentType":"application/json","channels":{"smartylighting.streetlights.1.0.event.{streetlightId}.lighting.measured":{"description":"The topic on which measured values may be produced and consumed.","parameters":{"streetlightId":{"$ref":"#/components/parameters/streetlightId"}},"publish":{"summary":"Inform about environmental lighting conditions of a particular streetlight.","operationId":"receiveLightMeasurement","traits":[{"$ref":"#/components/operationTraits/kafka"}],"message":{"$ref":"#/components/messages/lightMeasured"}}},"smartylighting.streetlights.1.0.action.{streetlightId}.turn.on":{"parameters":{"streetlightId":{"$ref":"#/components/parameters/streetlightId"}},"subscribe":{"operationId":"turnOn","traits":[{"$ref":"#/components/operationTraits/kafka"}],"message":{"$ref":"#/components/messages/turnOnOff"}}},"smartylighting.streetlights.1.0.action.{streetlightId}.turn.off":{"parameters":{"streetlightId":{"$ref":"#/components/parameters/streetlightId"}},"subscribe":{"operationId":"turnOff","traits":[{"$ref":"#/components/operationTraits/kafka"}],"message":{"$ref":"#/components/messages/turnOnOff"}}},"smartylighting.streetlights.1.0.action.{streetlightId}.dim":{"parameters":{"streetlightId":{"$ref":"#/components/parameters/streetlightId"}},"subscribe":{"operationId":"dimLight","traits":[{"$ref":"#/components/operationTraits/kafka"}],"message":{"$ref":"#/components/messages/dimLight"}}}},"components":{"messages":{"lightMeasured":{"name":"lightMeasured","title":"Light measured","summary":"Inform about environmental lighting conditions of a particular streetlight.","contentType":"application/json","traits":[{"$ref":"#/components/messageTraits/commonHeaders"}],"payload":{"$ref":"#/components/schemas/lightMeasuredPayload"}},"turnOnOff":{"name":"turnOnOff","title":"Turn on/off","summary":"Command a particular streetlight to turn the lights on or off.","traits":[{"$ref":"#/components/messageTraits/commonHeaders"}],"payload":{"$ref":"#/components/schemas/turnOnOffPayload"}},"dimLight":{"name":"dimLight","title":"Dim light","summary":"Command a particular streetlight to dim the lights.","traits":[{"$ref":"#/components/messageTraits/commonHeaders"}],"payload":{"$ref":"#/components/schemas/dimLightPayload"}}},"schemas":{"lightMeasuredPayload":{"type":"object","properties":{"lumens":{"type":"integer","minimum":0,"description":"Light intensity measured in lumens."},"sentAt":{"$ref":"#/components/schemas/sentAt"}}},"turnOnOffPayload":{"type":"object","properties":{"command":{"type":"string","enum":["on","off"],"description":"Whether to turn on or off the light."},"sentAt":{"$ref":"#/components/schemas/sentAt"}}},"dimLightPayload":{"type":"object","properties":{"percentage":{"type":"integer","description":"Percentage to which the light should be dimmed to.","minimum":0,"maximum":100},"sentAt":{"$ref":"#/components/schemas/sentAt"}}},"sentAt":{"type":"string","format":"date-time","description":"Date and time when the message was sent."}},"securitySchemes":{"saslScram":{"type":"scramSha256","description":"Provide your username and password for SASL/SCRAM authentication"}},"parameters":{"streetlightId":{"description":"The ID of the streetlight.","schema":{"type":"string"}}},"messageTraits":{"commonHeaders":{"headers":{"type":"object","properties":{"my-app-header":{"type":"integer","minimum":0,"maximum":100}}}}},"operationTraits":{"kafka":{"bindings":{"kafka":{"clientId":"my-app-id"}}}}}}');var N=[{id:"asyncapi_2_blank",name:"Blank API",content:{contentType:o.b.APPLICATION_JSON,data:A}},{id:"asyncapi_2_streetlights",name:"Street Lights Example",content:{contentType:o.b.APPLICATION_JSON,data:O}}];const T=JSON.parse('{"openapi":"3.0.2","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.0"}}'),R=JSON.parse('{"openapi":"3.0.2","info":{"title":"$NAME","version":"1.0.0","description":"$SUMMARY","termsOfService":"http://swagger.io/terms/","contact":{"name":"Swagger API Team","url":"http://swagger.io","email":"apiteam@swagger.io"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"servers":[{"url":"http://petstore.swagger.io/api"}],"paths":{"/pets":{"get":{"parameters":[{"style":"form","name":"tags","description":"tags to filter by","schema":{"type":"array","items":{"type":"string"}},"in":"query","required":false},{"name":"limit","description":"maximum number of results to return","schema":{"format":"int32","type":"integer"},"in":"query","required":false}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/Pet"}},"examples":{"laurent_cats":{"value":[{"id":1,"name":"Zaza","tag":"cat"},{"id":2,"name":"Tigresse","tag":"cat"},{"id":3,"name":"Maki","tag":"cat"},{"id":4,"name":"Toufik","tag":"cat"}]}}}},"description":"pet response"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"unexpected error"}},"operationId":"findPets","description":"Returns all pets from the system that the user has access to\\n"},"post":{"requestBody":{"description":"Pet to add to the store","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NewPet"},"examples":{"tigresse":{"value":{"name":"Tigresse","tag":"cat"}}}}},"required":true},"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Pet"},"examples":{"tigresse":{"value":{"id":2,"name":"Tigresse","tag":"cat"}}}}},"description":"pet response"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"unexpected error"}},"operationId":"addPet","description":"Creates a new pet in the store.  Duplicates are allowed"}},"/pets/{id}":{"get":{"parameters":[{"examples":{"zaza":{"value":1}},"name":"id","description":"ID of pet to fetch","schema":{"format":"int64","type":"integer"},"in":"path","required":true}],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Pet"},"examples":{"zaza":{"value":{"id":1,"name":"Zaza","tag":"cat"}}}}},"description":"pet response"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"unexpected error"}},"operationId":"findPetById","description":"Returns a user based on a single ID, if the user does not have\\naccess to the pet"},"delete":{"parameters":[{"name":"id","description":"ID of pet to delete","schema":{"format":"int64","type":"integer"},"in":"path","required":true}],"responses":{"204":{"description":"pet deleted"},"default":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/Error"}}},"description":"unexpected error"}},"operationId":"deletePet","description":"deletes a single pet based on the ID supplied"},"parameters":[{"name":"id","description":"Pet identifier","schema":{"type":"integer"},"in":"path","required":true}]}},"components":{"schemas":{"Pet":{"allOf":[{"$ref":"#/components/schemas/NewPet"},{"required":["id"],"properties":{"id":{"format":"int64","type":"integer"}}}]},"NewPet":{"required":["name"],"properties":{"name":{"type":"string"},"tag":{"type":"string"}}},"Error":{"required":["code","message"],"properties":{"code":{"format":"int32","type":"integer"},"message":{"type":"string"}}}}}}'),C=JSON.parse('{"openapi":"3.0.2","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.0","contact":{"name":"Open Data Portal","url":"https://developer.uspto.gov","email":"developer@uspto.gov"}},"servers":[{"url":"{scheme}://developer.uspto.gov/ds-api","variables":{"scheme":{"enum":["https","http"],"default":"https","description":"The Data Set API is accessible via https and http"}}}],"paths":{"/":{"get":{"tags":["metadata"],"responses":{"200":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/dataSetList"},"example":{"total":2,"apis":[{"apiKey":"oa_citations","apiVersionNumber":"v1","apiUrl":"https://developer.uspto.gov/ds-api/oa_citations/v1/fields","apiDocumentationUrl":"https://developer.uspto.gov/ds-api-docs/index.html?url=https://developer.uspto.gov/ds-api/swagger/docs/oa_citations.json"},{"apiKey":"cancer_moonshot","apiVersionNumber":"v1","apiUrl":"https://developer.uspto.gov/ds-api/cancer_moonshot/v1/fields","apiDocumentationUrl":"https://developer.uspto.gov/ds-api-docs/index.html?url=https://developer.uspto.gov/ds-api/swagger/docs/cancer_moonshot.json"}]}}},"description":"Returns a list of data sets"}},"operationId":"list-data-sets","summary":"List available data sets"}},"/{dataset}/{version}/fields":{"get":{"tags":["metadata"],"parameters":[{"example":"oa_citations","name":"dataset","description":"Name of the dataset.","schema":{"type":"string"},"in":"path","required":true},{"example":"v1","name":"version","description":"Version of the dataset.","schema":{"type":"string"},"in":"path","required":true}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"The dataset API for the given version is found and it is accessible to consume."},"404":{"content":{"application/json":{"schema":{"type":"string"}}},"description":"The combination of dataset name and version is not found in the system or it is not published yet to be consumed by public."}},"operationId":"list-searchable-fields","summary":"Provides the general information about the API and the list of fields that can be used to query the dataset.","description":"This GET API returns the list of all the searchable field names that are in the oa_citations. Please see the \'fields\' attribute which returns an array of field names. Each field or a combination of fields can be searched using the syntax options shown below."}},"/{dataset}/{version}/records":{"post":{"requestBody":{"content":{"application/x-www-form-urlencoded":{"schema":{"required":["criteria"],"type":"object","properties":{"criteria":{"description":"Uses Lucene Query Syntax in the format of propertyName:value, propertyName:[num1 TO num2] and date range format: propertyName:[yyyyMMdd TO yyyyMMdd]. In the response please see the \'docs\' element which has the list of record objects. Each record structure would consist of all the fields and their corresponding values.","default":"*:*","type":"string"},"start":{"description":"Starting record number. Default value is 0.","default":0,"type":"integer"},"rows":{"description":"Specify number of rows to be returned. If you run the search with default values, in the response you will see \'numFound\' attribute which will tell the number of records available in the dataset.","default":100,"type":"integer"}}}}}},"tags":["search"],"parameters":[{"name":"version","description":"Version of the dataset.","schema":{"default":"v1","type":"string"},"in":"path","required":true},{"name":"dataset","description":"Name of the dataset. In this case, the default value is oa_citations","schema":{"default":"oa_citations","type":"string"},"in":"path","required":true}],"responses":{"200":{"content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":{"type":"object"}}}}},"description":"successful operation"},"404":{"description":"No matching record found for the given criteria."}},"operationId":"perform-search","summary":"Provides search capability for the data set with the given search criteria.","description":"This API is based on Solr/Lucense Search. The data is indexed using SOLR. This GET API returns the list of all the searchable field names that are in the Solr Index. Please see the \'fields\' attribute which returns an array of field names. Each field or a combination of fields can be searched using the Solr/Lucene Syntax. Please refer https://lucene.apache.org/core/3_6_2/queryparsersyntax.html#Overview for the query syntax. List of field names that are searchable can be determined using above GET api."}}},"components":{"schemas":{"dataSetList":{"type":"object","properties":{"total":{"type":"integer"},"apis":{"type":"array","items":{"type":"object","properties":{"apiKey":{"description":"To be used as a dataset parameter value","type":"string"},"apiVersionNumber":{"description":"To be used as a version parameter value","type":"string"},"apiUrl":{"format":"uriref","description":"The URL describing the dataset\'s fields","type":"string"},"apiDocumentationUrl":{"format":"uriref","description":"A URL to the API console for each API","type":"string"}}}}}}}},"tags":[{"name":"metadata","description":"Find out about the data sets"},{"name":"search","description":"Search a data set"}]}'),w=JSON.parse('{"asyncapi":"2.0.0","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.0"}}'),x=JSON.parse('{"swagger":"2.0","info":{"title":"$NAME","description":"$SUMMARY","version":"1.0.6","termsOfService":"http://swagger.io/terms/","contact":{"email":"apiteam@swagger.io"},"license":{"name":"Apache 2.0","url":"https://www.apache.org/licenses/LICENSE-2.0"}},"host":"petstore.swagger.io","basePath":"/v2","tags":[{"name":"pet","description":"Everything about your Pets","externalDocs":{"description":"Find out more","url":"http://swagger.io"}},{"name":"store","description":"Access to Petstore orders"},{"name":"user","description":"Operations about user","externalDocs":{"description":"Find out more about our store","url":"http://swagger.io"}}],"schemes":["https","http"],"paths":{"/pet/{petId}/uploadImage":{"post":{"tags":["pet"],"summary":"uploads an image","description":"","operationId":"uploadFile","consumes":["multipart/form-data"],"produces":["application/json"],"parameters":[{"name":"petId","in":"path","description":"ID of pet to update","required":true,"type":"integer","format":"int64"},{"name":"additionalMetadata","in":"formData","description":"Additional data to pass to server","required":false,"type":"string"},{"name":"file","in":"formData","description":"file to upload","required":false,"type":"file"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/ApiResponse"}}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/pet":{"post":{"tags":["pet"],"summary":"Add a new pet to the store","description":"","operationId":"addPet","consumes":["application/json","application/xml"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"Pet object that needs to be added to the store","required":true,"schema":{"$ref":"#/definitions/Pet"}}],"responses":{"405":{"description":"Invalid input"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]},"put":{"tags":["pet"],"summary":"Update an existing pet","description":"","operationId":"updatePet","consumes":["application/json","application/xml"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"Pet object that needs to be added to the store","required":true,"schema":{"$ref":"#/definitions/Pet"}}],"responses":{"400":{"description":"Invalid ID supplied"},"404":{"description":"Pet not found"},"405":{"description":"Validation exception"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/pet/findByStatus":{"get":{"tags":["pet"],"summary":"Finds Pets by status","description":"Multiple status values can be provided with comma separated strings","operationId":"findPetsByStatus","produces":["application/json","application/xml"],"parameters":[{"name":"status","in":"query","description":"Status values that need to be considered for filter","required":true,"type":"array","items":{"type":"string","enum":["available","pending","sold"],"default":"available"},"collectionFormat":"multi"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/Pet"}}},"400":{"description":"Invalid status value"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/pet/findByTags":{"get":{"tags":["pet"],"summary":"Finds Pets by tags","description":"Multiple tags can be provided with comma separated strings. Use tag1, tag2, tag3 for testing.","operationId":"findPetsByTags","produces":["application/json","application/xml"],"parameters":[{"name":"tags","in":"query","description":"Tags to filter by","required":true,"type":"array","items":{"type":"string"},"collectionFormat":"multi"}],"responses":{"200":{"description":"successful operation","schema":{"type":"array","items":{"$ref":"#/definitions/Pet"}}},"400":{"description":"Invalid tag value"}},"security":[{"petstore_auth":["write:pets","read:pets"]}],"deprecated":true}},"/pet/{petId}":{"get":{"tags":["pet"],"summary":"Find pet by ID","description":"Returns a single pet","operationId":"getPetById","produces":["application/json","application/xml"],"parameters":[{"name":"petId","in":"path","description":"ID of pet to return","required":true,"type":"integer","format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Pet"}},"400":{"description":"Invalid ID supplied"},"404":{"description":"Pet not found"}},"security":[{"api_key":[]}]},"post":{"tags":["pet"],"summary":"Updates a pet in the store with form data","description":"","operationId":"updatePetWithForm","consumes":["application/x-www-form-urlencoded"],"produces":["application/json","application/xml"],"parameters":[{"name":"petId","in":"path","description":"ID of pet that needs to be updated","required":true,"type":"integer","format":"int64"},{"name":"name","in":"formData","description":"Updated name of the pet","required":false,"type":"string"},{"name":"status","in":"formData","description":"Updated status of the pet","required":false,"type":"string"}],"responses":{"405":{"description":"Invalid input"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]},"delete":{"tags":["pet"],"summary":"Deletes a pet","description":"","operationId":"deletePet","produces":["application/json","application/xml"],"parameters":[{"name":"api_key","in":"header","required":false,"type":"string"},{"name":"petId","in":"path","description":"Pet id to delete","required":true,"type":"integer","format":"int64"}],"responses":{"400":{"description":"Invalid ID supplied"},"404":{"description":"Pet not found"}},"security":[{"petstore_auth":["write:pets","read:pets"]}]}},"/store/order":{"post":{"tags":["store"],"summary":"Place an order for a pet","description":"","operationId":"placeOrder","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"order placed for purchasing the pet","required":true,"schema":{"$ref":"#/definitions/Order"}}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Order"}},"400":{"description":"Invalid Order"}}}},"/store/order/{orderId}":{"get":{"tags":["store"],"summary":"Find purchase order by ID","description":"For valid response try integer IDs with value >= 1 and <= 10. Other values will generated exceptions","operationId":"getOrderById","produces":["application/json","application/xml"],"parameters":[{"name":"orderId","in":"path","description":"ID of pet that needs to be fetched","required":true,"type":"integer","maximum":10,"minimum":1,"format":"int64"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/Order"}},"400":{"description":"Invalid ID supplied"},"404":{"description":"Order not found"}}},"delete":{"tags":["store"],"summary":"Delete purchase order by ID","description":"For valid response try integer IDs with positive integer value. Negative or non-integer values will generate API errors","operationId":"deleteOrder","produces":["application/json","application/xml"],"parameters":[{"name":"orderId","in":"path","description":"ID of the order that needs to be deleted","required":true,"type":"integer","minimum":1,"format":"int64"}],"responses":{"400":{"description":"Invalid ID supplied"},"404":{"description":"Order not found"}}}},"/store/inventory":{"get":{"tags":["store"],"summary":"Returns pet inventories by status","description":"Returns a map of status codes to quantities","operationId":"getInventory","produces":["application/json"],"parameters":[],"responses":{"200":{"description":"successful operation","schema":{"type":"object","additionalProperties":{"type":"integer","format":"int32"}}}},"security":[{"api_key":[]}]}},"/user/createWithArray":{"post":{"tags":["user"],"summary":"Creates list of users with given input array","description":"","operationId":"createUsersWithArrayInput","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"List of user object","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/User"}}}],"responses":{"default":{"description":"successful operation"}}}},"/user/createWithList":{"post":{"tags":["user"],"summary":"Creates list of users with given input array","description":"","operationId":"createUsersWithListInput","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"List of user object","required":true,"schema":{"type":"array","items":{"$ref":"#/definitions/User"}}}],"responses":{"default":{"description":"successful operation"}}}},"/user/{username}":{"get":{"tags":["user"],"summary":"Get user by user name","description":"","operationId":"getUserByName","produces":["application/json","application/xml"],"parameters":[{"name":"username","in":"path","description":"The name that needs to be fetched. Use user1 for testing. ","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","schema":{"$ref":"#/definitions/User"}},"400":{"description":"Invalid username supplied"},"404":{"description":"User not found"}}},"put":{"tags":["user"],"summary":"Updated user","description":"This can only be done by the logged in user.","operationId":"updateUser","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"name":"username","in":"path","description":"name that need to be updated","required":true,"type":"string"},{"in":"body","name":"body","description":"Updated user object","required":true,"schema":{"$ref":"#/definitions/User"}}],"responses":{"400":{"description":"Invalid user supplied"},"404":{"description":"User not found"}}},"delete":{"tags":["user"],"summary":"Delete user","description":"This can only be done by the logged in user.","operationId":"deleteUser","produces":["application/json","application/xml"],"parameters":[{"name":"username","in":"path","description":"The name that needs to be deleted","required":true,"type":"string"}],"responses":{"400":{"description":"Invalid username supplied"},"404":{"description":"User not found"}}}},"/user/login":{"get":{"tags":["user"],"summary":"Logs user into the system","description":"","operationId":"loginUser","produces":["application/json","application/xml"],"parameters":[{"name":"username","in":"query","description":"The user name for login","required":true,"type":"string"},{"name":"password","in":"query","description":"The password for login in clear text","required":true,"type":"string"}],"responses":{"200":{"description":"successful operation","headers":{"X-Expires-After":{"type":"string","format":"date-time","description":"date in UTC when token expires"},"X-Rate-Limit":{"type":"integer","format":"int32","description":"calls per hour allowed by the user"}},"schema":{"type":"string"}},"400":{"description":"Invalid username/password supplied"}}}},"/user/logout":{"get":{"tags":["user"],"summary":"Logs out current logged in user session","description":"","operationId":"logoutUser","produces":["application/json","application/xml"],"parameters":[],"responses":{"default":{"description":"successful operation"}}}},"/user":{"post":{"tags":["user"],"summary":"Create user","description":"This can only be done by the logged in user.","operationId":"createUser","consumes":["application/json"],"produces":["application/json","application/xml"],"parameters":[{"in":"body","name":"body","description":"Created user object","required":true,"schema":{"$ref":"#/definitions/User"}}],"responses":{"default":{"description":"successful operation"}}}}},"securityDefinitions":{"api_key":{"type":"apiKey","name":"api_key","in":"header"},"petstore_auth":{"type":"oauth2","authorizationUrl":"https://petstore.swagger.io/oauth/authorize","flow":"implicit","scopes":{"read:pets":"read your pets","write:pets":"modify pets in your account"}}},"definitions":{"ApiResponse":{"type":"object","properties":{"code":{"type":"integer","format":"int32"},"type":{"type":"string"},"message":{"type":"string"}}},"Category":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}},"xml":{"name":"Category"}},"Pet":{"type":"object","required":["name","photoUrls"],"properties":{"id":{"type":"integer","format":"int64"},"category":{"$ref":"#/definitions/Category"},"name":{"type":"string","example":"doggie"},"photoUrls":{"type":"array","xml":{"wrapped":true},"items":{"type":"string","xml":{"name":"photoUrl"}}},"tags":{"type":"array","xml":{"wrapped":true},"items":{"xml":{"name":"tag"},"$ref":"#/definitions/Tag"}},"status":{"type":"string","description":"pet status in the store","enum":["available","pending","sold"]}},"xml":{"name":"Pet"}},"Tag":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"name":{"type":"string"}},"xml":{"name":"Tag"}},"Order":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"petId":{"type":"integer","format":"int64"},"quantity":{"type":"integer","format":"int32"},"shipDate":{"type":"string","format":"date-time"},"status":{"type":"string","description":"Order Status","enum":["placed","approved","delivered"]},"complete":{"type":"boolean"}},"xml":{"name":"Order"}},"User":{"type":"object","properties":{"id":{"type":"integer","format":"int64"},"username":{"type":"string"},"firstName":{"type":"string"},"lastName":{"type":"string"},"email":{"type":"string"},"password":{"type":"string"},"phone":{"type":"string"},"userStatus":{"type":"integer","format":"int32","description":"User Status"}},"xml":{"name":"User"}}},"externalDocs":{"description":"Find out more about Swagger","url":"http://swagger.io"}}');var L=[{id:"openapi_3_blank",name:"Blank API",content:{contentType:o.b.APPLICATION_JSON,data:T}},{id:"openapi_3_petstore",name:"Pet Store Example",content:{contentType:o.b.APPLICATION_JSON,data:R}},{id:"openapi_3_uspto",name:"USPTO Dataset API",content:{contentType:o.b.APPLICATION_JSON,data:C}}],k=[{id:"openapi_2_blank",name:"Blank API",content:{contentType:o.b.APPLICATION_JSON,data:w}},{id:"openapi_2_petstore",name:"Pet Store Example",content:{contentType:o.b.APPLICATION_JSON,data:x}}];const D=JSON.parse('{"$id":"https://example.com/blank.schema.json","$schema":"http://json-schema.org/design-07/schema#","title":"$NAME","description":"$SUMMARY","type":"object","properties":{}}');var U=[{id:"json_blank",name:"Blank JSON Schema",content:{contentType:o.b.APPLICATION_JSON,data:D}}];const F=JSON.parse('{"type":"record","name":"$NAME","fields":[{"name":"something","type":"string"}]}');var _=[{id:"avro_blank",name:"Blank Avro Schema",content:{contentType:o.b.APPLICATION_JSON,data:F}}];const M=JSON.parse('{"X":"syntax = \\"proto2\\";\\n\\nmessage Example {\\n  required string name = 1;\\n}\\n"}');var B=[{id:"protobuf_blank",name:"Blank Protobuf Schema",content:{contentType:o.b.APPLICATION_PROTOBUF,data:M.X}}];function j(e,t){return(0,a.mG)(this,void 0,Promise,(function(){return(0,a.Jh)(this,(function(n){return e===o.R.AVRO?[2,Promise.resolve(_)]:e===o.R.PROTOBUF?[2,Promise.resolve(B)]:e===o.R.JSON?[2,Promise.resolve(U)]:e===o.R.ASYNCAPI?[2,Promise.resolve(N)]:e===o.R.OPENAPI?t&&t.startsWith("3")?[2,Promise.resolve(L)]:[2,Promise.resolve(k)]:[2,Promise.reject("No templates found for type ".concat(e," and version ").concat(t,"."))]}))}))}var q=function(){return{getTemplatesFor:j}};function G(e,t,n){return(0,a.mG)(this,void 0,Promise,(function(){var r,i,o,s;return(0,a.Jh)(this,(function(a){return console.info("[DownloadService] Downloading a design."),void 0!==(r=window).chrome?(i=document.createElement("a"),o=new Blob([e],{type:t}),i.href=r.URL.createObjectURL(o),i.download=n,i.click()):void 0!==r.navigator&&void 0!==r.navigator.msSaveBlob?(o=new Blob([e],{type:t}),r.navigator.msSaveBlob(o,n)):(s=new File([e],n,{type:"application/force-download"}),r.open(URL.createObjectURL(s))),[2]}))}))}var J=function(){return{downloadToFS:G}};function $(e){return(0,a.mG)(this,void 0,Promise,(function(){var t,n;return(0,a.Jh)(this,(function(r){return console.info("[UrlService] Fetching content from a URL: ",e),t=e,(n=(0,c.JD)({Accept:"*"})).maxContentLength="5242880",n.responseType="text",n.transformResponse=function(e){return e},[2,(0,c.kA)(t,n)]}))}))}var V=function(){return{fetchUrlContent:$}};function X(e,t){console.info("[LocalStorageService] Setting config property ".concat(e," to value ").concat(t,".")),localStorage.setItem("apicurio-studio."+e,t)}function z(e,t){console.info("[LocalStorageService] Getting config property ".concat(e));var n=localStorage.getItem("apicurio-studio."+e);return null!==n?n:t}var H=function(){return{setConfigProperty:X,getConfigProperty:z}}},89003:(e,t,n)=>{n.d(t,{D:()=>l});var r=n(70655),a=n(86210),i=n(59823),o=[{id:"1",name:"Local Registry 1 (localhost:8081)",registryUrl:"http://localhost:8081/",status:"ready",created_at:"2022-01-01T12:00:00Z",updated_at:"2022-01-01T12:00:00Z",instance_type:"standard"},{id:"2",name:"Local Registry 2 (localhost:8082)",registryUrl:"http://localhost:8082/",status:"ready",created_at:"2022-01-01T12:00:00Z",updated_at:"2022-01-01T12:00:00Z",instance_type:"standard"}],s=[{id:"101",name:"Operate First Registry 1",registryUrl:"http://apicurio-registry-mem-one.apps.smaug.na.operate-first.cloud/",status:"ready",created_at:"2022-01-01T12:00:00Z",updated_at:"2022-01-01T12:00:00Z",instance_type:"standard"},{id:"201",name:"Operate First Registry 2",registryUrl:"http://apicurio-registry-mem-two.apps.smaug.na.operate-first.cloud/",status:"ready",created_at:"2022-01-01T12:00:00Z",updated_at:"2022-01-01T12:00:00Z",instance_type:"standard"}];function c(e){return{getRegistries:function(){return Promise.resolve(e)},getRegistry:function(t){var n=e.filter((function(e){return e.id===t}));return n&&n.length>0?Promise.resolve(n[0]):Promise.resolve({})}}}var l=function(){var e=(0,i.useAuth)(),t=(0,i.useConfig)();return t.srs.apiBasePath&&t.srs.apiBasePath.startsWith("local-mock")?(console.warn("[RhosrService] RHOSR mocking enabled."),c(o)):t.srs.apiBasePath&&t.srs.apiBasePath.startsWith("operate-first-mock")?(console.warn("[RhosrService] RHOSR mocking enabled (Operate First)."),c(s)):{getRegistries:function(){return function(e,t){return(0,r.mG)(this,void 0,Promise,(function(){var n,i;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return console.debug("[RhosrService] Getting a list of registries from: ",t),(null==e?void 0:e.srs)?[4,null==e?void 0:e.srs.getToken()]:[3,2];case 1:return i=r.sent(),[3,3];case 2:i="",r.label=3;case 3:return n=i,[2,new a.RegistriesApi(new a.Configuration({accessToken:n,basePath:t})).getRegistries().then((function(e){return(null==e?void 0:e.data).items}))]}}))}))}(e,t.srs.apiBasePath)},getRegistry:function(n){return function(e,t,n){return(0,r.mG)(this,void 0,Promise,(function(){var i,o;return(0,r.Jh)(this,(function(r){switch(r.label){case 0:return console.debug("[RhosrService] Getting a single registry from: ",n),(null==t?void 0:t.srs)?[4,null==t?void 0:t.srs.getToken()]:[3,2];case 1:return o=r.sent(),[3,3];case 2:o="",r.label=3;case 3:return i=o,[2,new a.RegistriesApi(new a.Configuration({accessToken:i,basePath:n})).getRegistry(e).then((function(e){return null==e?void 0:e.data}))]}}))}))}(n,e,t.srs.apiBasePath)}}}},78788:(e,t,n)=>{function r(e){return JSON.parse(JSON.stringify(e))}function a(e,t,n){Object.keys(e).forEach((function(r){var i=e[r];"object"==typeof i?a(i,t,n):i===t&&(e[r]=n)}))}n.d(t,{kI:()=>r,EC:()=>S,JD:()=>i.JD,Ft:()=>b,Ah:()=>A,ed:()=>P,kA:()=>i.kA,sO:()=>d,jf:()=>E,Ic:()=>v,Rz:()=>h,lF:()=>I,Cx:()=>m,Mo:()=>u,x1:()=>f,pc:()=>a,LQ:()=>p,vo:()=>g});var i=n(5606),o=n(64724),s=n.n(o),c=n(11515),l=n(74515);function d(e){try{return JSON.parse(e),!0}catch(e){return!1}}function u(e){return JSON.parse(e)}function p(e){return JSON.stringify(e,null,4)}function m(e){try{if("object"==typeof s().parse(e))return!0}catch(e){}return!1}function f(e){return s().parse(e)}function g(e){return s().stringify(e,null,4)}function h(e){try{return!(0!==(new DOMParser).parseFromString(e,"application/xml").getElementsByTagName("parsererror").length)}catch(e){return!1}}function y(e,t,n){try{var r=(new DOMParser).parseFromString(e,"application/xml");return!(0!==r.getElementsByTagName("parsererror").length)&&r.documentElement.namespaceURI===t&&r.documentElement.localName===n}catch(e){return!1}}function v(e){return y(e,"http://schemas.xmlsoap.org/wsdl/","definitions")}function I(e){return y(e,"http://www.w3.org/2001/XMLSchema","schema")}function E(e){try{(0,c.parse)(e);return!0}catch(e){return!1}}function b(e,t){var n;if(e.contexts){var r=e.contexts.filter((function(e){return"file"===e.type}));if(r.length>0){var a=null===(n=r[0].file)||void 0===n?void 0:n.fileName;if(a.indexOf(".")>0){var i=a.split(".");return i[i.length-1]}}}return e.type===l.R.PROTOBUF?"proto":e.type===l.R.WSDL?"wsdl":e.type===l.R.XSD?"xsd":e.type===l.R.XML?"xml":e.type===l.R.GRAPHQL?"graphql":t.contentType&&t.contentType===l.b.APPLICATION_JSON?"json":t.contentType&&t.contentType===l.b.APPLICATION_YAML?"yaml":"txt"}function S(e,t){return t.contentType?t.contentType:e.type===l.R.PROTOBUF?l.b.APPLICATION_PROTOBUF:e.type===l.R.WSDL?l.b.APPLICATION_WSDL:e.type===l.R.XSD||e.type===l.R.XML?l.b.TEXT_XML:e.type===l.R.GRAPHQL?l.b.APPLICATION_GRAPHQL:l.b.APPLICATION_JSON}function P(e,t){return!!e.contexts&&e.contexts.filter((function(e){return e.type===t})).length>0}function A(e,t){return e.contexts?e.contexts.filter((function(e){return e.type===t})):[]}},5606:(e,t,n)=>{n.d(t,{JD:()=>d,Ot:()=>p,ax:()=>m,dg:()=>l,kA:()=>u});var r=n(70655),a=n(57814),i=n(9669),o=n.n(i)().create();function s(e,t,n,a){return"string"==typeof a&&(a=new Blob([a])),(0,r.pi)({data:a,method:e,url:t,validateStatus:function(e){return e>=200&&e<300}},n)}function c(e){return console.debug("Error detected, unwrapping..."),e&&e.response&&e.response.data?(0,r.pi)((0,r.pi)({message:e.message},e.response.data),{status:e.response.status}):e&&e.response?{message:e.message,status:e.response.status}:e?(console.error("Unknown error detected: ",e),{message:e.message,status:500}):(console.error("Unknown error detected: ",e),{message:"Unknown error",status:500})}function l(e,t,n,r){n&&Object.keys(n).forEach((function(e){var r=encodeURIComponent(n[e]);t=t.replace(":"+e,r)}));var a=m(e,t);if(r){var i=!0;for(var o in r)if(r[o]){var s=encodeURIComponent(r[o]);a=i?a+"?"+o:a+"&"+o,null!=s&&(a=a+"="+s),i=!1}}return a}function d(e){return{headers:e}}function u(e,t,n){console.info("[BaseService] Making a GET request to: ",e),t||(t=d({Accept:a.b.APPLICATION_JSON}));var r=s("get",e,t);return o.request(r).then((function(e){var t=e.data;return n?n(t):t})).catch((function(e){return Promise.reject(c(e))}))}function p(e,t,n,r){console.info("[BaseService] Making a POST request to: ",e),n||(n=d({Accept:a.b.APPLICATION_JSON,"Content-Type":a.b.APPLICATION_JSON}));var i=s("post",e,n,t);return o.request(i).then((function(e){var t=e.data;return r?r(t):t})).catch((function(e){return Promise.reject(c(e))}))}function m(e,t){var n=e;return n.endsWith("/")&&(n=n.substring(0,n.length-1)),n+=t}}}]);
